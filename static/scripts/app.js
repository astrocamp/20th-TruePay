function _mergeNamespaces(n,i){for(var s=0;s<i.length;s++){const c=i[s];if(typeof c!="string"&&!Array.isArray(c)){for(const f in c)if(f!=="default"&&!(f in n)){const d=Object.getOwnPropertyDescriptor(c,f);d&&Object.defineProperty(n,f,d.get?d:{enumerable:!0,get:()=>c[f]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}var flushPending=!1,flushing=!1,queue=[],lastFlushedIndex=-1;function scheduler(n){queueJob(n)}function queueJob(n){queue.includes(n)||queue.push(n),queueFlush()}function dequeueJob(n){let i=queue.indexOf(n);i!==-1&&i>lastFlushedIndex&&queue.splice(i,1)}function queueFlush(){!flushing&&!flushPending&&(flushPending=!0,queueMicrotask(flushJobs))}function flushJobs(){flushPending=!1,flushing=!0;for(let n=0;n<queue.length;n++)queue[n](),lastFlushedIndex=n;queue.length=0,lastFlushedIndex=-1,flushing=!1}var reactive,effect,release,raw,shouldSchedule=!0;function disableEffectScheduling(n){shouldSchedule=!1,n(),shouldSchedule=!0}function setReactivityEngine(n){reactive=n.reactive,release=n.release,effect=i=>n.effect(i,{scheduler:s=>{shouldSchedule?scheduler(s):s()}}),raw=n.raw}function overrideEffect(n){effect=n}function elementBoundEffect(n){let i=()=>{};return[c=>{let f=effect(c);return n._x_effects||(n._x_effects=new Set,n._x_runEffects=()=>{n._x_effects.forEach(d=>d())}),n._x_effects.add(f),i=()=>{f!==void 0&&(n._x_effects.delete(f),release(f))},f},()=>{i()}]}function watch(n,i){let s=!0,c,f=effect(()=>{let d=n();JSON.stringify(d),s?c=d:queueMicrotask(()=>{i(d,c),c=d}),s=!1});return()=>release(f)}var onAttributeAddeds=[],onElRemoveds=[],onElAddeds=[];function onElAdded(n){onElAddeds.push(n)}function onElRemoved(n,i){typeof i=="function"?(n._x_cleanups||(n._x_cleanups=[]),n._x_cleanups.push(i)):(i=n,onElRemoveds.push(i))}function onAttributesAdded(n){onAttributeAddeds.push(n)}function onAttributeRemoved(n,i,s){n._x_attributeCleanups||(n._x_attributeCleanups={}),n._x_attributeCleanups[i]||(n._x_attributeCleanups[i]=[]),n._x_attributeCleanups[i].push(s)}function cleanupAttributes(n,i){n._x_attributeCleanups&&Object.entries(n._x_attributeCleanups).forEach(([s,c])=>{(i===void 0||i.includes(s))&&(c.forEach(f=>f()),delete n._x_attributeCleanups[s])})}function cleanupElement(n){for(n._x_effects?.forEach(dequeueJob);n._x_cleanups?.length;)n._x_cleanups.pop()()}var observer=new MutationObserver(onMutate),currentlyObserving=!1;function startObservingMutations(){observer.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),currentlyObserving=!0}function stopObservingMutations(){flushObserver(),observer.disconnect(),currentlyObserving=!1}var queuedMutations=[];function flushObserver(){let n=observer.takeRecords();queuedMutations.push(()=>n.length>0&&onMutate(n));let i=queuedMutations.length;queueMicrotask(()=>{if(queuedMutations.length===i)for(;queuedMutations.length>0;)queuedMutations.shift()()})}function mutateDom(n){if(!currentlyObserving)return n();stopObservingMutations();let i=n();return startObservingMutations(),i}var isCollecting=!1,deferredMutations=[];function deferMutations(){isCollecting=!0}function flushAndStopDeferringMutations(){isCollecting=!1,onMutate(deferredMutations),deferredMutations=[]}function onMutate(n){if(isCollecting){deferredMutations=deferredMutations.concat(n);return}let i=[],s=new Set,c=new Map,f=new Map;for(let d=0;d<n.length;d++)if(!n[d].target._x_ignoreMutationObserver&&(n[d].type==="childList"&&(n[d].removedNodes.forEach(h=>{h.nodeType===1&&h._x_marker&&s.add(h)}),n[d].addedNodes.forEach(h=>{if(h.nodeType===1){if(s.has(h)){s.delete(h);return}h._x_marker||i.push(h)}})),n[d].type==="attributes")){let h=n[d].target,m=n[d].attributeName,D=n[d].oldValue,A=()=>{c.has(h)||c.set(h,[]),c.get(h).push({name:m,value:h.getAttribute(m)})},p=()=>{f.has(h)||f.set(h,[]),f.get(h).push(m)};h.hasAttribute(m)&&D===null?A():h.hasAttribute(m)?(p(),A()):p()}f.forEach((d,h)=>{cleanupAttributes(h,d)}),c.forEach((d,h)=>{onAttributeAddeds.forEach(m=>m(h,d))});for(let d of s)i.some(h=>h.contains(d))||onElRemoveds.forEach(h=>h(d));for(let d of i)d.isConnected&&onElAddeds.forEach(h=>h(d));i=null,s=null,c=null,f=null}function scope(n){return mergeProxies(closestDataStack(n))}function addScopeToNode(n,i,s){return n._x_dataStack=[i,...closestDataStack(s||n)],()=>{n._x_dataStack=n._x_dataStack.filter(c=>c!==i)}}function closestDataStack(n){return n._x_dataStack?n._x_dataStack:typeof ShadowRoot=="function"&&n instanceof ShadowRoot?closestDataStack(n.host):n.parentNode?closestDataStack(n.parentNode):[]}function mergeProxies(n){return new Proxy({objects:n},mergeProxyTrap)}var mergeProxyTrap={ownKeys({objects:n}){return Array.from(new Set(n.flatMap(i=>Object.keys(i))))},has({objects:n},i){return i==Symbol.unscopables?!1:n.some(s=>Object.prototype.hasOwnProperty.call(s,i)||Reflect.has(s,i))},get({objects:n},i,s){return i=="toJSON"?collapseProxies:Reflect.get(n.find(c=>Reflect.has(c,i))||{},i,s)},set({objects:n},i,s,c){const f=n.find(h=>Object.prototype.hasOwnProperty.call(h,i))||n[n.length-1],d=Object.getOwnPropertyDescriptor(f,i);return d?.set&&d?.get?d.set.call(c,s)||!0:Reflect.set(f,i,s)}};function collapseProxies(){return Reflect.ownKeys(this).reduce((i,s)=>(i[s]=Reflect.get(this,s),i),{})}function initInterceptors(n){let i=c=>typeof c=="object"&&!Array.isArray(c)&&c!==null,s=(c,f="")=>{Object.entries(Object.getOwnPropertyDescriptors(c)).forEach(([d,{value:h,enumerable:m}])=>{if(m===!1||h===void 0||typeof h=="object"&&h!==null&&h.__v_skip)return;let D=f===""?d:`${f}.${d}`;typeof h=="object"&&h!==null&&h._x_interceptor?c[d]=h.initialize(n,D,d):i(h)&&h!==c&&!(h instanceof Element)&&s(h,D)})};return s(n)}function interceptor(n,i=()=>{}){let s={initialValue:void 0,_x_interceptor:!0,initialize(c,f,d){return n(this.initialValue,()=>get(c,f),h=>set(c,f,h),f,d)}};return i(s),c=>{if(typeof c=="object"&&c!==null&&c._x_interceptor){let f=s.initialize.bind(s);s.initialize=(d,h,m)=>{let D=c.initialize(d,h,m);return s.initialValue=D,f(d,h,m)}}else s.initialValue=c;return s}}function get(n,i){return i.split(".").reduce((s,c)=>s[c],n)}function set(n,i,s){if(typeof i=="string"&&(i=i.split(".")),i.length===1)n[i[0]]=s;else{if(i.length===0)throw error;return n[i[0]]||(n[i[0]]={}),set(n[i[0]],i.slice(1),s)}}var magics={};function magic(n,i){magics[n]=i}function injectMagics(n,i){let s=getUtilities(i);return Object.entries(magics).forEach(([c,f])=>{Object.defineProperty(n,`$${c}`,{get(){return f(i,s)},enumerable:!1})}),n}function getUtilities(n){let[i,s]=getElementBoundUtilities(n),c={interceptor,...i};return onElRemoved(n,s),c}function tryCatch(n,i,s,...c){try{return s(...c)}catch(f){handleError(f,n,i)}}function handleError(n,i,s=void 0){n=Object.assign(n??{message:"No error message given."},{el:i,expression:s}),console.warn(`Alpine Expression Error: ${n.message}

${s?'Expression: "'+s+`"

`:""}`,i),setTimeout(()=>{throw n},0)}var shouldAutoEvaluateFunctions=!0;function dontAutoEvaluateFunctions(n){let i=shouldAutoEvaluateFunctions;shouldAutoEvaluateFunctions=!1;let s=n();return shouldAutoEvaluateFunctions=i,s}function evaluate(n,i,s={}){let c;return evaluateLater(n,i)(f=>c=f,s),c}function evaluateLater(...n){return theEvaluatorFunction(...n)}var theEvaluatorFunction=normalEvaluator;function setEvaluator(n){theEvaluatorFunction=n}function normalEvaluator(n,i){let s={};injectMagics(s,n);let c=[s,...closestDataStack(n)],f=typeof i=="function"?generateEvaluatorFromFunction(c,i):generateEvaluatorFromString(c,i,n);return tryCatch.bind(null,n,i,f)}function generateEvaluatorFromFunction(n,i){return(s=()=>{},{scope:c={},params:f=[]}={})=>{let d=i.apply(mergeProxies([c,...n]),f);runIfTypeOfFunction(s,d)}}var evaluatorMemo={};function generateFunctionFromString(n,i){if(evaluatorMemo[n])return evaluatorMemo[n];let s=Object.getPrototypeOf(async function(){}).constructor,c=/^[\n\s]*if.*\(.*\)/.test(n.trim())||/^(let|const)\s/.test(n.trim())?`(async()=>{ ${n} })()`:n,d=(()=>{try{let h=new s(["__self","scope"],`with (scope) { __self.result = ${c} }; __self.finished = true; return __self.result;`);return Object.defineProperty(h,"name",{value:`[Alpine] ${n}`}),h}catch(h){return handleError(h,i,n),Promise.resolve()}})();return evaluatorMemo[n]=d,d}function generateEvaluatorFromString(n,i,s){let c=generateFunctionFromString(i,s);return(f=()=>{},{scope:d={},params:h=[]}={})=>{c.result=void 0,c.finished=!1;let m=mergeProxies([d,...n]);if(typeof c=="function"){let D=c(c,m).catch(A=>handleError(A,s,i));c.finished?(runIfTypeOfFunction(f,c.result,m,h,s),c.result=void 0):D.then(A=>{runIfTypeOfFunction(f,A,m,h,s)}).catch(A=>handleError(A,s,i)).finally(()=>c.result=void 0)}}}function runIfTypeOfFunction(n,i,s,c,f){if(shouldAutoEvaluateFunctions&&typeof i=="function"){let d=i.apply(s,c);d instanceof Promise?d.then(h=>runIfTypeOfFunction(n,h,s,c)).catch(h=>handleError(h,f,i)):n(d)}else typeof i=="object"&&i instanceof Promise?i.then(d=>n(d)):n(i)}var prefixAsString="x-";function prefix(n=""){return prefixAsString+n}function setPrefix(n){prefixAsString=n}var directiveHandlers={};function directive(n,i){return directiveHandlers[n]=i,{before(s){if(!directiveHandlers[s]){console.warn(String.raw`Cannot find directive \`${s}\`. \`${n}\` will use the default order of execution`);return}const c=directiveOrder.indexOf(s);directiveOrder.splice(c>=0?c:directiveOrder.indexOf("DEFAULT"),0,n)}}}function directiveExists(n){return Object.keys(directiveHandlers).includes(n)}function directives(n,i,s){if(i=Array.from(i),n._x_virtualDirectives){let d=Object.entries(n._x_virtualDirectives).map(([m,D])=>({name:m,value:D})),h=attributesOnly(d);d=d.map(m=>h.find(D=>D.name===m.name)?{name:`x-bind:${m.name}`,value:`"${m.value}"`}:m),i=i.concat(d)}let c={};return i.map(toTransformedAttributes((d,h)=>c[d]=h)).filter(outNonAlpineAttributes).map(toParsedDirectives(c,s)).sort(byPriority).map(d=>getDirectiveHandler(n,d))}function attributesOnly(n){return Array.from(n).map(toTransformedAttributes()).filter(i=>!outNonAlpineAttributes(i))}var isDeferringHandlers=!1,directiveHandlerStacks=new Map,currentHandlerStackKey=Symbol();function deferHandlingDirectives(n){isDeferringHandlers=!0;let i=Symbol();currentHandlerStackKey=i,directiveHandlerStacks.set(i,[]);let s=()=>{for(;directiveHandlerStacks.get(i).length;)directiveHandlerStacks.get(i).shift()();directiveHandlerStacks.delete(i)},c=()=>{isDeferringHandlers=!1,s()};n(s),c()}function getElementBoundUtilities(n){let i=[],s=m=>i.push(m),[c,f]=elementBoundEffect(n);return i.push(f),[{Alpine:alpine_default,effect:c,cleanup:s,evaluateLater:evaluateLater.bind(evaluateLater,n),evaluate:evaluate.bind(evaluate,n)},()=>i.forEach(m=>m())]}function getDirectiveHandler(n,i){let s=()=>{},c=directiveHandlers[i.type]||s,[f,d]=getElementBoundUtilities(n);onAttributeRemoved(n,i.original,d);let h=()=>{n._x_ignore||n._x_ignoreSelf||(c.inline&&c.inline(n,i,f),c=c.bind(c,n,i,f),isDeferringHandlers?directiveHandlerStacks.get(currentHandlerStackKey).push(c):c())};return h.runCleanups=d,h}var startingWith=(n,i)=>({name:s,value:c})=>(s.startsWith(n)&&(s=s.replace(n,i)),{name:s,value:c}),into=n=>n;function toTransformedAttributes(n=()=>{}){return({name:i,value:s})=>{let{name:c,value:f}=attributeTransformers.reduce((d,h)=>h(d),{name:i,value:s});return c!==i&&n(c,i),{name:c,value:f}}}var attributeTransformers=[];function mapAttributes(n){attributeTransformers.push(n)}function outNonAlpineAttributes({name:n}){return alpineAttributeRegex().test(n)}var alpineAttributeRegex=()=>new RegExp(`^${prefixAsString}([^:^.]+)\\b`);function toParsedDirectives(n,i){return({name:s,value:c})=>{let f=s.match(alpineAttributeRegex()),d=s.match(/:([a-zA-Z0-9\-_:]+)/),h=s.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],m=i||n[s]||s;return{type:f?f[1]:null,value:d?d[1]:null,modifiers:h.map(D=>D.replace(".","")),expression:c,original:m}}}var DEFAULT="DEFAULT",directiveOrder=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",DEFAULT,"teleport"];function byPriority(n,i){let s=directiveOrder.indexOf(n.type)===-1?DEFAULT:n.type,c=directiveOrder.indexOf(i.type)===-1?DEFAULT:i.type;return directiveOrder.indexOf(s)-directiveOrder.indexOf(c)}function dispatch(n,i,s={}){n.dispatchEvent(new CustomEvent(i,{detail:s,bubbles:!0,composed:!0,cancelable:!0}))}function walk(n,i){if(typeof ShadowRoot=="function"&&n instanceof ShadowRoot){Array.from(n.children).forEach(f=>walk(f,i));return}let s=!1;if(i(n,()=>s=!0),s)return;let c=n.firstElementChild;for(;c;)walk(c,i),c=c.nextElementSibling}function warn(n,...i){console.warn(`Alpine Warning: ${n}`,...i)}var started=!1;function start(){started&&warn("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),started=!0,document.body||warn("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),dispatch(document,"alpine:init"),dispatch(document,"alpine:initializing"),startObservingMutations(),onElAdded(i=>initTree(i,walk)),onElRemoved(i=>destroyTree(i)),onAttributesAdded((i,s)=>{directives(i,s).forEach(c=>c())});let n=i=>!closestRoot(i.parentElement,!0);Array.from(document.querySelectorAll(allSelectors().join(","))).filter(n).forEach(i=>{initTree(i)}),dispatch(document,"alpine:initialized"),setTimeout(()=>{warnAboutMissingPlugins()})}var rootSelectorCallbacks=[],initSelectorCallbacks=[];function rootSelectors(){return rootSelectorCallbacks.map(n=>n())}function allSelectors(){return rootSelectorCallbacks.concat(initSelectorCallbacks).map(n=>n())}function addRootSelector(n){rootSelectorCallbacks.push(n)}function addInitSelector(n){initSelectorCallbacks.push(n)}function closestRoot(n,i=!1){return findClosest(n,s=>{if((i?allSelectors():rootSelectors()).some(f=>s.matches(f)))return!0})}function findClosest(n,i){if(n){if(i(n))return n;if(n._x_teleportBack&&(n=n._x_teleportBack),!!n.parentElement)return findClosest(n.parentElement,i)}}function isRoot(n){return rootSelectors().some(i=>n.matches(i))}var initInterceptors2=[];function interceptInit(n){initInterceptors2.push(n)}var markerDispenser=1;function initTree(n,i=walk,s=()=>{}){findClosest(n,c=>c._x_ignore)||deferHandlingDirectives(()=>{i(n,(c,f)=>{c._x_marker||(s(c,f),initInterceptors2.forEach(d=>d(c,f)),directives(c,c.attributes).forEach(d=>d()),c._x_ignore||(c._x_marker=markerDispenser++),c._x_ignore&&f())})})}function destroyTree(n,i=walk){i(n,s=>{cleanupElement(s),cleanupAttributes(s),delete s._x_marker})}function warnAboutMissingPlugins(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([i,s,c])=>{directiveExists(s)||c.some(f=>{if(document.querySelector(f))return warn(`found "${f}", but missing ${i} plugin`),!0})})}var tickStack=[],isHolding=!1;function nextTick(n=()=>{}){return queueMicrotask(()=>{isHolding||setTimeout(()=>{releaseNextTicks()})}),new Promise(i=>{tickStack.push(()=>{n(),i()})})}function releaseNextTicks(){for(isHolding=!1;tickStack.length;)tickStack.shift()()}function holdNextTicks(){isHolding=!0}function setClasses(n,i){return Array.isArray(i)?setClassesFromString(n,i.join(" ")):typeof i=="object"&&i!==null?setClassesFromObject(n,i):typeof i=="function"?setClasses(n,i()):setClassesFromString(n,i)}function setClassesFromString(n,i){let s=f=>f.split(" ").filter(d=>!n.classList.contains(d)).filter(Boolean),c=f=>(n.classList.add(...f),()=>{n.classList.remove(...f)});return i=i===!0?i="":i||"",c(s(i))}function setClassesFromObject(n,i){let s=m=>m.split(" ").filter(Boolean),c=Object.entries(i).flatMap(([m,D])=>D?s(m):!1).filter(Boolean),f=Object.entries(i).flatMap(([m,D])=>D?!1:s(m)).filter(Boolean),d=[],h=[];return f.forEach(m=>{n.classList.contains(m)&&(n.classList.remove(m),h.push(m))}),c.forEach(m=>{n.classList.contains(m)||(n.classList.add(m),d.push(m))}),()=>{h.forEach(m=>n.classList.add(m)),d.forEach(m=>n.classList.remove(m))}}function setStyles(n,i){return typeof i=="object"&&i!==null?setStylesFromObject(n,i):setStylesFromString(n,i)}function setStylesFromObject(n,i){let s={};return Object.entries(i).forEach(([c,f])=>{s[c]=n.style[c],c.startsWith("--")||(c=kebabCase(c)),n.style.setProperty(c,f)}),setTimeout(()=>{n.style.length===0&&n.removeAttribute("style")}),()=>{setStyles(n,s)}}function setStylesFromString(n,i){let s=n.getAttribute("style",i);return n.setAttribute("style",i),()=>{n.setAttribute("style",s||"")}}function kebabCase(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function once(n,i=()=>{}){let s=!1;return function(){s?i.apply(this,arguments):(s=!0,n.apply(this,arguments))}}directive("transition",(n,{value:i,modifiers:s,expression:c},{evaluate:f})=>{typeof c=="function"&&(c=f(c)),c!==!1&&(!c||typeof c=="boolean"?registerTransitionsFromHelper(n,s,i):registerTransitionsFromClassString(n,c,i))});function registerTransitionsFromClassString(n,i,s){registerTransitionObject(n,setClasses,""),{enter:f=>{n._x_transition.enter.during=f},"enter-start":f=>{n._x_transition.enter.start=f},"enter-end":f=>{n._x_transition.enter.end=f},leave:f=>{n._x_transition.leave.during=f},"leave-start":f=>{n._x_transition.leave.start=f},"leave-end":f=>{n._x_transition.leave.end=f}}[s](i)}function registerTransitionsFromHelper(n,i,s){registerTransitionObject(n,setStyles);let c=!i.includes("in")&&!i.includes("out")&&!s,f=c||i.includes("in")||["enter"].includes(s),d=c||i.includes("out")||["leave"].includes(s);i.includes("in")&&!c&&(i=i.filter((j,Y)=>Y<i.indexOf("out"))),i.includes("out")&&!c&&(i=i.filter((j,Y)=>Y>i.indexOf("out")));let h=!i.includes("opacity")&&!i.includes("scale"),m=h||i.includes("opacity"),D=h||i.includes("scale"),A=m?0:1,p=D?modifierValue(i,"scale",95)/100:1,w=modifierValue(i,"delay",0)/1e3,T=modifierValue(i,"origin","center"),L="opacity, transform",N=modifierValue(i,"duration",150)/1e3,G=modifierValue(i,"duration",75)/1e3,R="cubic-bezier(0.4, 0.0, 0.2, 1)";f&&(n._x_transition.enter.during={transformOrigin:T,transitionDelay:`${w}s`,transitionProperty:L,transitionDuration:`${N}s`,transitionTimingFunction:R},n._x_transition.enter.start={opacity:A,transform:`scale(${p})`},n._x_transition.enter.end={opacity:1,transform:"scale(1)"}),d&&(n._x_transition.leave.during={transformOrigin:T,transitionDelay:`${w}s`,transitionProperty:L,transitionDuration:`${G}s`,transitionTimingFunction:R},n._x_transition.leave.start={opacity:1,transform:"scale(1)"},n._x_transition.leave.end={opacity:A,transform:`scale(${p})`})}function registerTransitionObject(n,i,s={}){n._x_transition||(n._x_transition={enter:{during:s,start:s,end:s},leave:{during:s,start:s,end:s},in(c=()=>{},f=()=>{}){transition(n,i,{during:this.enter.during,start:this.enter.start,end:this.enter.end},c,f)},out(c=()=>{},f=()=>{}){transition(n,i,{during:this.leave.during,start:this.leave.start,end:this.leave.end},c,f)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(n,i,s,c){const f=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let d=()=>f(s);if(i){n._x_transition&&(n._x_transition.enter||n._x_transition.leave)?n._x_transition.enter&&(Object.entries(n._x_transition.enter.during).length||Object.entries(n._x_transition.enter.start).length||Object.entries(n._x_transition.enter.end).length)?n._x_transition.in(s):d():n._x_transition?n._x_transition.in(s):d();return}n._x_hidePromise=n._x_transition?new Promise((h,m)=>{n._x_transition.out(()=>{},()=>h(c)),n._x_transitioning&&n._x_transitioning.beforeCancel(()=>m({isFromCancelledTransition:!0}))}):Promise.resolve(c),queueMicrotask(()=>{let h=closestHide(n);h?(h._x_hideChildren||(h._x_hideChildren=[]),h._x_hideChildren.push(n)):f(()=>{let m=D=>{let A=Promise.all([D._x_hidePromise,...(D._x_hideChildren||[]).map(m)]).then(([p])=>p?.());return delete D._x_hidePromise,delete D._x_hideChildren,A};m(n).catch(D=>{if(!D.isFromCancelledTransition)throw D})})})};function closestHide(n){let i=n.parentNode;if(i)return i._x_hidePromise?i:closestHide(i)}function transition(n,i,{during:s,start:c,end:f}={},d=()=>{},h=()=>{}){if(n._x_transitioning&&n._x_transitioning.cancel(),Object.keys(s).length===0&&Object.keys(c).length===0&&Object.keys(f).length===0){d(),h();return}let m,D,A;performTransition(n,{start(){m=i(n,c)},during(){D=i(n,s)},before:d,end(){m(),A=i(n,f)},after:h,cleanup(){D(),A()}})}function performTransition(n,i){let s,c,f,d=once(()=>{mutateDom(()=>{s=!0,c||i.before(),f||(i.end(),releaseNextTicks()),i.after(),n.isConnected&&i.cleanup(),delete n._x_transitioning})});n._x_transitioning={beforeCancels:[],beforeCancel(h){this.beforeCancels.push(h)},cancel:once(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();d()}),finish:d},mutateDom(()=>{i.start(),i.during()}),holdNextTicks(),requestAnimationFrame(()=>{if(s)return;let h=Number(getComputedStyle(n).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,m=Number(getComputedStyle(n).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;h===0&&(h=Number(getComputedStyle(n).animationDuration.replace("s",""))*1e3),mutateDom(()=>{i.before()}),c=!0,requestAnimationFrame(()=>{s||(mutateDom(()=>{i.end()}),releaseNextTicks(),setTimeout(n._x_transitioning.finish,h+m),f=!0)})})}function modifierValue(n,i,s){if(n.indexOf(i)===-1)return s;const c=n[n.indexOf(i)+1];if(!c||i==="scale"&&isNaN(c))return s;if(i==="duration"||i==="delay"){let f=c.match(/([0-9]+)ms/);if(f)return f[1]}return i==="origin"&&["top","right","left","center","bottom"].includes(n[n.indexOf(i)+2])?[c,n[n.indexOf(i)+2]].join(" "):c}var isCloning=!1;function skipDuringClone(n,i=()=>{}){return(...s)=>isCloning?i(...s):n(...s)}function onlyDuringClone(n){return(...i)=>isCloning&&n(...i)}var interceptors=[];function interceptClone(n){interceptors.push(n)}function cloneNode(n,i){interceptors.forEach(s=>s(n,i)),isCloning=!0,dontRegisterReactiveSideEffects(()=>{initTree(i,(s,c)=>{c(s,()=>{})})}),isCloning=!1}var isCloningLegacy=!1;function clone(n,i){i._x_dataStack||(i._x_dataStack=n._x_dataStack),isCloning=!0,isCloningLegacy=!0,dontRegisterReactiveSideEffects(()=>{cloneTree(i)}),isCloning=!1,isCloningLegacy=!1}function cloneTree(n){let i=!1;initTree(n,(c,f)=>{walk(c,(d,h)=>{if(i&&isRoot(d))return h();i=!0,f(d,h)})})}function dontRegisterReactiveSideEffects(n){let i=effect;overrideEffect((s,c)=>{let f=i(s);return release(f),()=>{}}),n(),overrideEffect(i)}function bind(n,i,s,c=[]){switch(n._x_bindings||(n._x_bindings=reactive({})),n._x_bindings[i]=s,i=c.includes("camel")?camelCase(i):i,i){case"value":bindInputValue(n,s);break;case"style":bindStyles(n,s);break;case"class":bindClasses(n,s);break;case"selected":case"checked":bindAttributeAndProperty(n,i,s);break;default:bindAttribute(n,i,s);break}}function bindInputValue(n,i){if(isRadio(n))n.attributes.value===void 0&&(n.value=i),window.fromModel&&(typeof i=="boolean"?n.checked=safeParseBoolean(n.value)===i:n.checked=checkedAttrLooseCompare(n.value,i));else if(isCheckbox(n))Number.isInteger(i)?n.value=i:!Array.isArray(i)&&typeof i!="boolean"&&![null,void 0].includes(i)?n.value=String(i):Array.isArray(i)?n.checked=i.some(s=>checkedAttrLooseCompare(s,n.value)):n.checked=!!i;else if(n.tagName==="SELECT")updateSelect(n,i);else{if(n.value===i)return;n.value=i===void 0?"":i}}function bindClasses(n,i){n._x_undoAddedClasses&&n._x_undoAddedClasses(),n._x_undoAddedClasses=setClasses(n,i)}function bindStyles(n,i){n._x_undoAddedStyles&&n._x_undoAddedStyles(),n._x_undoAddedStyles=setStyles(n,i)}function bindAttributeAndProperty(n,i,s){bindAttribute(n,i,s),setPropertyIfChanged(n,i,s)}function bindAttribute(n,i,s){[null,void 0,!1].includes(s)&&attributeShouldntBePreservedIfFalsy(i)?n.removeAttribute(i):(isBooleanAttr(i)&&(s=i),setIfChanged(n,i,s))}function setIfChanged(n,i,s){n.getAttribute(i)!=s&&n.setAttribute(i,s)}function setPropertyIfChanged(n,i,s){n[i]!==s&&(n[i]=s)}function updateSelect(n,i){const s=[].concat(i).map(c=>c+"");Array.from(n.options).forEach(c=>{c.selected=s.includes(c.value)})}function camelCase(n){return n.toLowerCase().replace(/-(\w)/g,(i,s)=>s.toUpperCase())}function checkedAttrLooseCompare(n,i){return n==i}function safeParseBoolean(n){return[1,"1","true","on","yes",!0].includes(n)?!0:[0,"0","false","off","no",!1].includes(n)?!1:n?!!n:null}var booleanAttributes=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function isBooleanAttr(n){return booleanAttributes.has(n)}function attributeShouldntBePreservedIfFalsy(n){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(n)}function getBinding(n,i,s){return n._x_bindings&&n._x_bindings[i]!==void 0?n._x_bindings[i]:getAttributeBinding(n,i,s)}function extractProp(n,i,s,c=!0){if(n._x_bindings&&n._x_bindings[i]!==void 0)return n._x_bindings[i];if(n._x_inlineBindings&&n._x_inlineBindings[i]!==void 0){let f=n._x_inlineBindings[i];return f.extract=c,dontAutoEvaluateFunctions(()=>evaluate(n,f.expression))}return getAttributeBinding(n,i,s)}function getAttributeBinding(n,i,s){let c=n.getAttribute(i);return c===null?typeof s=="function"?s():s:c===""?!0:isBooleanAttr(i)?!![i,"true"].includes(c):c}function isCheckbox(n){return n.type==="checkbox"||n.localName==="ui-checkbox"||n.localName==="ui-switch"}function isRadio(n){return n.type==="radio"||n.localName==="ui-radio"}function debounce(n,i){var s;return function(){var c=this,f=arguments,d=function(){s=null,n.apply(c,f)};clearTimeout(s),s=setTimeout(d,i)}}function throttle(n,i){let s;return function(){let c=this,f=arguments;s||(n.apply(c,f),s=!0,setTimeout(()=>s=!1,i))}}function entangle({get:n,set:i},{get:s,set:c}){let f=!0,d,h=effect(()=>{let m=n(),D=s();if(f)c(cloneIfObject(m)),f=!1;else{let A=JSON.stringify(m),p=JSON.stringify(D);A!==d?c(cloneIfObject(m)):A!==p&&i(cloneIfObject(D))}d=JSON.stringify(n()),JSON.stringify(s())});return()=>{release(h)}}function cloneIfObject(n){return typeof n=="object"?JSON.parse(JSON.stringify(n)):n}function plugin(n){(Array.isArray(n)?n:[n]).forEach(s=>s(alpine_default))}var stores={},isReactive=!1;function store(n,i){if(isReactive||(stores=reactive(stores),isReactive=!0),i===void 0)return stores[n];stores[n]=i,initInterceptors(stores[n]),typeof i=="object"&&i!==null&&i.hasOwnProperty("init")&&typeof i.init=="function"&&stores[n].init()}function getStores(){return stores}var binds={};function bind2(n,i){let s=typeof i!="function"?()=>i:i;return n instanceof Element?applyBindingsObject(n,s()):(binds[n]=s,()=>{})}function injectBindingProviders(n){return Object.entries(binds).forEach(([i,s])=>{Object.defineProperty(n,i,{get(){return(...c)=>s(...c)}})}),n}function applyBindingsObject(n,i,s){let c=[];for(;c.length;)c.pop()();let f=Object.entries(i).map(([h,m])=>({name:h,value:m})),d=attributesOnly(f);return f=f.map(h=>d.find(m=>m.name===h.name)?{name:`x-bind:${h.name}`,value:`"${h.value}"`}:h),directives(n,f,s).map(h=>{c.push(h.runCleanups),h()}),()=>{for(;c.length;)c.pop()()}}var datas={};function data(n,i){datas[n]=i}function injectDataProviders(n,i){return Object.entries(datas).forEach(([s,c])=>{Object.defineProperty(n,s,{get(){return(...f)=>c.bind(i)(...f)},enumerable:!1})}),n}var Alpine$1={get reactive(){return reactive},get release(){return release},get effect(){return effect},get raw(){return raw},version:"3.14.9",flushAndStopDeferringMutations,dontAutoEvaluateFunctions,disableEffectScheduling,startObservingMutations,stopObservingMutations,setReactivityEngine,onAttributeRemoved,onAttributesAdded,closestDataStack,skipDuringClone,onlyDuringClone,addRootSelector,addInitSelector,interceptClone,addScopeToNode,deferMutations,mapAttributes,evaluateLater,interceptInit,setEvaluator,mergeProxies,extractProp,findClosest,onElRemoved,closestRoot,destroyTree,interceptor,transition,setStyles,mutateDom,directive,entangle,throttle,debounce,evaluate,initTree,nextTick,prefixed:prefix,prefix:setPrefix,plugin,magic,store,start,clone,cloneNode,bound:getBinding,$data:scope,watch,walk,data,bind:bind2},alpine_default=Alpine$1;function makeMap(n,i){const s=Object.create(null),c=n.split(",");for(let f=0;f<c.length;f++)s[c[f]]=!0;return f=>!!s[f]}var EMPTY_OBJ=Object.freeze({}),hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(n,i)=>hasOwnProperty.call(n,i),isArray=Array.isArray,isMap=n=>toTypeString(n)==="[object Map]",isString=n=>typeof n=="string",isSymbol=n=>typeof n=="symbol",isObject=n=>n!==null&&typeof n=="object",objectToString=Object.prototype.toString,toTypeString=n=>objectToString.call(n),toRawType=n=>toTypeString(n).slice(8,-1),isIntegerKey=n=>isString(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,cacheStringFunction=n=>{const i=Object.create(null);return s=>i[s]||(i[s]=n(s))},capitalize=cacheStringFunction(n=>n.charAt(0).toUpperCase()+n.slice(1)),hasChanged=(n,i)=>n!==i&&(n===n||i===i),targetMap=new WeakMap,effectStack=[],activeEffect,ITERATE_KEY=Symbol("iterate"),MAP_KEY_ITERATE_KEY=Symbol("Map key iterate");function isEffect(n){return n&&n._isEffect===!0}function effect2(n,i=EMPTY_OBJ){isEffect(n)&&(n=n.raw);const s=createReactiveEffect(n,i);return i.lazy||s(),s}function stop(n){n.active&&(cleanup(n),n.options.onStop&&n.options.onStop(),n.active=!1)}var uid=0;function createReactiveEffect(n,i){const s=function(){if(!s.active)return n();if(!effectStack.includes(s)){cleanup(s);try{return enableTracking(),effectStack.push(s),activeEffect=s,n()}finally{effectStack.pop(),resetTracking(),activeEffect=effectStack[effectStack.length-1]}}};return s.id=uid++,s.allowRecurse=!!i.allowRecurse,s._isEffect=!0,s.active=!0,s.raw=n,s.deps=[],s.options=i,s}function cleanup(n){const{deps:i}=n;if(i.length){for(let s=0;s<i.length;s++)i[s].delete(n);i.length=0}}var shouldTrack=!0,trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function enableTracking(){trackStack.push(shouldTrack),shouldTrack=!0}function resetTracking(){const n=trackStack.pop();shouldTrack=n===void 0?!0:n}function track(n,i,s){if(!shouldTrack||activeEffect===void 0)return;let c=targetMap.get(n);c||targetMap.set(n,c=new Map);let f=c.get(s);f||c.set(s,f=new Set),f.has(activeEffect)||(f.add(activeEffect),activeEffect.deps.push(f),activeEffect.options.onTrack&&activeEffect.options.onTrack({effect:activeEffect,target:n,type:i,key:s}))}function trigger(n,i,s,c,f,d){const h=targetMap.get(n);if(!h)return;const m=new Set,D=p=>{p&&p.forEach(w=>{(w!==activeEffect||w.allowRecurse)&&m.add(w)})};if(i==="clear")h.forEach(D);else if(s==="length"&&isArray(n))h.forEach((p,w)=>{(w==="length"||w>=c)&&D(p)});else switch(s!==void 0&&D(h.get(s)),i){case"add":isArray(n)?isIntegerKey(s)&&D(h.get("length")):(D(h.get(ITERATE_KEY)),isMap(n)&&D(h.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(n)||(D(h.get(ITERATE_KEY)),isMap(n)&&D(h.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(n)&&D(h.get(ITERATE_KEY));break}const A=p=>{p.options.onTrigger&&p.options.onTrigger({effect:p,target:n,key:s,type:i,newValue:c,oldValue:f,oldTarget:d}),p.options.scheduler?p.options.scheduler(p):p()};m.forEach(A)}var isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(n=>Symbol[n]).filter(isSymbol)),get2=createGetter(),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const n={};return["includes","indexOf","lastIndexOf"].forEach(i=>{n[i]=function(...s){const c=toRaw(this);for(let d=0,h=this.length;d<h;d++)track(c,"get",d+"");const f=c[i](...s);return f===-1||f===!1?c[i](...s.map(toRaw)):f}}),["push","pop","shift","unshift","splice"].forEach(i=>{n[i]=function(...s){pauseTracking();const c=toRaw(this)[i].apply(this,s);return resetTracking(),c}}),n}function createGetter(n=!1,i=!1){return function(c,f,d){if(f==="__v_isReactive")return!n;if(f==="__v_isReadonly")return n;if(f==="__v_raw"&&d===(n?i?shallowReadonlyMap:readonlyMap:i?shallowReactiveMap:reactiveMap).get(c))return c;const h=isArray(c);if(!n&&h&&hasOwn(arrayInstrumentations,f))return Reflect.get(arrayInstrumentations,f,d);const m=Reflect.get(c,f,d);return(isSymbol(f)?builtInSymbols.has(f):isNonTrackableKeys(f))||(n||track(c,"get",f),i)?m:isRef(m)?!h||!isIntegerKey(f)?m.value:m:isObject(m)?n?readonly(m):reactive2(m):m}}var set2=createSetter();function createSetter(n=!1){return function(s,c,f,d){let h=s[c];if(!n&&(f=toRaw(f),h=toRaw(h),!isArray(s)&&isRef(h)&&!isRef(f)))return h.value=f,!0;const m=isArray(s)&&isIntegerKey(c)?Number(c)<s.length:hasOwn(s,c),D=Reflect.set(s,c,f,d);return s===toRaw(d)&&(m?hasChanged(f,h)&&trigger(s,"set",c,f,h):trigger(s,"add",c,f)),D}}function deleteProperty(n,i){const s=hasOwn(n,i),c=n[i],f=Reflect.deleteProperty(n,i);return f&&s&&trigger(n,"delete",i,void 0,c),f}function has(n,i){const s=Reflect.has(n,i);return(!isSymbol(i)||!builtInSymbols.has(i))&&track(n,"has",i),s}function ownKeys(n){return track(n,"iterate",isArray(n)?"length":ITERATE_KEY),Reflect.ownKeys(n)}var mutableHandlers={get:get2,set:set2,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(n,i){return console.warn(`Set operation on key "${String(i)}" failed: target is readonly.`,n),!0},deleteProperty(n,i){return console.warn(`Delete operation on key "${String(i)}" failed: target is readonly.`,n),!0}},toReactive=n=>isObject(n)?reactive2(n):n,toReadonly=n=>isObject(n)?readonly(n):n,toShallow=n=>n,getProto=n=>Reflect.getPrototypeOf(n);function get$1(n,i,s=!1,c=!1){n=n.__v_raw;const f=toRaw(n),d=toRaw(i);i!==d&&!s&&track(f,"get",i),!s&&track(f,"get",d);const{has:h}=getProto(f),m=c?toShallow:s?toReadonly:toReactive;if(h.call(f,i))return m(n.get(i));if(h.call(f,d))return m(n.get(d));n!==f&&n.get(i)}function has$1(n,i=!1){const s=this.__v_raw,c=toRaw(s),f=toRaw(n);return n!==f&&!i&&track(c,"has",n),!i&&track(c,"has",f),n===f?s.has(n):s.has(n)||s.has(f)}function size(n,i=!1){return n=n.__v_raw,!i&&track(toRaw(n),"iterate",ITERATE_KEY),Reflect.get(n,"size",n)}function add(n){n=toRaw(n);const i=toRaw(this);return getProto(i).has.call(i,n)||(i.add(n),trigger(i,"add",n,n)),this}function set$1(n,i){i=toRaw(i);const s=toRaw(this),{has:c,get:f}=getProto(s);let d=c.call(s,n);d?checkIdentityKeys(s,c,n):(n=toRaw(n),d=c.call(s,n));const h=f.call(s,n);return s.set(n,i),d?hasChanged(i,h)&&trigger(s,"set",n,i,h):trigger(s,"add",n,i),this}function deleteEntry(n){const i=toRaw(this),{has:s,get:c}=getProto(i);let f=s.call(i,n);f?checkIdentityKeys(i,s,n):(n=toRaw(n),f=s.call(i,n));const d=c?c.call(i,n):void 0,h=i.delete(n);return f&&trigger(i,"delete",n,void 0,d),h}function clear(){const n=toRaw(this),i=n.size!==0,s=isMap(n)?new Map(n):new Set(n),c=n.clear();return i&&trigger(n,"clear",void 0,void 0,s),c}function createForEach(n,i){return function(c,f){const d=this,h=d.__v_raw,m=toRaw(h),D=i?toShallow:n?toReadonly:toReactive;return!n&&track(m,"iterate",ITERATE_KEY),h.forEach((A,p)=>c.call(f,D(A),D(p),d))}}function createIterableMethod(n,i,s){return function(...c){const f=this.__v_raw,d=toRaw(f),h=isMap(d),m=n==="entries"||n===Symbol.iterator&&h,D=n==="keys"&&h,A=f[n](...c),p=s?toShallow:i?toReadonly:toReactive;return!i&&track(d,"iterate",D?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:w,done:T}=A.next();return T?{value:w,done:T}:{value:m?[p(w[0]),p(w[1])]:p(w),done:T}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(n){return function(...i){{const s=i[0]?`on key "${i[0]}" `:"";console.warn(`${capitalize(n)} operation ${s}failed: target is readonly.`,toRaw(this))}return n==="delete"?!1:this}}function createInstrumentations(){const n={get(d){return get$1(this,d)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},i={get(d){return get$1(this,d,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},s={get(d){return get$1(this,d,!0)},get size(){return size(this,!0)},has(d){return has$1.call(this,d,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},c={get(d){return get$1(this,d,!0,!0)},get size(){return size(this,!0)},has(d){return has$1.call(this,d,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{n[d]=createIterableMethod(d,!1,!1),s[d]=createIterableMethod(d,!0,!1),i[d]=createIterableMethod(d,!1,!0),c[d]=createIterableMethod(d,!0,!0)}),[n,s,i,c]}var[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(n,i){const s=n?readonlyInstrumentations:mutableInstrumentations;return(c,f,d)=>f==="__v_isReactive"?!n:f==="__v_isReadonly"?n:f==="__v_raw"?c:Reflect.get(hasOwn(s,f)&&f in c?s:c,f,d)}var mutableCollectionHandlers={get:createInstrumentationGetter(!1)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0)};function checkIdentityKeys(n,i,s){const c=toRaw(s);if(c!==s&&i.call(n,c)){const f=toRawType(n);console.warn(`Reactive ${f} contains both the raw and reactive versions of the same object${f==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(n){return n.__v_skip||!Object.isExtensible(n)?0:targetTypeMap(toRawType(n))}function reactive2(n){return n&&n.__v_isReadonly?n:createReactiveObject(n,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function readonly(n){return createReactiveObject(n,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(n,i,s,c,f){if(!isObject(n))return console.warn(`value cannot be made reactive: ${String(n)}`),n;if(n.__v_raw&&!(i&&n.__v_isReactive))return n;const d=f.get(n);if(d)return d;const h=getTargetType(n);if(h===0)return n;const m=new Proxy(n,h===2?c:s);return f.set(n,m),m}function toRaw(n){return n&&toRaw(n.__v_raw)||n}function isRef(n){return!!(n&&n.__v_isRef===!0)}magic("nextTick",()=>nextTick);magic("dispatch",n=>dispatch.bind(dispatch,n));magic("watch",(n,{evaluateLater:i,cleanup:s})=>(c,f)=>{let d=i(c),m=watch(()=>{let D;return d(A=>D=A),D},f);s(m)});magic("store",getStores);magic("data",n=>scope(n));magic("root",n=>closestRoot(n));magic("refs",n=>(n._x_refs_proxy||(n._x_refs_proxy=mergeProxies(getArrayOfRefObject(n))),n._x_refs_proxy));function getArrayOfRefObject(n){let i=[];return findClosest(n,s=>{s._x_refs&&i.push(s._x_refs)}),i}var globalIdMemo={};function findAndIncrementId(n){return globalIdMemo[n]||(globalIdMemo[n]=0),++globalIdMemo[n]}function closestIdRoot(n,i){return findClosest(n,s=>{if(s._x_ids&&s._x_ids[i])return!0})}function setIdRoot(n,i){n._x_ids||(n._x_ids={}),n._x_ids[i]||(n._x_ids[i]=findAndIncrementId(i))}magic("id",(n,{cleanup:i})=>(s,c=null)=>{let f=`${s}${c?`-${c}`:""}`;return cacheIdByNameOnElement(n,f,i,()=>{let d=closestIdRoot(n,s),h=d?d._x_ids[s]:findAndIncrementId(s);return c?`${s}-${h}-${c}`:`${s}-${h}`})});interceptClone((n,i)=>{n._x_id&&(i._x_id=n._x_id)});function cacheIdByNameOnElement(n,i,s,c){if(n._x_id||(n._x_id={}),n._x_id[i])return n._x_id[i];let f=c();return n._x_id[i]=f,s(()=>{delete n._x_id[i]}),f}magic("el",n=>n);warnMissingPluginMagic("Focus","focus","focus");warnMissingPluginMagic("Persist","persist","persist");function warnMissingPluginMagic(n,i,s){magic(i,c=>warn(`You can't use [$${i}] without first installing the "${n}" plugin here: https://alpinejs.dev/plugins/${s}`,c))}directive("modelable",(n,{expression:i},{effect:s,evaluateLater:c,cleanup:f})=>{let d=c(i),h=()=>{let p;return d(w=>p=w),p},m=c(`${i} = __placeholder`),D=p=>m(()=>{},{scope:{__placeholder:p}}),A=h();D(A),queueMicrotask(()=>{if(!n._x_model)return;n._x_removeModelListeners.default();let p=n._x_model.get,w=n._x_model.set,T=entangle({get(){return p()},set(L){w(L)}},{get(){return h()},set(L){D(L)}});f(T)})});directive("teleport",(n,{modifiers:i,expression:s},{cleanup:c})=>{n.tagName.toLowerCase()!=="template"&&warn("x-teleport can only be used on a <template> tag",n);let f=getTarget(s),d=n.content.cloneNode(!0).firstElementChild;n._x_teleport=d,d._x_teleportBack=n,n.setAttribute("data-teleport-template",!0),d.setAttribute("data-teleport-target",!0),n._x_forwardEvents&&n._x_forwardEvents.forEach(m=>{d.addEventListener(m,D=>{D.stopPropagation(),n.dispatchEvent(new D.constructor(D.type,D))})}),addScopeToNode(d,{},n);let h=(m,D,A)=>{A.includes("prepend")?D.parentNode.insertBefore(m,D):A.includes("append")?D.parentNode.insertBefore(m,D.nextSibling):D.appendChild(m)};mutateDom(()=>{h(d,f,i),skipDuringClone(()=>{initTree(d)})()}),n._x_teleportPutBack=()=>{let m=getTarget(s);mutateDom(()=>{h(n._x_teleport,m,i)})},c(()=>mutateDom(()=>{d.remove(),destroyTree(d)}))});var teleportContainerDuringClone=document.createElement("div");function getTarget(n){let i=skipDuringClone(()=>document.querySelector(n),()=>teleportContainerDuringClone)();return i||warn(`Cannot find x-teleport element for selector: "${n}"`),i}var handler=()=>{};handler.inline=(n,{modifiers:i},{cleanup:s})=>{i.includes("self")?n._x_ignoreSelf=!0:n._x_ignore=!0,s(()=>{i.includes("self")?delete n._x_ignoreSelf:delete n._x_ignore})};directive("ignore",handler);directive("effect",skipDuringClone((n,{expression:i},{effect:s})=>{s(evaluateLater(n,i))}));function on(n,i,s,c){let f=n,d=D=>c(D),h={},m=(D,A)=>p=>A(D,p);if(s.includes("dot")&&(i=dotSyntax(i)),s.includes("camel")&&(i=camelCase2(i)),s.includes("passive")&&(h.passive=!0),s.includes("capture")&&(h.capture=!0),s.includes("window")&&(f=window),s.includes("document")&&(f=document),s.includes("debounce")){let D=s[s.indexOf("debounce")+1]||"invalid-wait",A=isNumeric(D.split("ms")[0])?Number(D.split("ms")[0]):250;d=debounce(d,A)}if(s.includes("throttle")){let D=s[s.indexOf("throttle")+1]||"invalid-wait",A=isNumeric(D.split("ms")[0])?Number(D.split("ms")[0]):250;d=throttle(d,A)}return s.includes("prevent")&&(d=m(d,(D,A)=>{A.preventDefault(),D(A)})),s.includes("stop")&&(d=m(d,(D,A)=>{A.stopPropagation(),D(A)})),s.includes("once")&&(d=m(d,(D,A)=>{D(A),f.removeEventListener(i,d,h)})),(s.includes("away")||s.includes("outside"))&&(f=document,d=m(d,(D,A)=>{n.contains(A.target)||A.target.isConnected!==!1&&(n.offsetWidth<1&&n.offsetHeight<1||n._x_isShown!==!1&&D(A))})),s.includes("self")&&(d=m(d,(D,A)=>{A.target===n&&D(A)})),(isKeyEvent(i)||isClickEvent(i))&&(d=m(d,(D,A)=>{isListeningForASpecificKeyThatHasntBeenPressed(A,s)||D(A)})),f.addEventListener(i,d,h),()=>{f.removeEventListener(i,d,h)}}function dotSyntax(n){return n.replace(/-/g,".")}function camelCase2(n){return n.toLowerCase().replace(/-(\w)/g,(i,s)=>s.toUpperCase())}function isNumeric(n){return!Array.isArray(n)&&!isNaN(n)}function kebabCase2(n){return[" ","_"].includes(n)?n:n.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function isKeyEvent(n){return["keydown","keyup"].includes(n)}function isClickEvent(n){return["contextmenu","click","mouse"].some(i=>n.includes(i))}function isListeningForASpecificKeyThatHasntBeenPressed(n,i){let s=i.filter(d=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(d));if(s.includes("debounce")){let d=s.indexOf("debounce");s.splice(d,isNumeric((s[d+1]||"invalid-wait").split("ms")[0])?2:1)}if(s.includes("throttle")){let d=s.indexOf("throttle");s.splice(d,isNumeric((s[d+1]||"invalid-wait").split("ms")[0])?2:1)}if(s.length===0||s.length===1&&keyToModifiers(n.key).includes(s[0]))return!1;const f=["ctrl","shift","alt","meta","cmd","super"].filter(d=>s.includes(d));return s=s.filter(d=>!f.includes(d)),!(f.length>0&&f.filter(h=>((h==="cmd"||h==="super")&&(h="meta"),n[`${h}Key`])).length===f.length&&(isClickEvent(n.type)||keyToModifiers(n.key).includes(s[0])))}function keyToModifiers(n){if(!n)return[];n=kebabCase2(n);let i={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return i[n]=n,Object.keys(i).map(s=>{if(i[s]===n)return s}).filter(s=>s)}directive("model",(n,{modifiers:i,expression:s},{effect:c,cleanup:f})=>{let d=n;i.includes("parent")&&(d=n.parentNode);let h=evaluateLater(d,s),m;typeof s=="string"?m=evaluateLater(d,`${s} = __placeholder`):typeof s=="function"&&typeof s()=="string"?m=evaluateLater(d,`${s()} = __placeholder`):m=()=>{};let D=()=>{let T;return h(L=>T=L),isGetterSetter(T)?T.get():T},A=T=>{let L;h(N=>L=N),isGetterSetter(L)?L.set(T):m(()=>{},{scope:{__placeholder:T}})};typeof s=="string"&&n.type==="radio"&&mutateDom(()=>{n.hasAttribute("name")||n.setAttribute("name",s)});var p=n.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(n.type)||i.includes("lazy")?"change":"input";let w=isCloning?()=>{}:on(n,p,i,T=>{A(getInputValue(n,i,T,D()))});if(i.includes("fill")&&([void 0,null,""].includes(D())||isCheckbox(n)&&Array.isArray(D())||n.tagName.toLowerCase()==="select"&&n.multiple)&&A(getInputValue(n,i,{target:n},D())),n._x_removeModelListeners||(n._x_removeModelListeners={}),n._x_removeModelListeners.default=w,f(()=>n._x_removeModelListeners.default()),n.form){let T=on(n.form,"reset",[],L=>{nextTick(()=>n._x_model&&n._x_model.set(getInputValue(n,i,{target:n},D())))});f(()=>T())}n._x_model={get(){return D()},set(T){A(T)}},n._x_forceModelUpdate=T=>{T===void 0&&typeof s=="string"&&s.match(/\./)&&(T=""),window.fromModel=!0,mutateDom(()=>bind(n,"value",T)),delete window.fromModel},c(()=>{let T=D();i.includes("unintrusive")&&document.activeElement.isSameNode(n)||n._x_forceModelUpdate(T)})});function getInputValue(n,i,s,c){return mutateDom(()=>{if(s instanceof CustomEvent&&s.detail!==void 0)return s.detail!==null&&s.detail!==void 0?s.detail:s.target.value;if(isCheckbox(n))if(Array.isArray(c)){let f=null;return i.includes("number")?f=safeParseNumber(s.target.value):i.includes("boolean")?f=safeParseBoolean(s.target.value):f=s.target.value,s.target.checked?c.includes(f)?c:c.concat([f]):c.filter(d=>!checkedAttrLooseCompare2(d,f))}else return s.target.checked;else{if(n.tagName.toLowerCase()==="select"&&n.multiple)return i.includes("number")?Array.from(s.target.selectedOptions).map(f=>{let d=f.value||f.text;return safeParseNumber(d)}):i.includes("boolean")?Array.from(s.target.selectedOptions).map(f=>{let d=f.value||f.text;return safeParseBoolean(d)}):Array.from(s.target.selectedOptions).map(f=>f.value||f.text);{let f;return isRadio(n)?s.target.checked?f=s.target.value:f=c:f=s.target.value,i.includes("number")?safeParseNumber(f):i.includes("boolean")?safeParseBoolean(f):i.includes("trim")?f.trim():f}}})}function safeParseNumber(n){let i=n?parseFloat(n):null;return isNumeric2(i)?i:n}function checkedAttrLooseCompare2(n,i){return n==i}function isNumeric2(n){return!Array.isArray(n)&&!isNaN(n)}function isGetterSetter(n){return n!==null&&typeof n=="object"&&typeof n.get=="function"&&typeof n.set=="function"}directive("cloak",n=>queueMicrotask(()=>mutateDom(()=>n.removeAttribute(prefix("cloak")))));addInitSelector(()=>`[${prefix("init")}]`);directive("init",skipDuringClone((n,{expression:i},{evaluate:s})=>typeof i=="string"?!!i.trim()&&s(i,{},!1):s(i,{},!1)));directive("text",(n,{expression:i},{effect:s,evaluateLater:c})=>{let f=c(i);s(()=>{f(d=>{mutateDom(()=>{n.textContent=d})})})});directive("html",(n,{expression:i},{effect:s,evaluateLater:c})=>{let f=c(i);s(()=>{f(d=>{mutateDom(()=>{n.innerHTML=d,n._x_ignoreSelf=!0,initTree(n),delete n._x_ignoreSelf})})})});mapAttributes(startingWith(":",into(prefix("bind:"))));var handler2=(n,{value:i,modifiers:s,expression:c,original:f},{effect:d,cleanup:h})=>{if(!i){let D={};injectBindingProviders(D),evaluateLater(n,c)(p=>{applyBindingsObject(n,p,f)},{scope:D});return}if(i==="key")return storeKeyForXFor(n,c);if(n._x_inlineBindings&&n._x_inlineBindings[i]&&n._x_inlineBindings[i].extract)return;let m=evaluateLater(n,c);d(()=>m(D=>{D===void 0&&typeof c=="string"&&c.match(/\./)&&(D=""),mutateDom(()=>bind(n,i,D,s))})),h(()=>{n._x_undoAddedClasses&&n._x_undoAddedClasses(),n._x_undoAddedStyles&&n._x_undoAddedStyles()})};handler2.inline=(n,{value:i,modifiers:s,expression:c})=>{i&&(n._x_inlineBindings||(n._x_inlineBindings={}),n._x_inlineBindings[i]={expression:c,extract:!1})};directive("bind",handler2);function storeKeyForXFor(n,i){n._x_keyExpression=i}addRootSelector(()=>`[${prefix("data")}]`);directive("data",(n,{expression:i},{cleanup:s})=>{if(shouldSkipRegisteringDataDuringClone(n))return;i=i===""?"{}":i;let c={};injectMagics(c,n);let f={};injectDataProviders(f,c);let d=evaluate(n,i,{scope:f});(d===void 0||d===!0)&&(d={}),injectMagics(d,n);let h=reactive(d);initInterceptors(h);let m=addScopeToNode(n,h);h.init&&evaluate(n,h.init),s(()=>{h.destroy&&evaluate(n,h.destroy),m()})});interceptClone((n,i)=>{n._x_dataStack&&(i._x_dataStack=n._x_dataStack,i.setAttribute("data-has-alpine-state",!0))});function shouldSkipRegisteringDataDuringClone(n){return isCloning?isCloningLegacy?!0:n.hasAttribute("data-has-alpine-state"):!1}directive("show",(n,{modifiers:i,expression:s},{effect:c})=>{let f=evaluateLater(n,s);n._x_doHide||(n._x_doHide=()=>{mutateDom(()=>{n.style.setProperty("display","none",i.includes("important")?"important":void 0)})}),n._x_doShow||(n._x_doShow=()=>{mutateDom(()=>{n.style.length===1&&n.style.display==="none"?n.removeAttribute("style"):n.style.removeProperty("display")})});let d=()=>{n._x_doHide(),n._x_isShown=!1},h=()=>{n._x_doShow(),n._x_isShown=!0},m=()=>setTimeout(h),D=once(w=>w?h():d(),w=>{typeof n._x_toggleAndCascadeWithTransitions=="function"?n._x_toggleAndCascadeWithTransitions(n,w,h,d):w?m():d()}),A,p=!0;c(()=>f(w=>{!p&&w===A||(i.includes("immediate")&&(w?m():d()),D(w),A=w,p=!1)}))});directive("for",(n,{expression:i},{effect:s,cleanup:c})=>{let f=parseForExpression(i),d=evaluateLater(n,f.items),h=evaluateLater(n,n._x_keyExpression||"index");n._x_prevKeys=[],n._x_lookup={},s(()=>loop(n,f,d,h)),c(()=>{Object.values(n._x_lookup).forEach(m=>mutateDom(()=>{destroyTree(m),m.remove()})),delete n._x_prevKeys,delete n._x_lookup})});function loop(n,i,s,c){let f=h=>typeof h=="object"&&!Array.isArray(h),d=n;s(h=>{isNumeric3(h)&&h>=0&&(h=Array.from(Array(h).keys(),R=>R+1)),h===void 0&&(h=[]);let m=n._x_lookup,D=n._x_prevKeys,A=[],p=[];if(f(h))h=Object.entries(h).map(([R,j])=>{let Y=getIterationScopeVariables(i,j,R,h);c(k=>{p.includes(k)&&warn("Duplicate key on x-for",n),p.push(k)},{scope:{index:R,...Y}}),A.push(Y)});else for(let R=0;R<h.length;R++){let j=getIterationScopeVariables(i,h[R],R,h);c(Y=>{p.includes(Y)&&warn("Duplicate key on x-for",n),p.push(Y)},{scope:{index:R,...j}}),A.push(j)}let w=[],T=[],L=[],N=[];for(let R=0;R<D.length;R++){let j=D[R];p.indexOf(j)===-1&&L.push(j)}D=D.filter(R=>!L.includes(R));let G="template";for(let R=0;R<p.length;R++){let j=p[R],Y=D.indexOf(j);if(Y===-1)D.splice(R,0,j),w.push([G,R]);else if(Y!==R){let k=D.splice(R,1)[0],S=D.splice(Y-1,1)[0];D.splice(R,0,S),D.splice(Y,0,k),T.push([k,S])}else N.push(j);G=j}for(let R=0;R<L.length;R++){let j=L[R];j in m&&(mutateDom(()=>{destroyTree(m[j]),m[j].remove()}),delete m[j])}for(let R=0;R<T.length;R++){let[j,Y]=T[R],k=m[j],S=m[Y],U=document.createElement("div");mutateDom(()=>{S||warn('x-for ":key" is undefined or invalid',d,Y,m),S.after(U),k.after(S),S._x_currentIfEl&&S.after(S._x_currentIfEl),U.before(k),k._x_currentIfEl&&k.after(k._x_currentIfEl),U.remove()}),S._x_refreshXForScope(A[p.indexOf(Y)])}for(let R=0;R<w.length;R++){let[j,Y]=w[R],k=j==="template"?d:m[j];k._x_currentIfEl&&(k=k._x_currentIfEl);let S=A[Y],U=p[Y],M=document.importNode(d.content,!0).firstElementChild,I=reactive(S);addScopeToNode(M,I,d),M._x_refreshXForScope=z=>{Object.entries(z).forEach(([P,xe])=>{I[P]=xe})},mutateDom(()=>{k.after(M),skipDuringClone(()=>initTree(M))()}),typeof U=="object"&&warn("x-for key cannot be an object, it must be a string or an integer",d),m[U]=M}for(let R=0;R<N.length;R++)m[N[R]]._x_refreshXForScope(A[p.indexOf(N[R])]);d._x_prevKeys=p})}function parseForExpression(n){let i=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,s=/^\s*\(|\)\s*$/g,c=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,f=n.match(c);if(!f)return;let d={};d.items=f[2].trim();let h=f[1].replace(s,"").trim(),m=h.match(i);return m?(d.item=h.replace(i,"").trim(),d.index=m[1].trim(),m[2]&&(d.collection=m[2].trim())):d.item=h,d}function getIterationScopeVariables(n,i,s,c){let f={};return/^\[.*\]$/.test(n.item)&&Array.isArray(i)?n.item.replace("[","").replace("]","").split(",").map(h=>h.trim()).forEach((h,m)=>{f[h]=i[m]}):/^\{.*\}$/.test(n.item)&&!Array.isArray(i)&&typeof i=="object"?n.item.replace("{","").replace("}","").split(",").map(h=>h.trim()).forEach(h=>{f[h]=i[h]}):f[n.item]=i,n.index&&(f[n.index]=s),n.collection&&(f[n.collection]=c),f}function isNumeric3(n){return!Array.isArray(n)&&!isNaN(n)}function handler3(){}handler3.inline=(n,{expression:i},{cleanup:s})=>{let c=closestRoot(n);c._x_refs||(c._x_refs={}),c._x_refs[i]=n,s(()=>delete c._x_refs[i])};directive("ref",handler3);directive("if",(n,{expression:i},{effect:s,cleanup:c})=>{n.tagName.toLowerCase()!=="template"&&warn("x-if can only be used on a <template> tag",n);let f=evaluateLater(n,i),d=()=>{if(n._x_currentIfEl)return n._x_currentIfEl;let m=n.content.cloneNode(!0).firstElementChild;return addScopeToNode(m,{},n),mutateDom(()=>{n.after(m),skipDuringClone(()=>initTree(m))()}),n._x_currentIfEl=m,n._x_undoIf=()=>{mutateDom(()=>{destroyTree(m),m.remove()}),delete n._x_currentIfEl},m},h=()=>{n._x_undoIf&&(n._x_undoIf(),delete n._x_undoIf)};s(()=>f(m=>{m?d():h()})),c(()=>n._x_undoIf&&n._x_undoIf())});directive("id",(n,{expression:i},{evaluate:s})=>{s(i).forEach(f=>setIdRoot(n,f))});interceptClone((n,i)=>{n._x_ids&&(i._x_ids=n._x_ids)});mapAttributes(startingWith("@",into(prefix("on:"))));directive("on",skipDuringClone((n,{value:i,modifiers:s,expression:c},{cleanup:f})=>{let d=c?evaluateLater(n,c):()=>{};n.tagName.toLowerCase()==="template"&&(n._x_forwardEvents||(n._x_forwardEvents=[]),n._x_forwardEvents.includes(i)||n._x_forwardEvents.push(i));let h=on(n,i,s,m=>{d(()=>{},{scope:{$event:m},params:[m]})});f(()=>h())}));warnMissingPluginDirective("Collapse","collapse","collapse");warnMissingPluginDirective("Intersect","intersect","intersect");warnMissingPluginDirective("Focus","trap","focus");warnMissingPluginDirective("Mask","mask","mask");function warnMissingPluginDirective(n,i,s){directive(i,c=>warn(`You can't use [x-${i}] without first installing the "${n}" plugin here: https://alpinejs.dev/plugins/${s}`,c))}alpine_default.setEvaluator(normalEvaluator);alpine_default.setReactivityEngine({reactive:reactive2,effect:effect2,release:stop,raw:toRaw});var src_default=alpine_default,module_default=src_default,htmx$1=(function(){const htmx={onLoad:null,process:null,on:null,off:null,trigger:null,ajax:null,find:null,findAll:null,closest:null,values:function(n,i){return getInputValues(n,i||"post").values},remove:null,addClass:null,removeClass:null,toggleClass:null,takeClass:null,swap:null,defineExtension:null,removeExtension:null,logAll:null,logNone:null,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,allowScriptTags:!0,inlineScriptNonce:"",inlineStyleNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",scrollBehavior:"instant",defaultFocusScroll:!1,getCacheBusterParam:!1,globalViewTransitions:!1,methodsThatUseUrlParams:["get","delete"],selfRequestsOnly:!0,ignoreTitle:!1,scrollIntoViewOnBoost:!0,triggerSpecsCache:null,disableInheritance:!1,responseHandling:[{code:"204",swap:!1},{code:"[23]..",swap:!0},{code:"[45]..",swap:!1,error:!0}],allowNestedOobSwaps:!0,historyRestoreAsHxRequest:!0},parseInterval:null,location,_:null,version:"2.0.6"};htmx.onLoad=onLoadHelper,htmx.process=processNode,htmx.on=addEventListenerImpl,htmx.off=removeEventListenerImpl,htmx.trigger=triggerEvent,htmx.ajax=ajaxHelper,htmx.find=find,htmx.findAll=findAll,htmx.closest=closest,htmx.remove=removeElement,htmx.addClass=addClassToElement,htmx.removeClass=removeClassFromElement,htmx.toggleClass=toggleClassOnElement,htmx.takeClass=takeClassForElement,htmx.swap=swap,htmx.defineExtension=defineExtension,htmx.removeExtension=removeExtension,htmx.logAll=logAll,htmx.logNone=logNone,htmx.parseInterval=parseInterval,htmx._=internalEval;const internalAPI={addTriggerHandler,bodyContains,canAccessLocalStorage,findThisElement,filterValues,swap,hasAttribute,getAttributeValue,getClosestAttributeValue,getClosestMatch,getExpressionVars,getHeaders,getInputValues,getInternalData,getSwapSpecification,getTriggerSpecs,getTarget,makeFragment,mergeObjects,makeSettleInfo,oobSwap,querySelectorExt,settleImmediately,shouldCancel,triggerEvent,triggerErrorEvent,withExtensions},VERBS=["get","post","put","delete","patch"],VERB_SELECTOR=VERBS.map(function(n){return"[hx-"+n+"], [data-hx-"+n+"]"}).join(", ");function parseInterval(n){if(n==null)return;let i=NaN;return n.slice(-2)=="ms"?i=parseFloat(n.slice(0,-2)):n.slice(-1)=="s"?i=parseFloat(n.slice(0,-1))*1e3:n.slice(-1)=="m"?i=parseFloat(n.slice(0,-1))*1e3*60:i=parseFloat(n),isNaN(i)?void 0:i}function getRawAttribute(n,i){return n instanceof Element&&n.getAttribute(i)}function hasAttribute(n,i){return!!n.hasAttribute&&(n.hasAttribute(i)||n.hasAttribute("data-"+i))}function getAttributeValue(n,i){return getRawAttribute(n,i)||getRawAttribute(n,"data-"+i)}function parentElt(n){const i=n.parentElement;return!i&&n.parentNode instanceof ShadowRoot?n.parentNode:i}function getDocument(){return document}function getRootNode(n,i){return n.getRootNode?n.getRootNode({composed:i}):getDocument()}function getClosestMatch(n,i){for(;n&&!i(n);)n=parentElt(n);return n||null}function getAttributeValueWithDisinheritance(n,i,s){const c=getAttributeValue(i,s),f=getAttributeValue(i,"hx-disinherit");var d=getAttributeValue(i,"hx-inherit");if(n!==i){if(htmx.config.disableInheritance)return d&&(d==="*"||d.split(" ").indexOf(s)>=0)?c:null;if(f&&(f==="*"||f.split(" ").indexOf(s)>=0))return"unset"}return c}function getClosestAttributeValue(n,i){let s=null;if(getClosestMatch(n,function(c){return!!(s=getAttributeValueWithDisinheritance(n,asElement(c),i))}),s!=="unset")return s}function matches(n,i){return n instanceof Element&&n.matches(i)}function getStartTag(n){const s=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i.exec(n);return s?s[1].toLowerCase():""}function parseHTML(n){return new DOMParser().parseFromString(n,"text/html")}function takeChildrenFor(n,i){for(;i.childNodes.length>0;)n.append(i.childNodes[0])}function duplicateScript(n){const i=getDocument().createElement("script");return forEach(n.attributes,function(s){i.setAttribute(s.name,s.value)}),i.textContent=n.textContent,i.async=!1,htmx.config.inlineScriptNonce&&(i.nonce=htmx.config.inlineScriptNonce),i}function isJavaScriptScriptNode(n){return n.matches("script")&&(n.type==="text/javascript"||n.type==="module"||n.type==="")}function normalizeScriptTags(n){Array.from(n.querySelectorAll("script")).forEach(i=>{if(isJavaScriptScriptNode(i)){const s=duplicateScript(i),c=i.parentNode;try{c.insertBefore(s,i)}catch(f){logError(f)}finally{i.remove()}}})}function makeFragment(n){const i=n.replace(/<head(\s[^>]*)?>[\s\S]*?<\/head>/i,""),s=getStartTag(i);let c;if(s==="html"){c=new DocumentFragment;const d=parseHTML(n);takeChildrenFor(c,d.body),c.title=d.title}else if(s==="body"){c=new DocumentFragment;const d=parseHTML(i);takeChildrenFor(c,d.body),c.title=d.title}else{const d=parseHTML('<body><template class="internal-htmx-wrapper">'+i+"</template></body>");c=d.querySelector("template").content,c.title=d.title;var f=c.querySelector("title");f&&f.parentNode===c&&(f.remove(),c.title=f.innerText)}return c&&(htmx.config.allowScriptTags?normalizeScriptTags(c):c.querySelectorAll("script").forEach(d=>d.remove())),c}function maybeCall(n){n&&n()}function isType(n,i){return Object.prototype.toString.call(n)==="[object "+i+"]"}function isFunction(n){return typeof n=="function"}function isRawObject(n){return isType(n,"Object")}function getInternalData(n){const i="htmx-internal-data";let s=n[i];return s||(s=n[i]={}),s}function toArray(n){const i=[];if(n)for(let s=0;s<n.length;s++)i.push(n[s]);return i}function forEach(n,i){if(n)for(let s=0;s<n.length;s++)i(n[s])}function isScrolledIntoView(n){const i=n.getBoundingClientRect(),s=i.top,c=i.bottom;return s<window.innerHeight&&c>=0}function bodyContains(n){return n.getRootNode({composed:!0})===document}function splitOnWhitespace(n){return n.trim().split(/\s+/)}function mergeObjects(n,i){for(const s in i)i.hasOwnProperty(s)&&(n[s]=i[s]);return n}function parseJSON(n){try{return JSON.parse(n)}catch(i){return logError(i),null}}function canAccessLocalStorage(){const n="htmx:sessionStorageTest";try{return sessionStorage.setItem(n,n),sessionStorage.removeItem(n),!0}catch{return!1}}function normalizePath(n){const i=new URL(n,"http://x");return i&&(n=i.pathname+i.search),n!="/"&&(n=n.replace(/\/+$/,"")),n}function internalEval(str){return maybeEval(getDocument().body,function(){return eval(str)})}function onLoadHelper(n){return htmx.on("htmx:load",function(s){n(s.detail.elt)})}function logAll(){htmx.logger=function(n,i,s){console&&console.log(i,n,s)}}function logNone(){htmx.logger=null}function find(n,i){return typeof n!="string"?n.querySelector(i):find(getDocument(),n)}function findAll(n,i){return typeof n!="string"?n.querySelectorAll(i):findAll(getDocument(),n)}function getWindow(){return window}function removeElement(n,i){n=resolveTarget(n),i?getWindow().setTimeout(function(){removeElement(n),n=null},i):parentElt(n).removeChild(n)}function asElement(n){return n instanceof Element?n:null}function asHtmlElement(n){return n instanceof HTMLElement?n:null}function asString(n){return typeof n=="string"?n:null}function asParentNode(n){return n instanceof Element||n instanceof Document||n instanceof DocumentFragment?n:null}function addClassToElement(n,i,s){n=asElement(resolveTarget(n)),n&&(s?getWindow().setTimeout(function(){addClassToElement(n,i),n=null},s):n.classList&&n.classList.add(i))}function removeClassFromElement(n,i,s){let c=asElement(resolveTarget(n));c&&(s?getWindow().setTimeout(function(){removeClassFromElement(c,i),c=null},s):c.classList&&(c.classList.remove(i),c.classList.length===0&&c.removeAttribute("class")))}function toggleClassOnElement(n,i){n=resolveTarget(n),n.classList.toggle(i)}function takeClassForElement(n,i){n=resolveTarget(n),forEach(n.parentElement.children,function(s){removeClassFromElement(s,i)}),addClassToElement(asElement(n),i)}function closest(n,i){return n=asElement(resolveTarget(n)),n?n.closest(i):null}function startsWith(n,i){return n.substring(0,i.length)===i}function endsWith(n,i){return n.substring(n.length-i.length)===i}function normalizeSelector(n){const i=n.trim();return startsWith(i,"<")&&endsWith(i,"/>")?i.substring(1,i.length-2):i}function querySelectorAllExt(n,i,s){if(i.indexOf("global ")===0)return querySelectorAllExt(n,i.slice(7),!0);n=resolveTarget(n);const c=[];{let h=0,m=0;for(let D=0;D<i.length;D++){const A=i[D];if(A===","&&h===0){c.push(i.substring(m,D)),m=D+1;continue}A==="<"?h++:A==="/"&&D<i.length-1&&i[D+1]===">"&&h--}m<i.length&&c.push(i.substring(m))}const f=[],d=[];for(;c.length>0;){const h=normalizeSelector(c.shift());let m;h.indexOf("closest ")===0?m=closest(asElement(n),normalizeSelector(h.slice(8))):h.indexOf("find ")===0?m=find(asParentNode(n),normalizeSelector(h.slice(5))):h==="next"||h==="nextElementSibling"?m=asElement(n).nextElementSibling:h.indexOf("next ")===0?m=scanForwardQuery(n,normalizeSelector(h.slice(5)),!!s):h==="previous"||h==="previousElementSibling"?m=asElement(n).previousElementSibling:h.indexOf("previous ")===0?m=scanBackwardsQuery(n,normalizeSelector(h.slice(9)),!!s):h==="document"?m=document:h==="window"?m=window:h==="body"?m=document.body:h==="root"?m=getRootNode(n,!!s):h==="host"?m=n.getRootNode().host:d.push(h),m&&f.push(m)}if(d.length>0){const h=d.join(","),m=asParentNode(getRootNode(n,!!s));f.push(...toArray(m.querySelectorAll(h)))}return f}var scanForwardQuery=function(n,i,s){const c=asParentNode(getRootNode(n,s)).querySelectorAll(i);for(let f=0;f<c.length;f++){const d=c[f];if(d.compareDocumentPosition(n)===Node.DOCUMENT_POSITION_PRECEDING)return d}},scanBackwardsQuery=function(n,i,s){const c=asParentNode(getRootNode(n,s)).querySelectorAll(i);for(let f=c.length-1;f>=0;f--){const d=c[f];if(d.compareDocumentPosition(n)===Node.DOCUMENT_POSITION_FOLLOWING)return d}};function querySelectorExt(n,i){return typeof n!="string"?querySelectorAllExt(n,i)[0]:querySelectorAllExt(getDocument().body,n)[0]}function resolveTarget(n,i){return typeof n=="string"?find(asParentNode(i)||document,n):n}function processEventArgs(n,i,s,c){return isFunction(i)?{target:getDocument().body,event:asString(n),listener:i,options:s}:{target:resolveTarget(n),event:asString(i),listener:s,options:c}}function addEventListenerImpl(n,i,s,c){return ready(function(){const d=processEventArgs(n,i,s,c);d.target.addEventListener(d.event,d.listener,d.options)}),isFunction(i)?i:s}function removeEventListenerImpl(n,i,s){return ready(function(){const c=processEventArgs(n,i,s);c.target.removeEventListener(c.event,c.listener)}),isFunction(i)?i:s}const DUMMY_ELT=getDocument().createElement("output");function findAttributeTargets(n,i){const s=getClosestAttributeValue(n,i);if(s){if(s==="this")return[findThisElement(n,i)];{const c=querySelectorAllExt(n,s);if(/(^|,)(\s*)inherit(\s*)($|,)/.test(s)){const d=asElement(getClosestMatch(n,function(h){return h!==n&&hasAttribute(asElement(h),i)}));d&&c.push(...findAttributeTargets(d,i))}return c.length===0?(logError('The selector "'+s+'" on '+i+" returned no matches!"),[DUMMY_ELT]):c}}}function findThisElement(n,i){return asElement(getClosestMatch(n,function(s){return getAttributeValue(asElement(s),i)!=null}))}function getTarget(n){const i=getClosestAttributeValue(n,"hx-target");return i?i==="this"?findThisElement(n,"hx-target"):querySelectorExt(n,i):getInternalData(n).boosted?getDocument().body:n}function shouldSettleAttribute(n){return htmx.config.attributesToSettle.includes(n)}function cloneAttributes(n,i){forEach(n.attributes,function(s){!i.hasAttribute(s.name)&&shouldSettleAttribute(s.name)&&n.removeAttribute(s.name)}),forEach(i.attributes,function(s){shouldSettleAttribute(s.name)&&n.setAttribute(s.name,s.value)})}function isInlineSwap(n,i){const s=getExtensions(i);for(let c=0;c<s.length;c++){const f=s[c];try{if(f.isInlineSwap(n))return!0}catch(d){logError(d)}}return n==="outerHTML"}function oobSwap(n,i,s,c){c=c||getDocument();let f="#"+CSS.escape(getRawAttribute(i,"id")),d="outerHTML";n==="true"||(n.indexOf(":")>0?(d=n.substring(0,n.indexOf(":")),f=n.substring(n.indexOf(":")+1)):d=n),i.removeAttribute("hx-swap-oob"),i.removeAttribute("data-hx-swap-oob");const h=querySelectorAllExt(c,f,!1);return h.length?(forEach(h,function(m){let D;const A=i.cloneNode(!0);D=getDocument().createDocumentFragment(),D.appendChild(A),isInlineSwap(d,m)||(D=asParentNode(A));const p={shouldSwap:!0,target:m,fragment:D};triggerEvent(m,"htmx:oobBeforeSwap",p)&&(m=p.target,p.shouldSwap&&(handlePreservedElements(D),swapWithStyle(d,m,m,D,s),restorePreservedElements()),forEach(s.elts,function(w){triggerEvent(w,"htmx:oobAfterSwap",p)}))}),i.parentNode.removeChild(i)):(i.parentNode.removeChild(i),triggerErrorEvent(getDocument().body,"htmx:oobErrorNoTarget",{content:i})),n}function restorePreservedElements(){const n=find("#--htmx-preserve-pantry--");if(n){for(const i of[...n.children]){const s=find("#"+i.id);s.parentNode.moveBefore(i,s),s.remove()}n.remove()}}function handlePreservedElements(n){forEach(findAll(n,"[hx-preserve], [data-hx-preserve]"),function(i){const s=getAttributeValue(i,"id"),c=getDocument().getElementById(s);if(c!=null)if(i.moveBefore){let f=find("#--htmx-preserve-pantry--");f==null&&(getDocument().body.insertAdjacentHTML("afterend","<div id='--htmx-preserve-pantry--'></div>"),f=find("#--htmx-preserve-pantry--")),f.moveBefore(c,null)}else i.parentNode.replaceChild(c,i)})}function handleAttributes(n,i,s){forEach(i.querySelectorAll("[id]"),function(c){const f=getRawAttribute(c,"id");if(f&&f.length>0){const d=f.replace("'","\\'"),h=c.tagName.replace(":","\\:"),m=asParentNode(n),D=m&&m.querySelector(h+"[id='"+d+"']");if(D&&D!==m){const A=c.cloneNode();cloneAttributes(c,D),s.tasks.push(function(){cloneAttributes(c,A)})}}})}function makeAjaxLoadTask(n){return function(){removeClassFromElement(n,htmx.config.addedClass),processNode(asElement(n)),processFocus(asParentNode(n)),triggerEvent(n,"htmx:load")}}function processFocus(n){const i="[autofocus]",s=asHtmlElement(matches(n,i)?n:n.querySelector(i));s?.focus()}function insertNodesBefore(n,i,s,c){for(handleAttributes(n,s,c);s.childNodes.length>0;){const f=s.firstChild;addClassToElement(asElement(f),htmx.config.addedClass),n.insertBefore(f,i),f.nodeType!==Node.TEXT_NODE&&f.nodeType!==Node.COMMENT_NODE&&c.tasks.push(makeAjaxLoadTask(f))}}function stringHash(n,i){let s=0;for(;s<n.length;)i=(i<<5)-i+n.charCodeAt(s++)|0;return i}function attributeHash(n){let i=0;for(let s=0;s<n.attributes.length;s++){const c=n.attributes[s];c.value&&(i=stringHash(c.name,i),i=stringHash(c.value,i))}return i}function deInitOnHandlers(n){const i=getInternalData(n);if(i.onHandlers){for(let s=0;s<i.onHandlers.length;s++){const c=i.onHandlers[s];removeEventListenerImpl(n,c.event,c.listener)}delete i.onHandlers}}function deInitNode(n){const i=getInternalData(n);i.timeout&&clearTimeout(i.timeout),i.listenerInfos&&forEach(i.listenerInfos,function(s){s.on&&removeEventListenerImpl(s.on,s.trigger,s.listener)}),deInitOnHandlers(n),forEach(Object.keys(i),function(s){s!=="firstInitCompleted"&&delete i[s]})}function cleanUpElement(n){triggerEvent(n,"htmx:beforeCleanupElement"),deInitNode(n),forEach(n.children,function(i){cleanUpElement(i)})}function swapOuterHTML(n,i,s){if(n.tagName==="BODY")return swapInnerHTML(n,i,s);let c;const f=n.previousSibling,d=parentElt(n);if(d){for(insertNodesBefore(d,n,i,s),f==null?c=d.firstChild:c=f.nextSibling,s.elts=s.elts.filter(function(h){return h!==n});c&&c!==n;)c instanceof Element&&s.elts.push(c),c=c.nextSibling;cleanUpElement(n),n.remove()}}function swapAfterBegin(n,i,s){return insertNodesBefore(n,n.firstChild,i,s)}function swapBeforeBegin(n,i,s){return insertNodesBefore(parentElt(n),n,i,s)}function swapBeforeEnd(n,i,s){return insertNodesBefore(n,null,i,s)}function swapAfterEnd(n,i,s){return insertNodesBefore(parentElt(n),n.nextSibling,i,s)}function swapDelete(n){cleanUpElement(n);const i=parentElt(n);if(i)return i.removeChild(n)}function swapInnerHTML(n,i,s){const c=n.firstChild;if(insertNodesBefore(n,c,i,s),c){for(;c.nextSibling;)cleanUpElement(c.nextSibling),n.removeChild(c.nextSibling);cleanUpElement(c),n.removeChild(c)}}function swapWithStyle(n,i,s,c,f){switch(n){case"none":return;case"outerHTML":swapOuterHTML(s,c,f);return;case"afterbegin":swapAfterBegin(s,c,f);return;case"beforebegin":swapBeforeBegin(s,c,f);return;case"beforeend":swapBeforeEnd(s,c,f);return;case"afterend":swapAfterEnd(s,c,f);return;case"delete":swapDelete(s);return;default:var d=getExtensions(i);for(let h=0;h<d.length;h++){const m=d[h];try{const D=m.handleSwap(n,s,c,f);if(D){if(Array.isArray(D))for(let A=0;A<D.length;A++){const p=D[A];p.nodeType!==Node.TEXT_NODE&&p.nodeType!==Node.COMMENT_NODE&&f.tasks.push(makeAjaxLoadTask(p))}return}}catch(D){logError(D)}}n==="innerHTML"?swapInnerHTML(s,c,f):swapWithStyle(htmx.config.defaultSwapStyle,i,s,c,f)}}function findAndSwapOobElements(n,i,s){var c=findAll(n,"[hx-swap-oob], [data-hx-swap-oob]");return forEach(c,function(f){if(htmx.config.allowNestedOobSwaps||f.parentElement===null){const d=getAttributeValue(f,"hx-swap-oob");d!=null&&oobSwap(d,f,i,s)}else f.removeAttribute("hx-swap-oob"),f.removeAttribute("data-hx-swap-oob")}),c.length>0}function swap(n,i,s,c){c||(c={});let f=null,d=null,h=function(){maybeCall(c.beforeSwapCallback),n=resolveTarget(n);const A=c.contextElement?getRootNode(c.contextElement,!1):getDocument(),p=document.activeElement;let w={};w={elt:p,start:p?p.selectionStart:null,end:p?p.selectionEnd:null};const T=makeSettleInfo(n);if(s.swapStyle==="textContent")n.textContent=i;else{let N=makeFragment(i);if(T.title=c.title||N.title,c.historyRequest&&(N=N.querySelector("[hx-history-elt],[data-hx-history-elt]")||N),c.selectOOB){const G=c.selectOOB.split(",");for(let R=0;R<G.length;R++){const j=G[R].split(":",2);let Y=j[0].trim();Y.indexOf("#")===0&&(Y=Y.substring(1));const k=j[1]||"true",S=N.querySelector("#"+Y);S&&oobSwap(k,S,T,A)}}if(findAndSwapOobElements(N,T,A),forEach(findAll(N,"template"),function(G){G.content&&findAndSwapOobElements(G.content,T,A)&&G.remove()}),c.select){const G=getDocument().createDocumentFragment();forEach(N.querySelectorAll(c.select),function(R){G.appendChild(R)}),N=G}handlePreservedElements(N),swapWithStyle(s.swapStyle,c.contextElement,n,N,T),restorePreservedElements()}if(w.elt&&!bodyContains(w.elt)&&getRawAttribute(w.elt,"id")){const N=document.getElementById(getRawAttribute(w.elt,"id")),G={preventScroll:s.focusScroll!==void 0?!s.focusScroll:!htmx.config.defaultFocusScroll};if(N){if(w.start&&N.setSelectionRange)try{N.setSelectionRange(w.start,w.end)}catch{}N.focus(G)}}n.classList.remove(htmx.config.swappingClass),forEach(T.elts,function(N){N.classList&&N.classList.add(htmx.config.settlingClass),triggerEvent(N,"htmx:afterSwap",c.eventInfo)}),maybeCall(c.afterSwapCallback),s.ignoreTitle||handleTitle(T.title);const L=function(){if(forEach(T.tasks,function(N){N.call()}),forEach(T.elts,function(N){N.classList&&N.classList.remove(htmx.config.settlingClass),triggerEvent(N,"htmx:afterSettle",c.eventInfo)}),c.anchor){const N=asElement(resolveTarget("#"+c.anchor));N&&N.scrollIntoView({block:"start",behavior:"auto"})}updateScrollState(T.elts,s),maybeCall(c.afterSettleCallback),maybeCall(f)};s.settleDelay>0?getWindow().setTimeout(L,s.settleDelay):L()},m=htmx.config.globalViewTransitions;s.hasOwnProperty("transition")&&(m=s.transition);const D=c.contextElement||getDocument();if(m&&triggerEvent(D,"htmx:beforeTransition",c.eventInfo)&&typeof Promise<"u"&&document.startViewTransition){const A=new Promise(function(w,T){f=w,d=T}),p=h;h=function(){document.startViewTransition(function(){return p(),A})}}try{s?.swapDelay&&s.swapDelay>0?getWindow().setTimeout(h,s.swapDelay):h()}catch(A){throw triggerErrorEvent(D,"htmx:swapError",c.eventInfo),maybeCall(d),A}}function handleTriggerHeader(n,i,s){const c=n.getResponseHeader(i);if(c.indexOf("{")===0){const f=parseJSON(c);for(const d in f)if(f.hasOwnProperty(d)){let h=f[d];isRawObject(h)?s=h.target!==void 0?h.target:s:h={value:h},triggerEvent(s,d,h)}}else{const f=c.split(",");for(let d=0;d<f.length;d++)triggerEvent(s,f[d].trim(),[])}}const WHITESPACE_OR_COMMA=/[\s,]/,SYMBOL_START=/[_$a-zA-Z]/,SYMBOL_CONT=/[_$a-zA-Z0-9]/,STRINGISH_START=['"',"'","/"],NOT_WHITESPACE=/[^\s]/,COMBINED_SELECTOR_START=/[{(]/,COMBINED_SELECTOR_END=/[})]/;function tokenizeString(n){const i=[];let s=0;for(;s<n.length;){if(SYMBOL_START.exec(n.charAt(s))){for(var c=s;SYMBOL_CONT.exec(n.charAt(s+1));)s++;i.push(n.substring(c,s+1))}else if(STRINGISH_START.indexOf(n.charAt(s))!==-1){const f=n.charAt(s);var c=s;for(s++;s<n.length&&n.charAt(s)!==f;)n.charAt(s)==="\\"&&s++,s++;i.push(n.substring(c,s+1))}else{const f=n.charAt(s);i.push(f)}s++}return i}function isPossibleRelativeReference(n,i,s){return SYMBOL_START.exec(n.charAt(0))&&n!=="true"&&n!=="false"&&n!=="this"&&n!==s&&i!=="."}function maybeGenerateConditional(n,i,s){if(i[0]==="["){i.shift();let c=1,f=" return (function("+s+"){ return (",d=null;for(;i.length>0;){const h=i[0];if(h==="]"){if(c--,c===0){d===null&&(f=f+"true"),i.shift(),f+=")})";try{const m=maybeEval(n,function(){return Function(f)()},function(){return!0});return m.source=f,m}catch(m){return triggerErrorEvent(getDocument().body,"htmx:syntax:error",{error:m,source:f}),null}}}else h==="["&&c++;isPossibleRelativeReference(h,d,s)?f+="(("+s+"."+h+") ? ("+s+"."+h+") : (window."+h+"))":f=f+h,d=i.shift()}}}function consumeUntil(n,i){let s="";for(;n.length>0&&!i.test(n[0]);)s+=n.shift();return s}function consumeCSSSelector(n){let i;return n.length>0&&COMBINED_SELECTOR_START.test(n[0])?(n.shift(),i=consumeUntil(n,COMBINED_SELECTOR_END).trim(),n.shift()):i=consumeUntil(n,WHITESPACE_OR_COMMA),i}const INPUT_SELECTOR="input, textarea, select";function parseAndCacheTrigger(n,i,s){const c=[],f=tokenizeString(i);do{consumeUntil(f,NOT_WHITESPACE);const m=f.length,D=consumeUntil(f,/[,\[\s]/);if(D!=="")if(D==="every"){const A={trigger:"every"};consumeUntil(f,NOT_WHITESPACE),A.pollInterval=parseInterval(consumeUntil(f,/[,\[\s]/)),consumeUntil(f,NOT_WHITESPACE);var d=maybeGenerateConditional(n,f,"event");d&&(A.eventFilter=d),c.push(A)}else{const A={trigger:D};var d=maybeGenerateConditional(n,f,"event");for(d&&(A.eventFilter=d),consumeUntil(f,NOT_WHITESPACE);f.length>0&&f[0]!==",";){const w=f.shift();if(w==="changed")A.changed=!0;else if(w==="once")A.once=!0;else if(w==="consume")A.consume=!0;else if(w==="delay"&&f[0]===":")f.shift(),A.delay=parseInterval(consumeUntil(f,WHITESPACE_OR_COMMA));else if(w==="from"&&f[0]===":"){if(f.shift(),COMBINED_SELECTOR_START.test(f[0]))var h=consumeCSSSelector(f);else{var h=consumeUntil(f,WHITESPACE_OR_COMMA);if(h==="closest"||h==="find"||h==="next"||h==="previous"){f.shift();const L=consumeCSSSelector(f);L.length>0&&(h+=" "+L)}}A.from=h}else w==="target"&&f[0]===":"?(f.shift(),A.target=consumeCSSSelector(f)):w==="throttle"&&f[0]===":"?(f.shift(),A.throttle=parseInterval(consumeUntil(f,WHITESPACE_OR_COMMA))):w==="queue"&&f[0]===":"?(f.shift(),A.queue=consumeUntil(f,WHITESPACE_OR_COMMA)):w==="root"&&f[0]===":"?(f.shift(),A[w]=consumeCSSSelector(f)):w==="threshold"&&f[0]===":"?(f.shift(),A[w]=consumeUntil(f,WHITESPACE_OR_COMMA)):triggerErrorEvent(n,"htmx:syntax:error",{token:f.shift()});consumeUntil(f,NOT_WHITESPACE)}c.push(A)}f.length===m&&triggerErrorEvent(n,"htmx:syntax:error",{token:f.shift()}),consumeUntil(f,NOT_WHITESPACE)}while(f[0]===","&&f.shift());return s&&(s[i]=c),c}function getTriggerSpecs(n){const i=getAttributeValue(n,"hx-trigger");let s=[];if(i){const c=htmx.config.triggerSpecsCache;s=c&&c[i]||parseAndCacheTrigger(n,i,c)}return s.length>0?s:matches(n,"form")?[{trigger:"submit"}]:matches(n,'input[type="button"], input[type="submit"]')?[{trigger:"click"}]:matches(n,INPUT_SELECTOR)?[{trigger:"change"}]:[{trigger:"click"}]}function cancelPolling(n){getInternalData(n).cancelled=!0}function processPolling(n,i,s){const c=getInternalData(n);c.timeout=getWindow().setTimeout(function(){bodyContains(n)&&c.cancelled!==!0&&(maybeFilterEvent(s,n,makeEvent("hx:poll:trigger",{triggerSpec:s,target:n}))||i(n),processPolling(n,i,s))},s.pollInterval)}function isLocalLink(n){return location.hostname===n.hostname&&getRawAttribute(n,"href")&&getRawAttribute(n,"href").indexOf("#")!==0}function eltIsDisabled(n){return closest(n,htmx.config.disableSelector)}function boostElement(n,i,s){if(n instanceof HTMLAnchorElement&&isLocalLink(n)&&(n.target===""||n.target==="_self")||n.tagName==="FORM"&&String(getRawAttribute(n,"method")).toLowerCase()!=="dialog"){i.boosted=!0;let c,f;if(n.tagName==="A")c="get",f=getRawAttribute(n,"href");else{const d=getRawAttribute(n,"method");c=d?d.toLowerCase():"get",f=getRawAttribute(n,"action"),(f==null||f==="")&&(f=location.href),c==="get"&&f.includes("?")&&(f=f.replace(/\?[^#]+/,""))}s.forEach(function(d){addEventListener(n,function(h,m){const D=asElement(h);if(eltIsDisabled(D)){cleanUpElement(D);return}issueAjaxRequest(c,f,D,m)},i,d,!0)})}}function shouldCancel(n,i){return!!((n.type==="submit"||n.type==="click")&&(i=asElement(n.target)||i,i.tagName==="FORM"||i.form&&i.type==="submit"||(i=i.closest("a"),i&&i.href&&(i.getAttribute("href")==="#"||i.getAttribute("href").indexOf("#")!==0))))}function ignoreBoostedAnchorCtrlClick(n,i){return getInternalData(n).boosted&&n instanceof HTMLAnchorElement&&i.type==="click"&&(i.ctrlKey||i.metaKey)}function maybeFilterEvent(n,i,s){const c=n.eventFilter;if(c)try{return c.call(i,s)!==!0}catch(f){const d=c.source;return triggerErrorEvent(getDocument().body,"htmx:eventFilter:error",{error:f,source:d}),!0}return!1}function addEventListener(n,i,s,c,f){const d=getInternalData(n);let h;c.from?h=querySelectorAllExt(n,c.from):h=[n],c.changed&&("lastValue"in d||(d.lastValue=new WeakMap),h.forEach(function(m){d.lastValue.has(c)||d.lastValue.set(c,new WeakMap),d.lastValue.get(c).set(m,m.value)})),forEach(h,function(m){const D=function(A){if(!bodyContains(n)){m.removeEventListener(c.trigger,D);return}if(ignoreBoostedAnchorCtrlClick(n,A)||((f||shouldCancel(A,n))&&A.preventDefault(),maybeFilterEvent(c,n,A)))return;const p=getInternalData(A);if(p.triggerSpec=c,p.handledFor==null&&(p.handledFor=[]),p.handledFor.indexOf(n)<0){if(p.handledFor.push(n),c.consume&&A.stopPropagation(),c.target&&A.target&&!matches(asElement(A.target),c.target))return;if(c.once){if(d.triggeredOnce)return;d.triggeredOnce=!0}if(c.changed){const w=A.target,T=w.value,L=d.lastValue.get(c);if(L.has(w)&&L.get(w)===T)return;L.set(w,T)}if(d.delayed&&clearTimeout(d.delayed),d.throttle)return;c.throttle>0?d.throttle||(triggerEvent(n,"htmx:trigger"),i(n,A),d.throttle=getWindow().setTimeout(function(){d.throttle=null},c.throttle)):c.delay>0?d.delayed=getWindow().setTimeout(function(){triggerEvent(n,"htmx:trigger"),i(n,A)},c.delay):(triggerEvent(n,"htmx:trigger"),i(n,A))}};s.listenerInfos==null&&(s.listenerInfos=[]),s.listenerInfos.push({trigger:c.trigger,listener:D,on:m}),m.addEventListener(c.trigger,D)})}let windowIsScrolling=!1,scrollHandler=null;function initScrollHandler(){scrollHandler||(scrollHandler=function(){windowIsScrolling=!0},window.addEventListener("scroll",scrollHandler),window.addEventListener("resize",scrollHandler),setInterval(function(){windowIsScrolling&&(windowIsScrolling=!1,forEach(getDocument().querySelectorAll("[hx-trigger*='revealed'],[data-hx-trigger*='revealed']"),function(n){maybeReveal(n)}))},200))}function maybeReveal(n){!hasAttribute(n,"data-hx-revealed")&&isScrolledIntoView(n)&&(n.setAttribute("data-hx-revealed","true"),getInternalData(n).initHash?triggerEvent(n,"revealed"):n.addEventListener("htmx:afterProcessNode",function(){triggerEvent(n,"revealed")},{once:!0}))}function loadImmediately(n,i,s,c){const f=function(){s.loaded||(s.loaded=!0,triggerEvent(n,"htmx:trigger"),i(n))};c>0?getWindow().setTimeout(f,c):f()}function processVerbs(n,i,s){let c=!1;return forEach(VERBS,function(f){if(hasAttribute(n,"hx-"+f)){const d=getAttributeValue(n,"hx-"+f);c=!0,i.path=d,i.verb=f,s.forEach(function(h){addTriggerHandler(n,h,i,function(m,D){const A=asElement(m);if(eltIsDisabled(A)){cleanUpElement(A);return}issueAjaxRequest(f,d,A,D)})})}}),c}function addTriggerHandler(n,i,s,c){if(i.trigger==="revealed")initScrollHandler(),addEventListener(n,c,s,i),maybeReveal(asElement(n));else if(i.trigger==="intersect"){const f={};i.root&&(f.root=querySelectorExt(n,i.root)),i.threshold&&(f.threshold=parseFloat(i.threshold)),new IntersectionObserver(function(h){for(let m=0;m<h.length;m++)if(h[m].isIntersecting){triggerEvent(n,"intersect");break}},f).observe(asElement(n)),addEventListener(asElement(n),c,s,i)}else!s.firstInitCompleted&&i.trigger==="load"?maybeFilterEvent(i,n,makeEvent("load",{elt:n}))||loadImmediately(asElement(n),c,s,i.delay):i.pollInterval>0?(s.polling=!0,processPolling(asElement(n),c,i)):addEventListener(n,c,s,i)}function shouldProcessHxOn(n){const i=asElement(n);if(!i)return!1;const s=i.attributes;for(let c=0;c<s.length;c++){const f=s[c].name;if(startsWith(f,"hx-on:")||startsWith(f,"data-hx-on:")||startsWith(f,"hx-on-")||startsWith(f,"data-hx-on-"))return!0}return!1}const HX_ON_QUERY=new XPathEvaluator().createExpression('.//*[@*[ starts-with(name(), "hx-on:") or starts-with(name(), "data-hx-on:") or starts-with(name(), "hx-on-") or starts-with(name(), "data-hx-on-") ]]');function processHXOnRoot(n,i){shouldProcessHxOn(n)&&i.push(asElement(n));const s=HX_ON_QUERY.evaluate(n);let c=null;for(;c=s.iterateNext();)i.push(asElement(c))}function findHxOnWildcardElements(n){const i=[];if(n instanceof DocumentFragment)for(const s of n.childNodes)processHXOnRoot(s,i);else processHXOnRoot(n,i);return i}function findElementsToProcess(n){if(n.querySelectorAll){const s=", [hx-boost] a, [data-hx-boost] a, a[hx-boost], a[data-hx-boost]",c=[];for(const d in extensions){const h=extensions[d];if(h.getSelectors){var i=h.getSelectors();i&&c.push(i)}}return n.querySelectorAll(VERB_SELECTOR+s+", form, [type='submit'], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger]"+c.flat().map(d=>", "+d).join(""))}else return[]}function maybeSetLastButtonClicked(n){const i=getTargetButton(n.target),s=getRelatedFormData(n);s&&(s.lastButtonClicked=i)}function maybeUnsetLastButtonClicked(n){const i=getRelatedFormData(n);i&&(i.lastButtonClicked=null)}function getTargetButton(n){return closest(asElement(n),"button, input[type='submit']")}function getRelatedForm(n){return n.form||closest(n,"form")}function getRelatedFormData(n){const i=getTargetButton(n.target);if(!i)return;const s=getRelatedForm(i);return getInternalData(s)}function initButtonTracking(n){n.addEventListener("click",maybeSetLastButtonClicked),n.addEventListener("focusin",maybeSetLastButtonClicked),n.addEventListener("focusout",maybeUnsetLastButtonClicked)}function addHxOnEventHandler(n,i,s){const c=getInternalData(n);Array.isArray(c.onHandlers)||(c.onHandlers=[]);let f;const d=function(h){maybeEval(n,function(){eltIsDisabled(n)||(f||(f=new Function("event",s)),f.call(n,h))})};n.addEventListener(i,d),c.onHandlers.push({event:i,listener:d})}function processHxOnWildcard(n){deInitOnHandlers(n);for(let i=0;i<n.attributes.length;i++){const s=n.attributes[i].name,c=n.attributes[i].value;if(startsWith(s,"hx-on")||startsWith(s,"data-hx-on")){const f=s.indexOf("-on")+3,d=s.slice(f,f+1);if(d==="-"||d===":"){let h=s.slice(f+1);startsWith(h,":")?h="htmx"+h:startsWith(h,"-")?h="htmx:"+h.slice(1):startsWith(h,"htmx-")&&(h="htmx:"+h.slice(5)),addHxOnEventHandler(n,h,c)}}}}function initNode(n){triggerEvent(n,"htmx:beforeProcessNode");const i=getInternalData(n),s=getTriggerSpecs(n);processVerbs(n,i,s)||(getClosestAttributeValue(n,"hx-boost")==="true"?boostElement(n,i,s):hasAttribute(n,"hx-trigger")&&s.forEach(function(f){addTriggerHandler(n,f,i,function(){})})),(n.tagName==="FORM"||getRawAttribute(n,"type")==="submit"&&hasAttribute(n,"form"))&&initButtonTracking(n),i.firstInitCompleted=!0,triggerEvent(n,"htmx:afterProcessNode")}function maybeDeInitAndHash(n){if(!(n instanceof Element))return!1;const i=getInternalData(n),s=attributeHash(n);return i.initHash!==s?(deInitNode(n),i.initHash=s,!0):!1}function processNode(n){if(n=resolveTarget(n),eltIsDisabled(n)){cleanUpElement(n);return}const i=[];maybeDeInitAndHash(n)&&i.push(n),forEach(findElementsToProcess(n),function(s){if(eltIsDisabled(s)){cleanUpElement(s);return}maybeDeInitAndHash(s)&&i.push(s)}),forEach(findHxOnWildcardElements(n),processHxOnWildcard),forEach(i,initNode)}function kebabEventName(n){return n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function makeEvent(n,i){return new CustomEvent(n,{bubbles:!0,cancelable:!0,composed:!0,detail:i})}function triggerErrorEvent(n,i,s){triggerEvent(n,i,mergeObjects({error:i},s))}function ignoreEventForLogging(n){return n==="htmx:afterProcessNode"}function withExtensions(n,i,s){forEach(getExtensions(n,[],s),function(c){try{i(c)}catch(f){logError(f)}})}function logError(n){console.error(n)}function triggerEvent(n,i,s){n=resolveTarget(n),s==null&&(s={}),s.elt=n;const c=makeEvent(i,s);htmx.logger&&!ignoreEventForLogging(i)&&htmx.logger(n,i,s),s.error&&(logError(s.error),triggerEvent(n,"htmx:error",{errorInfo:s}));let f=n.dispatchEvent(c);const d=kebabEventName(i);if(f&&d!==i){const h=makeEvent(d,c.detail);f=f&&n.dispatchEvent(h)}return withExtensions(asElement(n),function(h){f=f&&h.onEvent(i,c)!==!1&&!c.defaultPrevented}),f}let currentPathForHistory=location.pathname+location.search;function setCurrentPathForHistory(n){currentPathForHistory=n,canAccessLocalStorage()&&sessionStorage.setItem("htmx-current-path-for-history",n)}function getHistoryElement(){return getDocument().querySelector("[hx-history-elt],[data-hx-history-elt]")||getDocument().body}function saveToHistoryCache(n,i){if(!canAccessLocalStorage())return;const s=cleanInnerHtmlForHistory(i),c=getDocument().title,f=window.scrollY;if(htmx.config.historyCacheSize<=0){sessionStorage.removeItem("htmx-history-cache");return}n=normalizePath(n);const d=parseJSON(sessionStorage.getItem("htmx-history-cache"))||[];for(let m=0;m<d.length;m++)if(d[m].url===n){d.splice(m,1);break}const h={url:n,content:s,title:c,scroll:f};for(triggerEvent(getDocument().body,"htmx:historyItemCreated",{item:h,cache:d}),d.push(h);d.length>htmx.config.historyCacheSize;)d.shift();for(;d.length>0;)try{sessionStorage.setItem("htmx-history-cache",JSON.stringify(d));break}catch(m){triggerErrorEvent(getDocument().body,"htmx:historyCacheError",{cause:m,cache:d}),d.shift()}}function getCachedHistory(n){if(!canAccessLocalStorage())return null;n=normalizePath(n);const i=parseJSON(sessionStorage.getItem("htmx-history-cache"))||[];for(let s=0;s<i.length;s++)if(i[s].url===n)return i[s];return null}function cleanInnerHtmlForHistory(n){const i=htmx.config.requestClass,s=n.cloneNode(!0);return forEach(findAll(s,"."+i),function(c){removeClassFromElement(c,i)}),forEach(findAll(s,"[data-disabled-by-htmx]"),function(c){c.removeAttribute("disabled")}),s.innerHTML}function saveCurrentPageToHistory(){const n=getHistoryElement();let i=currentPathForHistory;canAccessLocalStorage()&&(i=sessionStorage.getItem("htmx-current-path-for-history")),i=i||location.pathname+location.search,getDocument().querySelector('[hx-history="false" i],[data-hx-history="false" i]')||(triggerEvent(getDocument().body,"htmx:beforeHistorySave",{path:i,historyElt:n}),saveToHistoryCache(i,n)),htmx.config.historyEnabled&&history.replaceState({htmx:!0},getDocument().title,location.href)}function pushUrlIntoHistory(n){htmx.config.getCacheBusterParam&&(n=n.replace(/org\.htmx\.cache-buster=[^&]*&?/,""),(endsWith(n,"&")||endsWith(n,"?"))&&(n=n.slice(0,-1))),htmx.config.historyEnabled&&history.pushState({htmx:!0},"",n),setCurrentPathForHistory(n)}function replaceUrlInHistory(n){htmx.config.historyEnabled&&history.replaceState({htmx:!0},"",n),setCurrentPathForHistory(n)}function settleImmediately(n){forEach(n,function(i){i.call(void 0)})}function loadHistoryFromServer(n){const i=new XMLHttpRequest,s={swapStyle:"innerHTML",swapDelay:0,settleDelay:0},c={path:n,xhr:i,historyElt:getHistoryElement(),swapSpec:s};i.open("GET",n,!0),htmx.config.historyRestoreAsHxRequest&&i.setRequestHeader("HX-Request","true"),i.setRequestHeader("HX-History-Restore-Request","true"),i.setRequestHeader("HX-Current-URL",location.href),i.onload=function(){this.status>=200&&this.status<400?(c.response=this.response,triggerEvent(getDocument().body,"htmx:historyCacheMissLoad",c),swap(c.historyElt,c.response,s,{contextElement:c.historyElt,historyRequest:!0}),setCurrentPathForHistory(c.path),triggerEvent(getDocument().body,"htmx:historyRestore",{path:n,cacheMiss:!0,serverResponse:c.response})):triggerErrorEvent(getDocument().body,"htmx:historyCacheMissLoadError",c)},triggerEvent(getDocument().body,"htmx:historyCacheMiss",c)&&i.send()}function restoreHistory(n){saveCurrentPageToHistory(),n=n||location.pathname+location.search;const i=getCachedHistory(n);if(i){const s={swapStyle:"innerHTML",swapDelay:0,settleDelay:0,scroll:i.scroll},c={path:n,item:i,historyElt:getHistoryElement(),swapSpec:s};triggerEvent(getDocument().body,"htmx:historyCacheHit",c)&&(swap(c.historyElt,i.content,s,{contextElement:c.historyElt,title:i.title}),setCurrentPathForHistory(c.path),triggerEvent(getDocument().body,"htmx:historyRestore",c))}else htmx.config.refreshOnHistoryMiss?htmx.location.reload(!0):loadHistoryFromServer(n)}function addRequestIndicatorClasses(n){let i=findAttributeTargets(n,"hx-indicator");return i==null&&(i=[n]),forEach(i,function(s){const c=getInternalData(s);c.requestCount=(c.requestCount||0)+1,s.classList.add.call(s.classList,htmx.config.requestClass)}),i}function disableElements(n){let i=findAttributeTargets(n,"hx-disabled-elt");return i==null&&(i=[]),forEach(i,function(s){const c=getInternalData(s);c.requestCount=(c.requestCount||0)+1,s.setAttribute("disabled",""),s.setAttribute("data-disabled-by-htmx","")}),i}function removeRequestIndicators(n,i){forEach(n.concat(i),function(s){const c=getInternalData(s);c.requestCount=(c.requestCount||1)-1}),forEach(n,function(s){getInternalData(s).requestCount===0&&s.classList.remove.call(s.classList,htmx.config.requestClass)}),forEach(i,function(s){getInternalData(s).requestCount===0&&(s.removeAttribute("disabled"),s.removeAttribute("data-disabled-by-htmx"))})}function haveSeenNode(n,i){for(let s=0;s<n.length;s++)if(n[s].isSameNode(i))return!0;return!1}function shouldInclude(n){const i=n;return i.name===""||i.name==null||i.disabled||closest(i,"fieldset[disabled]")||i.type==="button"||i.type==="submit"||i.tagName==="image"||i.tagName==="reset"||i.tagName==="file"?!1:i.type==="checkbox"||i.type==="radio"?i.checked:!0}function addValueToFormData(n,i,s){n!=null&&i!=null&&(Array.isArray(i)?i.forEach(function(c){s.append(n,c)}):s.append(n,i))}function removeValueFromFormData(n,i,s){if(n!=null&&i!=null){let c=s.getAll(n);Array.isArray(i)?c=c.filter(f=>i.indexOf(f)<0):c=c.filter(f=>f!==i),s.delete(n),forEach(c,f=>s.append(n,f))}}function getValueFromInput(n){return n instanceof HTMLSelectElement&&n.multiple?toArray(n.querySelectorAll("option:checked")).map(function(i){return i.value}):n instanceof HTMLInputElement&&n.files?toArray(n.files):n.value}function processInputValue(n,i,s,c,f){if(!(c==null||haveSeenNode(n,c))){if(n.push(c),shouldInclude(c)){const d=getRawAttribute(c,"name");addValueToFormData(d,getValueFromInput(c),i),f&&validateElement(c,s)}c instanceof HTMLFormElement&&(forEach(c.elements,function(d){n.indexOf(d)>=0?removeValueFromFormData(d.name,getValueFromInput(d),i):n.push(d),f&&validateElement(d,s)}),new FormData(c).forEach(function(d,h){d instanceof File&&d.name===""||addValueToFormData(h,d,i)}))}}function validateElement(n,i){const s=n;s.willValidate&&(triggerEvent(s,"htmx:validation:validate"),s.checkValidity()||(i.push({elt:s,message:s.validationMessage,validity:s.validity}),triggerEvent(s,"htmx:validation:failed",{message:s.validationMessage,validity:s.validity})))}function overrideFormData(n,i){for(const s of i.keys())n.delete(s);return i.forEach(function(s,c){n.append(c,s)}),n}function getInputValues(n,i){const s=[],c=new FormData,f=new FormData,d=[],h=getInternalData(n);h.lastButtonClicked&&!bodyContains(h.lastButtonClicked)&&(h.lastButtonClicked=null);let m=n instanceof HTMLFormElement&&n.noValidate!==!0||getAttributeValue(n,"hx-validate")==="true";if(h.lastButtonClicked&&(m=m&&h.lastButtonClicked.formNoValidate!==!0),i!=="get"&&processInputValue(s,f,d,getRelatedForm(n),m),processInputValue(s,c,d,n,m),h.lastButtonClicked||n.tagName==="BUTTON"||n.tagName==="INPUT"&&getRawAttribute(n,"type")==="submit"){const A=h.lastButtonClicked||n,p=getRawAttribute(A,"name");addValueToFormData(p,A.value,f)}const D=findAttributeTargets(n,"hx-include");return forEach(D,function(A){processInputValue(s,c,d,asElement(A),m),matches(A,"form")||forEach(asParentNode(A).querySelectorAll(INPUT_SELECTOR),function(p){processInputValue(s,c,d,p,m)})}),overrideFormData(c,f),{errors:d,formData:c,values:formDataProxy(c)}}function appendParam(n,i,s){n!==""&&(n+="&"),String(s)==="[object Object]"&&(s=JSON.stringify(s));const c=encodeURIComponent(s);return n+=encodeURIComponent(i)+"="+c,n}function urlEncode(n){n=formDataFromObject(n);let i="";return n.forEach(function(s,c){i=appendParam(i,c,s)}),i}function getHeaders(n,i,s){const c={"HX-Request":"true","HX-Trigger":getRawAttribute(n,"id"),"HX-Trigger-Name":getRawAttribute(n,"name"),"HX-Target":getAttributeValue(i,"id"),"HX-Current-URL":location.href};return getValuesForElement(n,"hx-headers",!1,c),s!==void 0&&(c["HX-Prompt"]=s),getInternalData(n).boosted&&(c["HX-Boosted"]="true"),c}function filterValues(n,i){const s=getClosestAttributeValue(i,"hx-params");if(s){if(s==="none")return new FormData;if(s==="*")return n;if(s.indexOf("not ")===0)return forEach(s.slice(4).split(","),function(c){c=c.trim(),n.delete(c)}),n;{const c=new FormData;return forEach(s.split(","),function(f){f=f.trim(),n.has(f)&&n.getAll(f).forEach(function(d){c.append(f,d)})}),c}}else return n}function isAnchorLink(n){return!!getRawAttribute(n,"href")&&getRawAttribute(n,"href").indexOf("#")>=0}function getSwapSpecification(n,i){const s=i||getClosestAttributeValue(n,"hx-swap"),c={swapStyle:getInternalData(n).boosted?"innerHTML":htmx.config.defaultSwapStyle,swapDelay:htmx.config.defaultSwapDelay,settleDelay:htmx.config.defaultSettleDelay};if(htmx.config.scrollIntoViewOnBoost&&getInternalData(n).boosted&&!isAnchorLink(n)&&(c.show="top"),s){const h=splitOnWhitespace(s);if(h.length>0)for(let m=0;m<h.length;m++){const D=h[m];if(D.indexOf("swap:")===0)c.swapDelay=parseInterval(D.slice(5));else if(D.indexOf("settle:")===0)c.settleDelay=parseInterval(D.slice(7));else if(D.indexOf("transition:")===0)c.transition=D.slice(11)==="true";else if(D.indexOf("ignoreTitle:")===0)c.ignoreTitle=D.slice(12)==="true";else if(D.indexOf("scroll:")===0){var f=D.slice(7).split(":");const p=f.pop();var d=f.length>0?f.join(":"):null;c.scroll=p,c.scrollTarget=d}else if(D.indexOf("show:")===0){var f=D.slice(5).split(":");const w=f.pop();var d=f.length>0?f.join(":"):null;c.show=w,c.showTarget=d}else if(D.indexOf("focus-scroll:")===0){const A=D.slice(13);c.focusScroll=A=="true"}else m==0?c.swapStyle=D:logError("Unknown modifier in hx-swap: "+D)}}return c}function usesFormData(n){return getClosestAttributeValue(n,"hx-encoding")==="multipart/form-data"||matches(n,"form")&&getRawAttribute(n,"enctype")==="multipart/form-data"}function encodeParamsForBody(n,i,s){let c=null;return withExtensions(i,function(f){c==null&&(c=f.encodeParameters(n,s,i))}),c??(usesFormData(i)?overrideFormData(new FormData,formDataFromObject(s)):urlEncode(s))}function makeSettleInfo(n){return{tasks:[],elts:[n]}}function updateScrollState(n,i){const s=n[0],c=n[n.length-1];if(i.scroll){var f=null;i.scrollTarget&&(f=asElement(querySelectorExt(s,i.scrollTarget))),i.scroll==="top"&&(s||f)&&(f=f||s,f.scrollTop=0),i.scroll==="bottom"&&(c||f)&&(f=f||c,f.scrollTop=f.scrollHeight),typeof i.scroll=="number"&&getWindow().setTimeout(function(){window.scrollTo(0,i.scroll)},0)}if(i.show){var f=null;if(i.showTarget){let h=i.showTarget;i.showTarget==="window"&&(h="body"),f=asElement(querySelectorExt(s,h))}i.show==="top"&&(s||f)&&(f=f||s,f.scrollIntoView({block:"start",behavior:htmx.config.scrollBehavior})),i.show==="bottom"&&(c||f)&&(f=f||c,f.scrollIntoView({block:"end",behavior:htmx.config.scrollBehavior}))}}function getValuesForElement(n,i,s,c,f){if(c==null&&(c={}),n==null)return c;const d=getAttributeValue(n,i);if(d){let h=d.trim(),m=s;if(h==="unset")return null;h.indexOf("javascript:")===0?(h=h.slice(11),m=!0):h.indexOf("js:")===0&&(h=h.slice(3),m=!0),h.indexOf("{")!==0&&(h="{"+h+"}");let D;m?D=maybeEval(n,function(){return f?Function("event","return ("+h+")").call(n,f):Function("return ("+h+")").call(n)},{}):D=parseJSON(h);for(const A in D)D.hasOwnProperty(A)&&c[A]==null&&(c[A]=D[A])}return getValuesForElement(asElement(parentElt(n)),i,s,c,f)}function maybeEval(n,i,s){return htmx.config.allowEval?i():(triggerErrorEvent(n,"htmx:evalDisallowedError"),s)}function getHXVarsForElement(n,i,s){return getValuesForElement(n,"hx-vars",!0,s,i)}function getHXValsForElement(n,i,s){return getValuesForElement(n,"hx-vals",!1,s,i)}function getExpressionVars(n,i){return mergeObjects(getHXVarsForElement(n,i),getHXValsForElement(n,i))}function safelySetHeaderValue(n,i,s){if(s!==null)try{n.setRequestHeader(i,s)}catch{n.setRequestHeader(i,encodeURIComponent(s)),n.setRequestHeader(i+"-URI-AutoEncoded","true")}}function getPathFromResponse(n){if(n.responseURL)try{const i=new URL(n.responseURL);return i.pathname+i.search}catch{triggerErrorEvent(getDocument().body,"htmx:badResponseUrl",{url:n.responseURL})}}function hasHeader(n,i){return i.test(n.getAllResponseHeaders())}function ajaxHelper(n,i,s){if(n=n.toLowerCase(),s){if(s instanceof Element||typeof s=="string")return issueAjaxRequest(n,i,null,null,{targetOverride:resolveTarget(s)||DUMMY_ELT,returnPromise:!0});{let c=resolveTarget(s.target);return(s.target&&!c||s.source&&!c&&!resolveTarget(s.source))&&(c=DUMMY_ELT),issueAjaxRequest(n,i,resolveTarget(s.source),s.event,{handler:s.handler,headers:s.headers,values:s.values,targetOverride:c,swapOverride:s.swap,select:s.select,returnPromise:!0})}}else return issueAjaxRequest(n,i,null,null,{returnPromise:!0})}function hierarchyForElt(n){const i=[];for(;n;)i.push(n),n=n.parentElement;return i}function verifyPath(n,i,s){const c=new URL(i,location.protocol!=="about:"?location.href:window.origin),d=(location.protocol!=="about:"?location.origin:window.origin)===c.origin;return htmx.config.selfRequestsOnly&&!d?!1:triggerEvent(n,"htmx:validateUrl",mergeObjects({url:c,sameHost:d},s))}function formDataFromObject(n){if(n instanceof FormData)return n;const i=new FormData;for(const s in n)n.hasOwnProperty(s)&&(n[s]&&typeof n[s].forEach=="function"?n[s].forEach(function(c){i.append(s,c)}):typeof n[s]=="object"&&!(n[s]instanceof Blob)?i.append(s,JSON.stringify(n[s])):i.append(s,n[s]));return i}function formDataArrayProxy(n,i,s){return new Proxy(s,{get:function(c,f){return typeof f=="number"?c[f]:f==="length"?c.length:f==="push"?function(d){c.push(d),n.append(i,d)}:typeof c[f]=="function"?function(){c[f].apply(c,arguments),n.delete(i),c.forEach(function(d){n.append(i,d)})}:c[f]&&c[f].length===1?c[f][0]:c[f]},set:function(c,f,d){return c[f]=d,n.delete(i),c.forEach(function(h){n.append(i,h)}),!0}})}function formDataProxy(n){return new Proxy(n,{get:function(i,s){if(typeof s=="symbol"){const f=Reflect.get(i,s);return typeof f=="function"?function(){return f.apply(n,arguments)}:f}if(s==="toJSON")return()=>Object.fromEntries(n);if(s in i&&typeof i[s]=="function")return function(){return n[s].apply(n,arguments)};const c=n.getAll(s);if(c.length!==0)return c.length===1?c[0]:formDataArrayProxy(i,s,c)},set:function(i,s,c){return typeof s!="string"?!1:(i.delete(s),c&&typeof c.forEach=="function"?c.forEach(function(f){i.append(s,f)}):typeof c=="object"&&!(c instanceof Blob)?i.append(s,JSON.stringify(c)):i.append(s,c),!0)},deleteProperty:function(i,s){return typeof s=="string"&&i.delete(s),!0},ownKeys:function(i){return Reflect.ownKeys(Object.fromEntries(i))},getOwnPropertyDescriptor:function(i,s){return Reflect.getOwnPropertyDescriptor(Object.fromEntries(i),s)}})}function issueAjaxRequest(n,i,s,c,f,d){let h=null,m=null;if(f=f??{},f.returnPromise&&typeof Promise<"u")var D=new Promise(function(J,ge){h=J,m=ge});s==null&&(s=getDocument().body);const A=f.handler||handleAjaxResponse,p=f.select||null;if(!bodyContains(s))return maybeCall(h),D;const w=f.targetOverride||asElement(getTarget(s));if(w==null||w==DUMMY_ELT)return triggerErrorEvent(s,"htmx:targetError",{target:getClosestAttributeValue(s,"hx-target")}),maybeCall(m),D;let T=getInternalData(s);const L=T.lastButtonClicked;if(L){const J=getRawAttribute(L,"formaction");J!=null&&(i=J);const ge=getRawAttribute(L,"formmethod");if(ge!=null)if(VERBS.includes(ge.toLowerCase()))n=ge;else return maybeCall(h),D}const N=getClosestAttributeValue(s,"hx-confirm");if(d===void 0&&triggerEvent(s,"htmx:confirm",{target:w,elt:s,path:i,verb:n,triggeringEvent:c,etc:f,issueRequest:function(Ie){return issueAjaxRequest(n,i,s,c,f,!!Ie)},question:N})===!1)return maybeCall(h),D;let G=s,R=getClosestAttributeValue(s,"hx-sync"),j=null,Y=!1;if(R){const J=R.split(":"),ge=J[0].trim();if(ge==="this"?G=findThisElement(s,"hx-sync"):G=asElement(querySelectorExt(s,ge)),R=(J[1]||"drop").trim(),T=getInternalData(G),R==="drop"&&T.xhr&&T.abortable!==!0)return maybeCall(h),D;if(R==="abort"){if(T.xhr)return maybeCall(h),D;Y=!0}else R==="replace"?triggerEvent(G,"htmx:abort"):R.indexOf("queue")===0&&(j=(R.split(" ")[1]||"last").trim())}if(T.xhr)if(T.abortable)triggerEvent(G,"htmx:abort");else{if(j==null){if(c){const J=getInternalData(c);J&&J.triggerSpec&&J.triggerSpec.queue&&(j=J.triggerSpec.queue)}j==null&&(j="last")}return T.queuedRequests==null&&(T.queuedRequests=[]),j==="first"&&T.queuedRequests.length===0?T.queuedRequests.push(function(){issueAjaxRequest(n,i,s,c,f)}):j==="all"?T.queuedRequests.push(function(){issueAjaxRequest(n,i,s,c,f)}):j==="last"&&(T.queuedRequests=[],T.queuedRequests.push(function(){issueAjaxRequest(n,i,s,c,f)})),maybeCall(h),D}const k=new XMLHttpRequest;T.xhr=k,T.abortable=Y;const S=function(){T.xhr=null,T.abortable=!1,T.queuedRequests!=null&&T.queuedRequests.length>0&&T.queuedRequests.shift()()},U=getClosestAttributeValue(s,"hx-prompt");if(U){var M=prompt(U);if(M===null||!triggerEvent(s,"htmx:prompt",{prompt:M,target:w}))return maybeCall(h),S(),D}if(N&&!d&&!confirm(N))return maybeCall(h),S(),D;let I=getHeaders(s,w,M);n!=="get"&&!usesFormData(s)&&(I["Content-Type"]="application/x-www-form-urlencoded"),f.headers&&(I=mergeObjects(I,f.headers));const z=getInputValues(s,n);let P=z.errors;const xe=z.formData;f.values&&overrideFormData(xe,formDataFromObject(f.values));const ne=formDataFromObject(getExpressionVars(s,c)),q=overrideFormData(xe,ne);let te=filterValues(q,s);htmx.config.getCacheBusterParam&&n==="get"&&te.set("org.htmx.cache-buster",getRawAttribute(w,"id")||"true"),(i==null||i==="")&&(i=location.href);const oe=getValuesForElement(s,"hx-request"),O=getInternalData(s).boosted;let ce=htmx.config.methodsThatUseUrlParams.indexOf(n)>=0;const Z={boosted:O,useUrlParams:ce,formData:te,parameters:formDataProxy(te),unfilteredFormData:q,unfilteredParameters:formDataProxy(q),headers:I,elt:s,target:w,verb:n,errors:P,withCredentials:f.credentials||oe.credentials||htmx.config.withCredentials,timeout:f.timeout||oe.timeout||htmx.config.timeout,path:i,triggeringEvent:c};if(!triggerEvent(s,"htmx:configRequest",Z))return maybeCall(h),S(),D;if(i=Z.path,n=Z.verb,I=Z.headers,te=formDataFromObject(Z.parameters),P=Z.errors,ce=Z.useUrlParams,P&&P.length>0)return triggerEvent(s,"htmx:validation:halted",Z),maybeCall(h),S(),D;const De=i.split("#"),be=De[0],Fe=De[1];let ae=i;if(ce&&(ae=be,!te.keys().next().done&&(ae.indexOf("?")<0?ae+="?":ae+="&",ae+=urlEncode(te),Fe&&(ae+="#"+Fe))),!verifyPath(s,ae,Z))return triggerErrorEvent(s,"htmx:invalidPath",Z),maybeCall(m),S(),D;if(k.open(n.toUpperCase(),ae,!0),k.overrideMimeType("text/html"),k.withCredentials=Z.withCredentials,k.timeout=Z.timeout,!oe.noHeaders){for(const J in I)if(I.hasOwnProperty(J)){const ge=I[J];safelySetHeaderValue(k,J,ge)}}const fe={xhr:k,target:w,requestConfig:Z,etc:f,boosted:O,select:p,pathInfo:{requestPath:i,finalRequestPath:ae,responsePath:null,anchor:Fe}};if(k.onload=function(){try{const J=hierarchyForElt(s);if(fe.pathInfo.responsePath=getPathFromResponse(k),A(s,fe),fe.keepIndicators!==!0&&removeRequestIndicators(Oe,le),triggerEvent(s,"htmx:afterRequest",fe),triggerEvent(s,"htmx:afterOnLoad",fe),!bodyContains(s)){let ge=null;for(;J.length>0&&ge==null;){const Ie=J.shift();bodyContains(Ie)&&(ge=Ie)}ge&&(triggerEvent(ge,"htmx:afterRequest",fe),triggerEvent(ge,"htmx:afterOnLoad",fe))}maybeCall(h)}catch(J){throw triggerErrorEvent(s,"htmx:onLoadError",mergeObjects({error:J},fe)),J}finally{S()}},k.onerror=function(){removeRequestIndicators(Oe,le),triggerErrorEvent(s,"htmx:afterRequest",fe),triggerErrorEvent(s,"htmx:sendError",fe),maybeCall(m),S()},k.onabort=function(){removeRequestIndicators(Oe,le),triggerErrorEvent(s,"htmx:afterRequest",fe),triggerErrorEvent(s,"htmx:sendAbort",fe),maybeCall(m),S()},k.ontimeout=function(){removeRequestIndicators(Oe,le),triggerErrorEvent(s,"htmx:afterRequest",fe),triggerErrorEvent(s,"htmx:timeout",fe),maybeCall(m),S()},!triggerEvent(s,"htmx:beforeRequest",fe))return maybeCall(h),S(),D;var Oe=addRequestIndicatorClasses(s),le=disableElements(s);forEach(["loadstart","loadend","progress","abort"],function(J){forEach([k,k.upload],function(ge){ge.addEventListener(J,function(Ie){triggerEvent(s,"htmx:xhr:"+J,{lengthComputable:Ie.lengthComputable,loaded:Ie.loaded,total:Ie.total})})})}),triggerEvent(s,"htmx:beforeSend",fe);const mt=ce?null:encodeParamsForBody(k,s,te);return k.send(mt),D}function determineHistoryUpdates(n,i){const s=i.xhr;let c=null,f=null;if(hasHeader(s,/HX-Push:/i)?(c=s.getResponseHeader("HX-Push"),f="push"):hasHeader(s,/HX-Push-Url:/i)?(c=s.getResponseHeader("HX-Push-Url"),f="push"):hasHeader(s,/HX-Replace-Url:/i)&&(c=s.getResponseHeader("HX-Replace-Url"),f="replace"),c)return c==="false"?{}:{type:f,path:c};const d=i.pathInfo.finalRequestPath,h=i.pathInfo.responsePath,m=getClosestAttributeValue(n,"hx-push-url"),D=getClosestAttributeValue(n,"hx-replace-url"),A=getInternalData(n).boosted;let p=null,w=null;return m?(p="push",w=m):D?(p="replace",w=D):A&&(p="push",w=h||d),w?w==="false"?{}:(w==="true"&&(w=h||d),i.pathInfo.anchor&&w.indexOf("#")===-1&&(w=w+"#"+i.pathInfo.anchor),{type:p,path:w}):{}}function codeMatches(n,i){var s=new RegExp(n.code);return s.test(i.toString(10))}function resolveResponseHandling(n){for(var i=0;i<htmx.config.responseHandling.length;i++){var s=htmx.config.responseHandling[i];if(codeMatches(s,n.status))return s}return{swap:!1}}function handleTitle(n){if(n){const i=find("title");i?i.textContent=n:window.document.title=n}}function resolveRetarget(n,i){if(i==="this")return n;const s=asElement(querySelectorExt(n,i));if(s==null)throw triggerErrorEvent(n,"htmx:targetError",{target:i}),new Error(`Invalid re-target ${i}`);return s}function handleAjaxResponse(n,i){const s=i.xhr;let c=i.target;const f=i.etc,d=i.select;if(!triggerEvent(n,"htmx:beforeOnLoad",i))return;if(hasHeader(s,/HX-Trigger:/i)&&handleTriggerHeader(s,"HX-Trigger",n),hasHeader(s,/HX-Location:/i)){saveCurrentPageToHistory();let Y=s.getResponseHeader("HX-Location");var h;Y.indexOf("{")===0&&(h=parseJSON(Y),Y=h.path,delete h.path),ajaxHelper("get",Y,h).then(function(){pushUrlIntoHistory(Y)});return}const m=hasHeader(s,/HX-Refresh:/i)&&s.getResponseHeader("HX-Refresh")==="true";if(hasHeader(s,/HX-Redirect:/i)){i.keepIndicators=!0,htmx.location.href=s.getResponseHeader("HX-Redirect"),m&&htmx.location.reload();return}if(m){i.keepIndicators=!0,htmx.location.reload();return}const D=determineHistoryUpdates(n,i),A=resolveResponseHandling(s),p=A.swap;let w=!!A.error,T=htmx.config.ignoreTitle||A.ignoreTitle,L=A.select;A.target&&(i.target=resolveRetarget(n,A.target));var N=f.swapOverride;N==null&&A.swapOverride&&(N=A.swapOverride),hasHeader(s,/HX-Retarget:/i)&&(i.target=resolveRetarget(n,s.getResponseHeader("HX-Retarget"))),hasHeader(s,/HX-Reswap:/i)&&(N=s.getResponseHeader("HX-Reswap"));var G=s.response,R=mergeObjects({shouldSwap:p,serverResponse:G,isError:w,ignoreTitle:T,selectOverride:L,swapOverride:N},i);if(!(A.event&&!triggerEvent(c,A.event,R))&&triggerEvent(c,"htmx:beforeSwap",R)){if(c=R.target,G=R.serverResponse,w=R.isError,T=R.ignoreTitle,L=R.selectOverride,N=R.swapOverride,i.target=c,i.failed=w,i.successful=!w,R.shouldSwap){s.status===286&&cancelPolling(n),withExtensions(n,function(S){G=S.transformResponse(G,s,n)}),D.type&&saveCurrentPageToHistory();var j=getSwapSpecification(n,N);j.hasOwnProperty("ignoreTitle")||(j.ignoreTitle=T),c.classList.add(htmx.config.swappingClass),d&&(L=d),hasHeader(s,/HX-Reselect:/i)&&(L=s.getResponseHeader("HX-Reselect"));const Y=getClosestAttributeValue(n,"hx-select-oob"),k=getClosestAttributeValue(n,"hx-select");swap(c,G,j,{select:L==="unset"?null:L||k,selectOOB:Y,eventInfo:i,anchor:i.pathInfo.anchor,contextElement:n,afterSwapCallback:function(){if(hasHeader(s,/HX-Trigger-After-Swap:/i)){let S=n;bodyContains(n)||(S=getDocument().body),handleTriggerHeader(s,"HX-Trigger-After-Swap",S)}},afterSettleCallback:function(){if(hasHeader(s,/HX-Trigger-After-Settle:/i)){let S=n;bodyContains(n)||(S=getDocument().body),handleTriggerHeader(s,"HX-Trigger-After-Settle",S)}},beforeSwapCallback:function(){D.type&&(triggerEvent(getDocument().body,"htmx:beforeHistoryUpdate",mergeObjects({history:D},i)),D.type==="push"?(pushUrlIntoHistory(D.path),triggerEvent(getDocument().body,"htmx:pushedIntoHistory",{path:D.path})):(replaceUrlInHistory(D.path),triggerEvent(getDocument().body,"htmx:replacedInHistory",{path:D.path})))}})}w&&triggerErrorEvent(n,"htmx:responseError",mergeObjects({error:"Response Status Error Code "+s.status+" from "+i.pathInfo.requestPath},i))}}const extensions={};function extensionBase(){return{init:function(n){return null},getSelectors:function(){return null},onEvent:function(n,i){return!0},transformResponse:function(n,i,s){return n},isInlineSwap:function(n){return!1},handleSwap:function(n,i,s,c){return!1},encodeParameters:function(n,i,s){return null}}}function defineExtension(n,i){i.init&&i.init(internalAPI),extensions[n]=mergeObjects(extensionBase(),i)}function removeExtension(n){delete extensions[n]}function getExtensions(n,i,s){if(i==null&&(i=[]),n==null)return i;s==null&&(s=[]);const c=getAttributeValue(n,"hx-ext");return c&&forEach(c.split(","),function(f){if(f=f.replace(/ /g,""),f.slice(0,7)=="ignore:"){s.push(f.slice(7));return}if(s.indexOf(f)<0){const d=extensions[f];d&&i.indexOf(d)<0&&i.push(d)}}),getExtensions(asElement(parentElt(n)),i,s)}var isReady=!1;getDocument().addEventListener("DOMContentLoaded",function(){isReady=!0});function ready(n){isReady||getDocument().readyState==="complete"?n():getDocument().addEventListener("DOMContentLoaded",n)}function insertIndicatorStyles(){if(htmx.config.includeIndicatorStyles!==!1){const n=htmx.config.inlineStyleNonce?` nonce="${htmx.config.inlineStyleNonce}"`:"";getDocument().head.insertAdjacentHTML("beforeend","<style"+n+">      ."+htmx.config.indicatorClass+"{opacity:0}      ."+htmx.config.requestClass+" ."+htmx.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}      ."+htmx.config.requestClass+"."+htmx.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}      </style>")}}function getMetaConfig(){const n=getDocument().querySelector('meta[name="htmx-config"]');return n?parseJSON(n.content):null}function mergeMetaConfig(){const n=getMetaConfig();n&&(htmx.config=mergeObjects(htmx.config,n))}return ready(function(){mergeMetaConfig(),insertIndicatorStyles();let n=getDocument().body;processNode(n);const i=getDocument().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");n.addEventListener("htmx:abort",function(c){const f=c.target,d=getInternalData(f);d&&d.xhr&&d.xhr.abort()});const s=window.onpopstate?window.onpopstate.bind(window):null;window.onpopstate=function(c){c.state&&c.state.htmx?(restoreHistory(),forEach(i,function(f){triggerEvent(f,"htmx:restored",{document:getDocument(),triggerEvent})})):s&&s(c)},getWindow().setTimeout(function(){triggerEvent(n,"htmx:load",{}),n=null},0)}),htmx})(),Html5QrcodeSupportedFormats;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Html5QrcodeSupportedFormats||(Html5QrcodeSupportedFormats={}));var html5QrcodeSupportedFormatsTextMap=new Map([[Html5QrcodeSupportedFormats.QR_CODE,"QR_CODE"],[Html5QrcodeSupportedFormats.AZTEC,"AZTEC"],[Html5QrcodeSupportedFormats.CODABAR,"CODABAR"],[Html5QrcodeSupportedFormats.CODE_39,"CODE_39"],[Html5QrcodeSupportedFormats.CODE_93,"CODE_93"],[Html5QrcodeSupportedFormats.CODE_128,"CODE_128"],[Html5QrcodeSupportedFormats.DATA_MATRIX,"DATA_MATRIX"],[Html5QrcodeSupportedFormats.MAXICODE,"MAXICODE"],[Html5QrcodeSupportedFormats.ITF,"ITF"],[Html5QrcodeSupportedFormats.EAN_13,"EAN_13"],[Html5QrcodeSupportedFormats.EAN_8,"EAN_8"],[Html5QrcodeSupportedFormats.PDF_417,"PDF_417"],[Html5QrcodeSupportedFormats.RSS_14,"RSS_14"],[Html5QrcodeSupportedFormats.RSS_EXPANDED,"RSS_EXPANDED"],[Html5QrcodeSupportedFormats.UPC_A,"UPC_A"],[Html5QrcodeSupportedFormats.UPC_E,"UPC_E"],[Html5QrcodeSupportedFormats.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),DecodedTextType;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(DecodedTextType||(DecodedTextType={}));function isValidHtml5QrcodeSupportedFormats(n){return Object.values(Html5QrcodeSupportedFormats).includes(n)}var Html5QrcodeScanType;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Html5QrcodeScanType||(Html5QrcodeScanType={}));var Html5QrcodeConstants=(function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[Html5QrcodeScanType.SCAN_TYPE_CAMERA,Html5QrcodeScanType.SCAN_TYPE_FILE],n})(),QrcodeResultFormat=(function(){function n(i,s){this.format=i,this.formatName=s}return n.prototype.toString=function(){return this.formatName},n.create=function(i){if(!html5QrcodeSupportedFormatsTextMap.has(i))throw"".concat(i," not in html5QrcodeSupportedFormatsTextMap");return new n(i,html5QrcodeSupportedFormatsTextMap.get(i))},n})(),Html5QrcodeResultFactory=(function(){function n(){}return n.createFromText=function(i){var s={text:i};return{decodedText:i,result:s}},n.createFromQrcodeResult=function(i){return{decodedText:i.text,result:i}},n})(),Html5QrcodeErrorTypes;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Html5QrcodeErrorTypes||(Html5QrcodeErrorTypes={}));var Html5QrcodeErrorFactory=(function(){function n(){}return n.createFrom=function(i){return{errorMessage:i,type:Html5QrcodeErrorTypes.UNKWOWN_ERROR}},n})(),BaseLoggger=(function(){function n(i){this.verbose=i}return n.prototype.log=function(i){this.verbose&&console.log(i)},n.prototype.warn=function(i){this.verbose&&console.warn(i)},n.prototype.logError=function(i,s){(this.verbose||s===!0)&&console.error(i)},n.prototype.logErrors=function(i){if(i.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(i)},n})();function isNullOrUndefined(n){return typeof n>"u"||n===null}var Html5QrcodeStrings=(function(){function n(){}return n.codeParseError=function(i){return"QR code parse error, error = ".concat(i)},n.errorGettingUserMedia=function(i){return"Error getting userMedia, error = ".concat(i)},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n.scannerPaused=function(){return"Scanner paused"},n})(),VideoConstraintsUtil=(function(){function n(){}return n.isMediaStreamConstraintsValid=function(i,s){if(typeof i!="object"){var c=typeof i;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(c,"."),!0),!1}for(var f=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(f),h=Object.keys(i),m=0,D=h;m<D.length;m++){var A=D[m];if(d.has(A))return s.logError("".concat(A," is not supported videoConstaints."),!0),!1}return!0},n})(),commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zxingJs_umd$2={exports:{}},zxingJs_umd$1=zxingJs_umd$2.exports,hasRequiredZxingJs_umd;function requireZxingJs_umd(){return hasRequiredZxingJs_umd||(hasRequiredZxingJs_umd=1,(function(n,i){(function(s,c){c(i)})(zxingJs_umd$1,(function(s){function c(g){return g==null}var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,e){g.__proto__=e}||function(g,e){for(var t in e)e.hasOwnProperty(t)&&(g[t]=e[t])};function d(g,e){f(g,e);function t(){this.constructor=g}g.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function h(g,e){var t=Object.setPrototypeOf;t?t(g,e):g.__proto__=e}function m(g,e){e===void 0&&(e=g.constructor);var t=Error.captureStackTrace;t&&t(g,e)}var D=(function(g){d(e,g);function e(t){var r=this.constructor,x=g.call(this,t)||this;return Object.defineProperty(x,"name",{value:r.name,enumerable:!1}),h(x,r.prototype),m(x),x}return e})(Error);class A extends D{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}A.kind="Exception";class p extends A{}p.kind="ArgumentException";class w extends A{}w.kind="IllegalArgumentException";class T{constructor(e){if(this.binarizer=e,e===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,r,x){const o=this.binarizer.getLuminanceSource().crop(e,t,r,x);return new T(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new T(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new T(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class L extends A{static getChecksumInstance(){return new L}}L.kind="ChecksumException";class N{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class G{static arraycopy(e,t,r,x,o){for(;o--;)r[x++]=e[t++]}static currentTimeMillis(){return Date.now()}}class R extends A{}R.kind="IndexOutOfBoundsException";class j extends R{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}j.kind="ArrayIndexOutOfBoundsException";class Y{static fill(e,t){for(let r=0,x=e.length;r<x;r++)e[r]=t}static fillWithin(e,t,r,x){Y.rangeCheck(e.length,t,r);for(let o=t;o<r;o++)e[o]=x}static rangeCheck(e,t,r){if(t>r)throw new w("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new j(t);if(r>e)throw new j(r)}static asList(...e){return e}static create(e,t,r){return Array.from({length:e}).map(o=>Array.from({length:t}).fill(r))}static createInt32Array(e,t,r){return Array.from({length:e}).map(o=>Int32Array.from({length:t}).fill(r))}static equals(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(let r=0,x=e.length;r<x;r++)if(e[r]!==t[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let t=1;for(const r of e)t=31*t+r;return t}static fillUint8Array(e,t){for(let r=0;r!==e.length;r++)e[r]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)}static copyOfRange(e,t,r){const x=r-t,o=new Int32Array(x);return G.arraycopy(e,t,o,0,x),o}static binarySearch(e,t,r){r===void 0&&(r=Y.numberComparator);let x=0,o=e.length-1;for(;x<=o;){const a=o+x>>1,l=r(t,e[a]);if(l>0)x=a+1;else if(l<0)o=a-1;else return a}return-x-1}static numberComparator(e,t){return e-t}}class k{static numberOfTrailingZeros(e){let t;if(e===0)return 32;let r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}k.MIN_VALUE_32_BITS=-2147483648,k.MAX_VALUE=Number.MAX_SAFE_INTEGER;class S{constructor(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=S.makeArray(e):this.bits=t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const t=S.makeArray(e);G.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const t=this.size;if(e>=t)return t;const r=this.bits;let x=Math.floor(e/32),o=r[x];o&=~((1<<(e&31))-1);const a=r.length;for(;o===0;){if(++x===a)return t;o=r[x]}const l=x*32+k.numberOfTrailingZeros(o);return l>t?t:l}getNextUnset(e){const t=this.size;if(e>=t)return t;const r=this.bits;let x=Math.floor(e/32),o=~r[x];o&=~((1<<(e&31))-1);const a=r.length;for(;o===0;){if(++x===a)return t;o=~r[x]}const l=x*32+k.numberOfTrailingZeros(o);return l>t?t:l}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new w;if(t===e)return;t--;const r=Math.floor(e/32),x=Math.floor(t/32),o=this.bits;for(let a=r;a<=x;a++){const l=a>r?0:e&31,E=(2<<(a<x?31:t&31))-(1<<l);o[a]|=E}}clear(){const e=this.bits.length,t=this.bits;for(let r=0;r<e;r++)t[r]=0}isRange(e,t,r){if(t<e||e<0||t>this.size)throw new w;if(t===e)return!0;t--;const x=Math.floor(e/32),o=Math.floor(t/32),a=this.bits;for(let l=x;l<=o;l++){const u=l>x?0:e&31,C=(2<<(l<o?31:t&31))-(1<<u)&4294967295;if((a[l]&C)!==(r?C:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,t){if(t<0||t>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let r=0;r<t;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new w("Sizes don't match");const t=this.bits;for(let r=0,x=t.length;r<x;r++)t[r]^=e.bits[r]}toBytes(e,t,r,x){for(let o=0;o<x;o++){let a=0;for(let l=0;l<8;l++)this.get(e)&&(a|=1<<7-l),e++;t[r+o]=a}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,x=this.bits;for(let o=0;o<r;o++){let a=x[o];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[t-o]=a}if(this.size!==r*32){const o=r*32-this.size;let a=e[0]>>>o;for(let l=1;l<r;l++){const u=e[l];a|=u<<32-o,e[l-1]=a,a=u>>>o}e[r-1]=a}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof S))return!1;const t=e;return this.size===t.size&&Y.equals(this.bits,t.bits)}hashCode(){return 31*this.size+Y.hashCode(this.bits)}toString(){let e="";for(let t=0,r=this.size;t<r;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new S(this.size,this.bits.slice())}}var U;(function(g){g[g.OTHER=0]="OTHER",g[g.PURE_BARCODE=1]="PURE_BARCODE",g[g.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",g[g.TRY_HARDER=3]="TRY_HARDER",g[g.CHARACTER_SET=4]="CHARACTER_SET",g[g.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",g[g.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",g[g.ASSUME_GS1=7]="ASSUME_GS1",g[g.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",g[g.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",g[g.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(U||(U={}));var M=U;class I extends A{static getFormatInstance(){return new I}}I.kind="FormatException";var z;(function(g){g[g.Cp437=0]="Cp437",g[g.ISO8859_1=1]="ISO8859_1",g[g.ISO8859_2=2]="ISO8859_2",g[g.ISO8859_3=3]="ISO8859_3",g[g.ISO8859_4=4]="ISO8859_4",g[g.ISO8859_5=5]="ISO8859_5",g[g.ISO8859_6=6]="ISO8859_6",g[g.ISO8859_7=7]="ISO8859_7",g[g.ISO8859_8=8]="ISO8859_8",g[g.ISO8859_9=9]="ISO8859_9",g[g.ISO8859_10=10]="ISO8859_10",g[g.ISO8859_11=11]="ISO8859_11",g[g.ISO8859_13=12]="ISO8859_13",g[g.ISO8859_14=13]="ISO8859_14",g[g.ISO8859_15=14]="ISO8859_15",g[g.ISO8859_16=15]="ISO8859_16",g[g.SJIS=16]="SJIS",g[g.Cp1250=17]="Cp1250",g[g.Cp1251=18]="Cp1251",g[g.Cp1252=19]="Cp1252",g[g.Cp1256=20]="Cp1256",g[g.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",g[g.UTF8=22]="UTF8",g[g.ASCII=23]="ASCII",g[g.Big5=24]="Big5",g[g.GB18030=25]="GB18030",g[g.EUC_KR=26]="EUC_KR"})(z||(z={}));class P{constructor(e,t,r,...x){this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=x,P.VALUE_IDENTIFIER_TO_ECI.set(e,this),P.NAME_TO_ECI.set(r,this);const o=this.values;for(let a=0,l=o.length;a!==l;a++){const u=o[a];P.VALUES_TO_ECI.set(u,this)}for(const a of x)P.NAME_TO_ECI.set(a,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new I("incorect value");const t=P.VALUES_TO_ECI.get(e);if(t===void 0)throw new I("incorect value");return t}static getCharacterSetECIByName(e){const t=P.NAME_TO_ECI.get(e);if(t===void 0)throw new I("incorect value");return t}equals(e){if(!(e instanceof P))return!1;const t=e;return this.getName()===t.getName()}}P.VALUE_IDENTIFIER_TO_ECI=new Map,P.VALUES_TO_ECI=new Map,P.NAME_TO_ECI=new Map,P.Cp437=new P(z.Cp437,Int32Array.from([0,2]),"Cp437"),P.ISO8859_1=new P(z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),P.ISO8859_2=new P(z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),P.ISO8859_3=new P(z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),P.ISO8859_4=new P(z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),P.ISO8859_5=new P(z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),P.ISO8859_6=new P(z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),P.ISO8859_7=new P(z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),P.ISO8859_8=new P(z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),P.ISO8859_9=new P(z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),P.ISO8859_10=new P(z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),P.ISO8859_11=new P(z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),P.ISO8859_13=new P(z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),P.ISO8859_14=new P(z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),P.ISO8859_15=new P(z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),P.ISO8859_16=new P(z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),P.SJIS=new P(z.SJIS,20,"SJIS","Shift_JIS"),P.Cp1250=new P(z.Cp1250,21,"Cp1250","windows-1250"),P.Cp1251=new P(z.Cp1251,22,"Cp1251","windows-1251"),P.Cp1252=new P(z.Cp1252,23,"Cp1252","windows-1252"),P.Cp1256=new P(z.Cp1256,24,"Cp1256","windows-1256"),P.UnicodeBigUnmarked=new P(z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),P.UTF8=new P(z.UTF8,26,"UTF8","UTF-8"),P.ASCII=new P(z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),P.Big5=new P(z.Big5,28,"Big5"),P.GB18030=new P(z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),P.EUC_KR=new P(z.EUC_KR,30,"EUC_KR","EUC-KR");class xe extends A{}xe.kind="UnsupportedOperationException";class ne{static decode(e,t){const r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!ne.isBrowser()&&e==="ISO-8859-1"}static encode(e,t){const r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof P?e:P.getCharacterSetECIByName(e)}static decodeFallback(e,t){const r=this.encodingCharacterSet(t);if(ne.isDecodeFallbackSupported(r)){let x="";for(let o=0,a=e.length;o<a;o++){let l=e[o].toString(16);l.length<2&&(l="0"+l),x+="%"+l}return decodeURIComponent(x)}if(r.equals(P.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new xe(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(P.UTF8)||e.equals(P.ISO8859_1)||e.equals(P.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),x=[];for(let o=0;o<r.length;o++)x.push(r[o].charCodeAt(0));return new Uint8Array(x)}}class q{static castAsNonUtf8Char(e,t=null){const r=t?t.getName():this.ISO88591;return ne.decode(new Uint8Array([e]),r)}static guessEncoding(e,t){if(t!=null&&t.get(M.CHARACTER_SET)!==void 0)return t.get(M.CHARACTER_SET).toString();const r=e.length;let x=!0,o=!0,a=!0,l=0,u=0,E=0,C=0,B=0,F=0,y=0,v=0,_=0,H=0,X=0;const $=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let ee=0;ee<r&&(x||o||a);ee++){const K=e[ee]&255;a&&(l>0?(K&128)===0?a=!1:l--:(K&128)!==0&&((K&64)===0?a=!1:(l++,(K&32)===0?u++:(l++,(K&16)===0?E++:(l++,(K&8)===0?C++:a=!1))))),x&&(K>127&&K<160?x=!1:K>159&&(K<192||K===215||K===247)&&X++),o&&(B>0?K<64||K===127||K>252?o=!1:B--:K===128||K===160||K>239?o=!1:K>160&&K<224?(F++,v=0,y++,y>_&&(_=y)):K>127?(B++,y=0,v++,v>H&&(H=v)):(y=0,v=0))}return a&&l>0&&(a=!1),o&&B>0&&(o=!1),a&&($||u+E+C>0)?q.UTF8:o&&(q.ASSUME_SHIFT_JIS||_>=3||H>=3)?q.SHIFT_JIS:x&&o?_===2&&F===2||X*10>=r?q.SHIFT_JIS:q.ISO88591:x?q.ISO88591:o?q.SHIFT_JIS:a?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let r=-1;function x(a,l,u,E,C,B){if(a==="%%")return"%";if(t[++r]===void 0)return;a=E?parseInt(E.substr(1)):void 0;let F=C?parseInt(C.substr(1)):void 0,y;switch(B){case"s":y=t[r];break;case"c":y=t[r][0];break;case"f":y=parseFloat(t[r]).toFixed(a);break;case"p":y=parseFloat(t[r]).toPrecision(a);break;case"e":y=parseFloat(t[r]).toExponential(a);break;case"x":y=parseInt(t[r]).toString(F||16);break;case"d":y=parseFloat(parseInt(t[r],F||10).toPrecision(a)).toFixed(0);break}y=typeof y=="object"?JSON.stringify(y):(+y).toString(F);let v=parseInt(u),_=u&&u[0]+""=="0"?"0":" ";for(;y.length<v;)y=l!==void 0?y+_:_+y;return y}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,x)}static getBytes(e,t){return ne.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}q.SHIFT_JIS=P.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=P.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=P.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class te{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=q.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,r){for(let x=t;t<t+r;x++)this.append(e[x]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class oe{constructor(e,t,r,x){if(this.width=e,this.height=t,this.rowSize=r,this.bits=x,t==null&&(t=e),this.height=t,e<1||t<1)throw new w("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,x==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,r=e[0].length,x=new oe(r,t);for(let o=0;o<t;o++){const a=e[o];for(let l=0;l<r;l++)a[l]&&x.set(l,o)}return x}static parseFromString(e,t,r){if(e===null)throw new w("stringRepresentation cannot be null");const x=new Array(e.length);let o=0,a=0,l=-1,u=0,E=0;for(;E<e.length;)if(e.charAt(E)===`
`||e.charAt(E)==="\r"){if(o>a){if(l===-1)l=o-a;else if(o-a!==l)throw new w("row lengths do not match");a=o,u++}E++}else if(e.substring(E,E+t.length)===t)E+=t.length,x[o]=!0,o++;else if(e.substring(E,E+r.length)===r)E+=r.length,x[o]=!1,o++;else throw new w("illegal character encountered: "+e.substring(E));if(o>a){if(l===-1)l=o-a;else if(o-a!==l)throw new w("row lengths do not match");u++}const C=new oe(l,u);for(let B=0;B<o;B++)x[B]&&C.set(Math.floor(B%l),Math.floor(B/l));return C}get(e,t){const r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new w("input matrix dimensions do not match");const t=new S(Math.floor(this.width/32)+1),r=this.rowSize,x=this.bits;for(let o=0,a=this.height;o<a;o++){const l=o*r,u=e.getRow(o,t).getBitArray();for(let E=0;E<r;E++)x[l+E]^=u[E]}}clear(){const e=this.bits,t=e.length;for(let r=0;r<t;r++)e[r]=0}setRegion(e,t,r,x){if(t<0||e<0)throw new w("Left and top must be nonnegative");if(x<1||r<1)throw new w("Height and width must be at least 1");const o=e+r,a=t+x;if(a>this.height||o>this.width)throw new w("The region must fit inside the matrix");const l=this.rowSize,u=this.bits;for(let E=t;E<a;E++){const C=E*l;for(let B=e;B<o;B++)u[C+Math.floor(B/32)]|=1<<(B&31)&4294967295}}getRow(e,t){t==null||t.getSize()<this.width?t=new S(this.width):t.clear();const r=this.rowSize,x=this.bits,o=e*r;for(let a=0;a<r;a++)t.setBulk(a*32,x[o+a]);return t}setRow(e,t){G.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let r=new S(e),x=new S(e);for(let o=0,a=Math.floor((t+1)/2);o<a;o++)r=this.getRow(o,r),x=this.getRow(t-1-o,x),r.reverse(),x.reverse(),this.setRow(o,x),this.setRow(t-1-o,r)}getEnclosingRectangle(){const e=this.width,t=this.height,r=this.rowSize,x=this.bits;let o=e,a=t,l=-1,u=-1;for(let E=0;E<t;E++)for(let C=0;C<r;C++){const B=x[E*r+C];if(B!==0){if(E<a&&(a=E),E>u&&(u=E),C*32<o){let F=0;for(;(B<<31-F&4294967295)===0;)F++;C*32+F<o&&(o=C*32+F)}if(C*32+31>l){let F=31;for(;!(B>>>F);)F--;C*32+F>l&&(l=C*32+F)}}}return l<o||u<a?null:Int32Array.from([o,a,l-o+1,u-a+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let r=0;for(;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;const x=r/e;let o=r%e*32;const a=t[r];let l=0;for(;(a<<31-l&4294967295)===0;)l++;return o+=l,Int32Array.from([o,x])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let r=t.length-1;for(;r>=0&&t[r]===0;)r--;if(r<0)return null;const x=Math.floor(r/e);let o=Math.floor(r%e)*32;const a=t[r];let l=31;for(;!(a>>>l);)l--;return o+=l,Int32Array.from([o,x])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof oe))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&Y.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Y.hashCode(this.bits),e}toString(e="X ",t="  ",r=`
`){return this.buildToString(e,t,r)}buildToString(e,t,r){let x=new te;for(let o=0,a=this.height;o<a;o++){for(let l=0,u=this.width;l<u;l++)x.append(this.get(l,o)?e:t);x.append(r)}return x.toString()}clone(){return new oe(this.width,this.height,this.rowSize,this.bits.slice())}}class O extends A{static getNotFoundInstance(){return new O}}O.kind="NotFoundException";class ce extends N{constructor(e){super(e),this.luminances=ce.EMPTY,this.buckets=new Int32Array(ce.LUMINANCE_BUCKETS)}getBlackRow(e,t){const r=this.getLuminanceSource(),x=r.getWidth();t==null||t.getSize()<x?t=new S(x):t.clear(),this.initArrays(x);const o=r.getRow(e,this.luminances),a=this.buckets;for(let u=0;u<x;u++)a[(o[u]&255)>>ce.LUMINANCE_SHIFT]++;const l=ce.estimateBlackPoint(a);if(x<3)for(let u=0;u<x;u++)(o[u]&255)<l&&t.set(u);else{let u=o[0]&255,E=o[1]&255;for(let C=1;C<x-1;C++){const B=o[C+1]&255;(E*4-u-B)/2<l&&t.set(C),u=E,E=B}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight(),x=new oe(t,r);this.initArrays(t);const o=this.buckets;for(let u=1;u<5;u++){const E=Math.floor(r*u/5),C=e.getRow(E,this.luminances),B=Math.floor(t*4/5);for(let F=Math.floor(t/5);F<B;F++){const y=C[F]&255;o[y>>ce.LUMINANCE_SHIFT]++}}const a=ce.estimateBlackPoint(o),l=e.getMatrix();for(let u=0;u<r;u++){const E=u*t;for(let C=0;C<t;C++)(l[E+C]&255)<a&&x.set(C,u)}return x}createBinarizer(e){return new ce(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let r=0;r<ce.LUMINANCE_BUCKETS;r++)t[r]=0}static estimateBlackPoint(e){const t=e.length;let r=0,x=0,o=0;for(let C=0;C<t;C++)e[C]>o&&(x=C,o=e[C]),e[C]>r&&(r=e[C]);let a=0,l=0;for(let C=0;C<t;C++){const B=C-x,F=e[C]*B*B;F>l&&(a=C,l=F)}if(x>a){const C=x;x=a,a=C}if(a-x<=t/16)throw new O;let u=a-1,E=-1;for(let C=a-1;C>x;C--){const B=C-x,F=B*B*(a-C)*(r-e[C]);F>E&&(u=C,E=F)}return u<<ce.LUMINANCE_SHIFT}}ce.LUMINANCE_BITS=5,ce.LUMINANCE_SHIFT=8-ce.LUMINANCE_BITS,ce.LUMINANCE_BUCKETS=1<<ce.LUMINANCE_BITS,ce.EMPTY=Uint8ClampedArray.from([0]);class Z extends ce{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight();if(t>=Z.MINIMUM_DIMENSION&&r>=Z.MINIMUM_DIMENSION){const x=e.getMatrix();let o=t>>Z.BLOCK_SIZE_POWER;(t&Z.BLOCK_SIZE_MASK)!==0&&o++;let a=r>>Z.BLOCK_SIZE_POWER;(r&Z.BLOCK_SIZE_MASK)!==0&&a++;const l=Z.calculateBlackPoints(x,o,a,t,r),u=new oe(t,r);Z.calculateThresholdForBlock(x,o,a,t,r,l,u),this.matrix=u}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new Z(e)}static calculateThresholdForBlock(e,t,r,x,o,a,l){const u=o-Z.BLOCK_SIZE,E=x-Z.BLOCK_SIZE;for(let C=0;C<r;C++){let B=C<<Z.BLOCK_SIZE_POWER;B>u&&(B=u);const F=Z.cap(C,2,r-3);for(let y=0;y<t;y++){let v=y<<Z.BLOCK_SIZE_POWER;v>E&&(v=E);const _=Z.cap(y,2,t-3);let H=0;for(let $=-2;$<=2;$++){const ee=a[F+$];H+=ee[_-2]+ee[_-1]+ee[_]+ee[_+1]+ee[_+2]}const X=H/25;Z.thresholdBlock(e,v,B,X,x,l)}}}static cap(e,t,r){return e<t?t:e>r?r:e}static thresholdBlock(e,t,r,x,o,a){for(let l=0,u=r*o+t;l<Z.BLOCK_SIZE;l++,u+=o)for(let E=0;E<Z.BLOCK_SIZE;E++)(e[u+E]&255)<=x&&a.set(t+E,r+l)}static calculateBlackPoints(e,t,r,x,o){const a=o-Z.BLOCK_SIZE,l=x-Z.BLOCK_SIZE,u=new Array(r);for(let E=0;E<r;E++){u[E]=new Int32Array(t);let C=E<<Z.BLOCK_SIZE_POWER;C>a&&(C=a);for(let B=0;B<t;B++){let F=B<<Z.BLOCK_SIZE_POWER;F>l&&(F=l);let y=0,v=255,_=0;for(let X=0,$=C*x+F;X<Z.BLOCK_SIZE;X++,$+=x){for(let ee=0;ee<Z.BLOCK_SIZE;ee++){const K=e[$+ee]&255;y+=K,K<v&&(v=K),K>_&&(_=K)}if(_-v>Z.MIN_DYNAMIC_RANGE)for(X++,$+=x;X<Z.BLOCK_SIZE;X++,$+=x)for(let ee=0;ee<Z.BLOCK_SIZE;ee++)y+=e[$+ee]&255}let H=y>>Z.BLOCK_SIZE_POWER*2;if(_-v<=Z.MIN_DYNAMIC_RANGE&&(H=v/2,E>0&&B>0)){const X=(u[E-1][B]+2*u[E][B-1]+u[E-1][B-1])/4;v<X&&(H=X)}u[E][B]=H}}return u}}Z.BLOCK_SIZE_POWER=3,Z.BLOCK_SIZE=1<<Z.BLOCK_SIZE_POWER,Z.BLOCK_SIZE_MASK=Z.BLOCK_SIZE-1,Z.MINIMUM_DIMENSION=Z.BLOCK_SIZE*5,Z.MIN_DYNAMIC_RANGE=24;class De{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,r,x){throw new xe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new xe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new xe("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new te;for(let r=0;r<this.height;r++){const x=this.getRow(r,e);for(let o=0;o<this.width;o++){const a=x[o]&255;let l;a<64?l="#":a<128?l="+":a<192?l=".":l=" ",t.append(l)}t.append(`
`)}return t.toString()}}class be extends De{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const r=this.delegate.getRow(e,t),x=this.getWidth();for(let o=0;o<x;o++)r[o]=255-(r[o]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(t);for(let x=0;x<t;x++)r[x]=255-(e[x]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,r,x){return new be(this.delegate.crop(e,t,r,x))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new be(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new be(this.delegate.rotateCounterClockwise45())}}class Fe extends De{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Fe.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return Fe.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,r){const x=new Uint8ClampedArray(t*r);for(let o=0,a=0,l=e.length;o<l;o+=4,a++){let u;if(e[o+3]===0)u=255;else{const C=e[o],B=e[o+1],F=e[o+2];u=306*C+601*B+117*F+512>>10}x[a]=u}return x}getRow(e,t){if(e<0||e>=this.getHeight())throw new w("Requested row is outside the image: "+e);const r=this.getWidth(),x=e*r;return t===null?t=this.buffer.slice(x,x+r):(t.length<r&&(t=new Uint8ClampedArray(r)),t.set(this.buffer.slice(x,x+r))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,r,x){return super.crop(e,t,r,x),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),r=t.getContext("2d"),x=e*Fe.DEGREE_TO_RADIANS,o=this.canvas.width,a=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(x))*o+Math.abs(Math.sin(x))*a),u=Math.ceil(Math.abs(Math.sin(x))*o+Math.abs(Math.cos(x))*a);return t.width=l,t.height=u,r.translate(l/2,u/2),r.rotate(x),r.drawImage(this.canvas,o/-2,a/-2),this.buffer=Fe.makeBufferFromCanvasImageData(t),this}invert(){return new be(this)}}Fe.DEGREE_TO_RADIANS=Math.PI/180;class ae{constructor(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var fe=(globalThis||commonjsGlobal||self||window||void 0)&&(globalThis||commonjsGlobal||self||window||void 0).__awaiter||function(g,e,t,r){function x(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(C){try{E(r.next(C))}catch(B){a(B)}}function u(C){try{E(r.throw(C))}catch(B){a(B)}}function E(C){C.done?o(C.value):x(C.value).then(l,u)}E((r=r.apply(g,e||[])).next())})};class Oe{constructor(e,t=500,r){this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return fe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const r of e){const x=r.kind==="video"?"videoinput":r.kind;if(x!=="videoinput")continue;const o=r.deviceId||r.id,a=r.label||`Video device ${t.length+1}`,l=r.groupId,u={deviceId:o,label:a,kind:x,groupId:l};t.push(u)}return t})}getVideoInputDevices(){return fe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(t=>new ae(t.deviceId,t.label))})}findDeviceById(e){return fe(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return fe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return fe(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const x={video:r};return yield this.decodeOnceFromConstraints(x,t)})}decodeOnceFromConstraints(e,t){return fe(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,t)})}decodeOnceFromStream(e,t){return fe(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,t,r){return fe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,r)})}decodeFromVideoDevice(e,t,r){return fe(this,void 0,void 0,function*(){let x;e?x={deviceId:{exact:e}}:x={facingMode:"environment"};const o={video:x};return yield this.decodeFromConstraints(o,t,r)})}decodeFromConstraints(e,t,r){return fe(this,void 0,void 0,function*(){const x=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(x,t,r)})}decodeFromStream(e,t,r){return fe(this,void 0,void 0,function*(){this.reset();const x=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(x,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return fe(this,void 0,void 0,function*(){const r=this.prepareVideoElement(t);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((t,r)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return fe(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,t){const r=document.getElementById(e);if(!r)throw new p(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new p(`element with id '${e}' must be an ${t} element`);return r}decodeFromImage(e,t){if(!e&&!t)throw new p("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new p("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,r){if(e===void 0&&t===void 0)throw new p("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new p("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);this.imageElement=t;let r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)}_decodeFromVideoElementSetup(e){if(!e)throw new p("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new p("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const r=this._decodeOnLoadImage(t);return t.src=e,r}decodeFromVideoUrl(e){if(!e)throw new p("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r}decodeFromVideoUrlContinuously(e,t){if(!e)throw new p("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),x=this.decodeFromVideoElementContinuously(r,t);return r.src=e,x}_decodeOnLoadImage(e){return new Promise((t,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return fe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return fe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,r=!0){this._stopAsyncDecode=!1;const x=(o,a)=>{if(this._stopAsyncDecode){a(new O("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const l=this.decode(e);o(l)}catch(l){const u=t&&l instanceof O,C=(l instanceof L||l instanceof I)&&r;if(u||C)return setTimeout(x,this._timeBetweenDecodingAttempts,o,a);a(l)}};return new Promise((o,a)=>x(o,a))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const x=this.decode(e);t(x,null),setTimeout(r,this.timeBetweenScansMillis)}catch(x){t(null,x);const o=x instanceof L||x instanceof I,a=x instanceof O;(o||a)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,t,r){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t,r=this.captureCanvasContext){t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),r=new Fe(t),x=new Z(r);return new T(x)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let r,x;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,x=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,x=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=x+"px",t.width=r,t.height=x,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class le{constructor(e,t,r=t==null?0:8*t.length,x,o,a=G.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=x,this.format=o,this.timestamp=a,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=x,this.format=o,this.resultMetadata=null,a==null?this.timestamp=G.currentTimeMillis():this.timestamp=a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(t.length+e.length);G.arraycopy(t,0,r,0,t.length),G.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var mt;(function(g){g[g.AZTEC=0]="AZTEC",g[g.CODABAR=1]="CODABAR",g[g.CODE_39=2]="CODE_39",g[g.CODE_93=3]="CODE_93",g[g.CODE_128=4]="CODE_128",g[g.DATA_MATRIX=5]="DATA_MATRIX",g[g.EAN_8=6]="EAN_8",g[g.EAN_13=7]="EAN_13",g[g.ITF=8]="ITF",g[g.MAXICODE=9]="MAXICODE",g[g.PDF_417=10]="PDF_417",g[g.QR_CODE=11]="QR_CODE",g[g.RSS_14=12]="RSS_14",g[g.RSS_EXPANDED=13]="RSS_EXPANDED",g[g.UPC_A=14]="UPC_A",g[g.UPC_E=15]="UPC_E",g[g.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(mt||(mt={}));var J=mt,ge;(function(g){g[g.OTHER=0]="OTHER",g[g.ORIENTATION=1]="ORIENTATION",g[g.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",g[g.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",g[g.ISSUE_NUMBER=4]="ISSUE_NUMBER",g[g.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",g[g.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",g[g.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",g[g.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",g[g.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",g[g.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ge||(ge={}));var Ie=ge;class xt{constructor(e,t,r,x,o=-1,a=-1){this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=x,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ht{exp(e){return this.expTable[e]}log(e){if(e===0)throw new w;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class je{constructor(e,t){if(t.length===0)throw new w;this.field=e;const r=t.length;if(r>1&&t[0]===0){let x=1;for(;x<r&&t[x]===0;)x++;x===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-x),G.arraycopy(t,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const t=this.coefficients;let r;if(e===1){r=0;for(let a=0,l=t.length;a!==l;a++){const u=t[a];r=Ht.addOrSubtract(r,u)}return r}r=t[0];const x=t.length,o=this.field;for(let a=1;a<x;a++)r=Ht.addOrSubtract(o.multiply(e,r),t[a]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){const a=t;t=r,r=a}let x=new Int32Array(r.length);const o=r.length-t.length;G.arraycopy(r,0,x,0,o);for(let a=o;a<r.length;a++)x[a]=Ht.addOrSubtract(t[a-o],r[a]);return new je(this.field,x)}multiply(e){if(!this.field.equals(e.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,r=t.length,x=e.coefficients,o=x.length,a=new Int32Array(r+o-1),l=this.field;for(let u=0;u<r;u++){const E=t[u];for(let C=0;C<o;C++)a[u+C]=Ht.addOrSubtract(a[u+C],l.multiply(E,x[C]))}return new je(l,a)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const t=this.coefficients.length,r=this.field,x=new Int32Array(t),o=this.coefficients;for(let a=0;a<t;a++)x[a]=r.multiply(o[a],e);return new je(r,x)}multiplyByMonomial(e,t){if(e<0)throw new w;if(t===0)return this.field.getZero();const r=this.coefficients,x=r.length,o=new Int32Array(x+e),a=this.field;for(let l=0;l<x;l++)o[l]=a.multiply(r[l],t);return new je(a,o)}divide(e){if(!this.field.equals(e.field))throw new w("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new w("Divide by 0");const t=this.field;let r=t.getZero(),x=this;const o=e.getCoefficient(e.getDegree()),a=t.inverse(o);for(;x.getDegree()>=e.getDegree()&&!x.isZero();){const l=x.getDegree()-e.getDegree(),u=t.multiply(x.getCoefficient(x.getDegree()),a),E=e.multiplyByMonomial(l,u),C=t.buildMonomial(l,u);r=r.addOrSubtract(C),x=x.addOrSubtract(E)}return[r,x]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){const x=this.field.log(r);x===0?e+="1":x===1?e+="a":(e+="a^",e+=x)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e}}class jt extends A{}jt.kind="ArithmeticException";class we extends Ht{constructor(e,t,r){super(),this.primitive=e,this.size=t,this.generatorBase=r;const x=new Int32Array(t);let o=1;for(let l=0;l<t;l++)x[l]=o,o*=2,o>=t&&(o^=e,o&=t-1);this.expTable=x;const a=new Int32Array(t);for(let l=0;l<t-1;l++)a[x[l]]=l;this.logTable=a,this.zero=new je(this,Int32Array.from([0])),this.one=new je(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new w;if(t===0)return this.zero;const r=new Int32Array(e+1);return r[0]=t,new je(this,r)}inverse(e){if(e===0)throw new jt;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+k.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}we.AZTEC_DATA_12=new we(4201,4096,1),we.AZTEC_DATA_10=new we(1033,1024,1),we.AZTEC_DATA_6=new we(67,64,1),we.AZTEC_PARAM=new we(19,16,1),we.QR_CODE_FIELD_256=new we(285,256,0),we.DATA_MATRIX_FIELD_256=new we(301,256,1),we.AZTEC_DATA_8=we.DATA_MATRIX_FIELD_256,we.MAXICODE_FIELD_64=we.AZTEC_DATA_6;class ht extends A{}ht.kind="ReedSolomonException";class Je extends A{}Je.kind="IllegalStateException";class Dt{constructor(e){this.field=e}decode(e,t){const r=this.field,x=new je(r,e),o=new Int32Array(t);let a=!0;for(let y=0;y<t;y++){const v=x.evaluateAt(r.exp(y+r.getGeneratorBase()));o[o.length-1-y]=v,v!==0&&(a=!1)}if(a)return;const l=new je(r,o),u=this.runEuclideanAlgorithm(r.buildMonomial(t,1),l,t),E=u[0],C=u[1],B=this.findErrorLocations(E),F=this.findErrorMagnitudes(C,B);for(let y=0;y<B.length;y++){const v=e.length-1-r.log(B[y]);if(v<0)throw new ht("Bad error location");e[v]=we.addOrSubtract(e[v],F[y])}}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){const y=e;e=t,t=y}const x=this.field;let o=e,a=t,l=x.getZero(),u=x.getOne();for(;a.getDegree()>=(r/2|0);){let y=o,v=l;if(o=a,l=u,o.isZero())throw new ht("r_{i-1} was zero");a=y;let _=x.getZero();const H=o.getCoefficient(o.getDegree()),X=x.inverse(H);for(;a.getDegree()>=o.getDegree()&&!a.isZero();){const $=a.getDegree()-o.getDegree(),ee=x.multiply(a.getCoefficient(a.getDegree()),X);_=_.addOrSubtract(x.buildMonomial($,ee)),a=a.addOrSubtract(o.multiplyByMonomial($,ee))}if(u=_.multiply(l).addOrSubtract(v),a.getDegree()>=o.getDegree())throw new Je("Division algorithm failed to reduce polynomial?")}const E=u.getCoefficient(0);if(E===0)throw new ht("sigmaTilde(0) was zero");const C=x.inverse(E),B=u.multiplyScalar(C),F=a.multiplyScalar(C);return[B,F]}findErrorLocations(e){const t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(t);let x=0;const o=this.field;for(let a=1;a<o.getSize()&&x<t;a++)e.evaluateAt(a)===0&&(r[x]=o.inverse(a),x++);if(x!==t)throw new ht("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,t){const r=t.length,x=new Int32Array(r),o=this.field;for(let a=0;a<r;a++){const l=o.inverse(t[a]);let u=1;for(let E=0;E<r;E++)if(a!==E){const C=o.multiply(t[E],l),B=(C&1)===0?C|1:C&-2;u=o.multiply(u,B)}x[a]=o.multiply(e.evaluateAt(l),o.inverse(u)),o.getGeneratorBase()!==0&&(x[a]=o.multiply(x[a],l))}return x}}var We;(function(g){g[g.UPPER=0]="UPPER",g[g.LOWER=1]="LOWER",g[g.MIXED=2]="MIXED",g[g.DIGIT=3]="DIGIT",g[g.PUNCT=4]="PUNCT",g[g.BINARY=5]="BINARY"})(We||(We={}));class ve{decode(e){this.ddata=e;let t=e.getBits(),r=this.extractBits(t),x=this.correctBits(r),o=ve.convertBoolArrayToByteArray(x),a=ve.getEncodedData(x),l=new xt(o,a,null,null);return l.setNumBits(x.length),l}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,r=We.UPPER,x=We.UPPER,o="",a=0;for(;a<t;)if(x===We.BINARY){if(t-a<5)break;let l=ve.readCode(e,a,5);if(a+=5,l===0){if(t-a<11)break;l=ve.readCode(e,a,11)+31,a+=11}for(let u=0;u<l;u++){if(t-a<8){a=t;break}const E=ve.readCode(e,a,8);o+=q.castAsNonUtf8Char(E),a+=8}x=r}else{let l=x===We.DIGIT?4:5;if(t-a<l)break;let u=ve.readCode(e,a,l);a+=l;let E=ve.getCharacter(x,u);E.startsWith("CTRL_")?(r=x,x=ve.getTable(E.charAt(5)),E.charAt(6)==="L"&&(r=x)):(o+=E,x=r)}return o}static getTable(e){switch(e){case"L":return We.LOWER;case"P":return We.PUNCT;case"M":return We.MIXED;case"D":return We.DIGIT;case"B":return We.BINARY;case"U":default:return We.UPPER}}static getCharacter(e,t){switch(e){case We.UPPER:return ve.UPPER_TABLE[t];case We.LOWER:return ve.LOWER_TABLE[t];case We.MIXED:return ve.MIXED_TABLE[t];case We.PUNCT:return ve.PUNCT_TABLE[t];case We.DIGIT:return ve.DIGIT_TABLE[t];default:throw new Je("Bad table")}}correctBits(e){let t,r;this.ddata.getNbLayers()<=2?(r=6,t=we.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=we.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=we.AZTEC_DATA_10):(r=12,t=we.AZTEC_DATA_12);let x=this.ddata.getNbDatablocks(),o=e.length/r;if(o<x)throw new I;let a=e.length%r,l=new Int32Array(o);for(let F=0;F<o;F++,a+=r)l[F]=ve.readCode(e,a,r);try{new Dt(t).decode(l,o-x)}catch(F){throw new I(F)}let u=(1<<r)-1,E=0;for(let F=0;F<x;F++){let y=l[F];if(y===0||y===u)throw new I;(y===1||y===u-1)&&E++}let C=new Array(x*r-E),B=0;for(let F=0;F<x;F++){let y=l[F];if(y===1||y===u-1)C.fill(y>1,B,B+r-1),B+=r-1;else for(let v=r-1;v>=0;--v)C[B++]=(y&1<<v)!==0}return C}extractBits(e){let t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),x=(t?11:14)+r*4,o=new Int32Array(x),a=new Array(this.totalBitsInLayer(r,t));if(t)for(let l=0;l<o.length;l++)o[l]=l;else{let l=x+1+2*k.truncDivision(k.truncDivision(x,2)-1,15),u=x/2,E=k.truncDivision(l,2);for(let C=0;C<u;C++){let B=C+k.truncDivision(C,15);o[u-C-1]=E-B-1,o[u+C]=E+B+1}}for(let l=0,u=0;l<r;l++){let E=(r-l)*4+(t?9:12),C=l*2,B=x-1-C;for(let F=0;F<E;F++){let y=F*2;for(let v=0;v<2;v++)a[u+y+v]=e.get(o[C+v],o[C+F]),a[u+2*E+y+v]=e.get(o[C+F],o[B-v]),a[u+4*E+y+v]=e.get(o[B-v],o[B-F]),a[u+6*E+y+v]=e.get(o[B-F],o[C+v])}u+=E*8}return a}static readCode(e,t,r){let x=0;for(let o=t;o<t+r;o++)x<<=1,e[o]&&(x|=1);return x}static readByte(e,t){let r=e.length-t;return r>=8?ve.readCode(e,t,8):ve.readCode(e,t,r)<<8-r}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let r=0;r<t.length;r++)t[r]=ve.readByte(e,8*r);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}ve.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ve.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ve.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ve.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ve.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ce{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,r,x){const o=e-r,a=t-x;return Math.sqrt(o*o+a*a)}static sum(e){let t=0;for(let r=0,x=e.length;r!==x;r++){const o=e[r];t+=o}return t}}class u0{static floatToIntBits(e){return e}}u0.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ie{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof ie){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*u0.floatToIntBits(this.x)+u0.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),x=this.distance(e[0],e[2]);let o,a,l;if(r>=t&&r>=x?(a=e[0],o=e[1],l=e[2]):x>=r&&x>=t?(a=e[1],o=e[0],l=e[2]):(a=e[2],o=e[0],l=e[1]),this.crossProductZ(o,a,l)<0){const u=o;o=l,l=u}e[0]=o,e[1]=a,e[2]=l}static distance(e,t){return Ce.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,r){const x=t.x,o=t.y;return(r.x-x)*(e.y-o)-(r.y-o)*(e.x-x)}}class f0{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class X0 extends f0{constructor(e,t,r,x,o){super(e,t),this.compact=r,this.nbDatablocks=x,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Tt{constructor(e,t,r,x){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=Tt.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),x==null&&(x=e.getHeight()/2|0);const o=t/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=x-o,this.downInit=x+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new O}detect(){let e=this.leftInit,t=this.rightInit,r=this.upInit,x=this.downInit,o=!1,a=!0,l=!1,u=!1,E=!1,C=!1,B=!1;const F=this.width,y=this.height;for(;a;){a=!1;let v=!0;for(;(v||!u)&&t<F;)v=this.containsBlackPoint(r,x,t,!1),v?(t++,a=!0,u=!0):u||t++;if(t>=F){o=!0;break}let _=!0;for(;(_||!E)&&x<y;)_=this.containsBlackPoint(e,t,x,!0),_?(x++,a=!0,E=!0):E||x++;if(x>=y){o=!0;break}let H=!0;for(;(H||!C)&&e>=0;)H=this.containsBlackPoint(r,x,e,!1),H?(e--,a=!0,C=!0):C||e--;if(e<0){o=!0;break}let X=!0;for(;(X||!B)&&r>=0;)X=this.containsBlackPoint(e,t,r,!0),X?(r--,a=!0,B=!0):B||r--;if(r<0){o=!0;break}a&&(l=!0)}if(!o&&l){const v=t-e;let _=null;for(let ee=1;_===null&&ee<v;ee++)_=this.getBlackPointOnSegment(e,x-ee,e+ee,x);if(_==null)throw new O;let H=null;for(let ee=1;H===null&&ee<v;ee++)H=this.getBlackPointOnSegment(e,r+ee,e+ee,r);if(H==null)throw new O;let X=null;for(let ee=1;X===null&&ee<v;ee++)X=this.getBlackPointOnSegment(t,r+ee,t-ee,r);if(X==null)throw new O;let $=null;for(let ee=1;$===null&&ee<v;ee++)$=this.getBlackPointOnSegment(t,x-ee,t-ee,x);if($==null)throw new O;return this.centerEdges($,_,X,H)}else throw new O}getBlackPointOnSegment(e,t,r,x){const o=Ce.round(Ce.distance(e,t,r,x)),a=(r-e)/o,l=(x-t)/o,u=this.image;for(let E=0;E<o;E++){const C=Ce.round(e+E*a),B=Ce.round(t+E*l);if(u.get(C,B))return new ie(C,B)}return null}centerEdges(e,t,r,x){const o=e.getX(),a=e.getY(),l=t.getX(),u=t.getY(),E=r.getX(),C=r.getY(),B=x.getX(),F=x.getY(),y=Tt.CORR;return o<this.width/2?[new ie(B-y,F+y),new ie(l+y,u+y),new ie(E-y,C-y),new ie(o+y,a-y)]:[new ie(B+y,F+y),new ie(l+y,u-y),new ie(E-y,C+y),new ie(o-y,a-y)]}containsBlackPoint(e,t,r,x){const o=this.image;if(x){for(let a=e;a<=t;a++)if(o.get(a,r))return!0}else for(let a=e;a<=t;a++)if(o.get(r,a))return!0;return!1}}Tt.INIT_SIZE=10,Tt.CORR=1;class w0{static checkAndNudgePoints(e,t){const r=e.getWidth(),x=e.getHeight();let o=!0;for(let a=0;a<t.length&&o;a+=2){const l=Math.floor(t[a]),u=Math.floor(t[a+1]);if(l<-1||l>r||u<-1||u>x)throw new O;o=!1,l===-1?(t[a]=0,o=!0):l===r&&(t[a]=r-1,o=!0),u===-1?(t[a+1]=0,o=!0):u===x&&(t[a+1]=x-1,o=!0)}o=!0;for(let a=t.length-2;a>=0&&o;a-=2){const l=Math.floor(t[a]),u=Math.floor(t[a+1]);if(l<-1||l>r||u<-1||u>x)throw new O;o=!1,l===-1?(t[a]=0,o=!0):l===r&&(t[a]=r-1,o=!0),u===-1?(t[a+1]=0,o=!0):u===x&&(t[a+1]=x-1,o=!0)}}}class Ft{constructor(e,t,r,x,o,a,l,u,E){this.a11=e,this.a21=t,this.a31=r,this.a12=x,this.a22=o,this.a32=a,this.a13=l,this.a23=u,this.a33=E}static quadrilateralToQuadrilateral(e,t,r,x,o,a,l,u,E,C,B,F,y,v,_,H){const X=Ft.quadrilateralToSquare(e,t,r,x,o,a,l,u);return Ft.squareToQuadrilateral(E,C,B,F,y,v,_,H).times(X)}transformPoints(e){const t=e.length,r=this.a11,x=this.a12,o=this.a13,a=this.a21,l=this.a22,u=this.a23,E=this.a31,C=this.a32,B=this.a33;for(let F=0;F<t;F+=2){const y=e[F],v=e[F+1],_=o*y+u*v+B;e[F]=(r*y+a*v+E)/_,e[F+1]=(x*y+l*v+C)/_}}transformPointsWithValues(e,t){const r=this.a11,x=this.a12,o=this.a13,a=this.a21,l=this.a22,u=this.a23,E=this.a31,C=this.a32,B=this.a33,F=e.length;for(let y=0;y<F;y++){const v=e[y],_=t[y],H=o*v+u*_+B;e[y]=(r*v+a*_+E)/H,t[y]=(x*v+l*_+C)/H}}static squareToQuadrilateral(e,t,r,x,o,a,l,u){const E=e-r+o-l,C=t-x+a-u;if(E===0&&C===0)return new Ft(r-e,o-r,e,x-t,a-x,t,0,0,1);{const B=r-o,F=l-o,y=x-a,v=u-a,_=B*v-F*y,H=(E*v-F*C)/_,X=(B*C-E*y)/_;return new Ft(r-e+H*r,l-e+X*l,e,x-t+H*x,u-t+X*u,t,H,X,1)}}static quadrilateralToSquare(e,t,r,x,o,a,l,u){return Ft.squareToQuadrilateral(e,t,r,x,o,a,l,u).buildAdjoint()}buildAdjoint(){return new Ft(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Ft(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class G0 extends w0{sampleGrid(e,t,r,x,o,a,l,u,E,C,B,F,y,v,_,H,X,$,ee){const K=Ft.quadrilateralToQuadrilateral(x,o,a,l,u,E,C,B,F,y,v,_,H,X,$,ee);return this.sampleGridWithTransform(e,t,r,K)}sampleGridWithTransform(e,t,r,x){if(t<=0||r<=0)throw new O;const o=new oe(t,r),a=new Float32Array(2*t);for(let l=0;l<r;l++){const u=a.length,E=l+.5;for(let C=0;C<u;C+=2)a[C]=C/2+.5,a[C+1]=E;x.transformPoints(a),w0.checkAndNudgePoints(e,a);try{for(let C=0;C<u;C+=2)e.get(Math.floor(a[C]),Math.floor(a[C+1]))&&o.set(C/2,l)}catch{throw new O}}return o}}class kt{static setGridSampler(e){kt.gridSampler=e}static getInstance(){return kt.gridSampler}}kt.gridSampler=new G0;class st{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new ie(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class z0{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){let a=r[0];r[0]=r[2],r[2]=a}this.extractParameters(r);let x=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new X0(x,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new O;let t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);let x=0;for(let a=0;a<4;a++){let l=r[(this.shift+a)%4];this.compact?(x<<=7,x+=l>>1&127):(x<<=10,x+=(l>>2&992)+(l>>1&31))}let o=this.getCorrectedParameterData(x,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(e,t){let r=0;e.forEach((x,o,a)=>{let l=(x>>t-2<<1)+(x&1);r=(r<<3)+l}),r=((r&1)<<11)+(r>>1);for(let x=0;x<4;x++)if(k.bitCount(r^this.EXPECTED_CORNER_BITS[x])<=2)return x;throw new O}getCorrectedParameterData(e,t){let r,x;t?(r=7,x=2):(r=10,x=4);let o=r-x,a=new Int32Array(r);for(let u=r-1;u>=0;--u)a[u]=e&15,e>>=4;try{new Dt(we.AZTEC_PARAM).decode(a,o)}catch{throw new O}let l=0;for(let u=0;u<x;u++)l=(l<<4)+a[u];return l}getBullsEyeCorners(e){let t=e,r=e,x=e,o=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let B=this.getFirstDifferent(t,a,1,-1),F=this.getFirstDifferent(r,a,1,1),y=this.getFirstDifferent(x,a,-1,1),v=this.getFirstDifferent(o,a,-1,-1);if(this.nbCenterLayers>2){let _=this.distancePoint(v,B)*this.nbCenterLayers/(this.distancePoint(o,t)*(this.nbCenterLayers+2));if(_<.75||_>1.25||!this.isWhiteOrBlackRectangle(B,F,y,v))break}t=B,r=F,x=y,o=v,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new O;this.compact=this.nbCenterLayers===5;let l=new ie(t.getX()+.5,t.getY()-.5),u=new ie(r.getX()+.5,r.getY()+.5),E=new ie(x.getX()-.5,x.getY()+.5),C=new ie(o.getX()-.5,o.getY()-.5);return this.expandSquare([l,u,E,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,r,x;try{let l=new Tt(this.image).detect();e=l[0],t=l[1],r=l[2],x=l[3]}catch{let u=this.image.getWidth()/2,E=this.image.getHeight()/2;e=this.getFirstDifferent(new st(u+7,E-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new st(u+7,E+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new st(u-7,E+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new st(u-7,E-7),!1,-1,-1).toResultPoint()}let o=Ce.round((e.getX()+x.getX()+t.getX()+r.getX())/4),a=Ce.round((e.getY()+x.getY()+t.getY()+r.getY())/4);try{let l=new Tt(this.image,15,o,a).detect();e=l[0],t=l[1],r=l[2],x=l[3]}catch{e=this.getFirstDifferent(new st(o+7,a-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new st(o+7,a+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new st(o-7,a+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new st(o-7,a-7),!1,-1,-1).toResultPoint()}return o=Ce.round((e.getX()+x.getX()+t.getX()+r.getX())/4),a=Ce.round((e.getY()+x.getY()+t.getY()+r.getY())/4),new st(o,a)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,r,x,o){let a=kt.getInstance(),l=this.getDimension(),u=l/2-this.nbCenterLayers,E=l/2+this.nbCenterLayers;return a.sampleGrid(e,l,l,u,u,E,u,E,E,u,E,t.getX(),t.getY(),r.getX(),r.getY(),x.getX(),x.getY(),o.getX(),o.getY())}sampleLine(e,t,r){let x=0,o=this.distanceResultPoint(e,t),a=o/r,l=e.getX(),u=e.getY(),E=a*(t.getX()-e.getX())/o,C=a*(t.getY()-e.getY())/o;for(let B=0;B<r;B++)this.image.get(Ce.round(l+B*E),Ce.round(u+B*C))&&(x|=1<<r-B-1);return x}isWhiteOrBlackRectangle(e,t,r,x){let o=3;e=new st(e.getX()-o,e.getY()+o),t=new st(t.getX()-o,t.getY()-o),r=new st(r.getX()+o,r.getY()-o),x=new st(x.getX()+o,x.getY()+o);let a=this.getColor(x,e);if(a===0)return!1;let l=this.getColor(e,t);return l!==a||(l=this.getColor(t,r),l!==a)?!1:(l=this.getColor(r,x),l===a)}getColor(e,t){let r=this.distancePoint(e,t),x=(t.getX()-e.getX())/r,o=(t.getY()-e.getY())/r,a=0,l=e.getX(),u=e.getY(),E=this.image.get(e.getX(),e.getY()),C=Math.ceil(r);for(let F=0;F<C;F++)l+=x,u+=o,this.image.get(Ce.round(l),Ce.round(u))!==E&&a++;let B=a/r;return B>.1&&B<.9?0:B<=.1===E?1:-1}getFirstDifferent(e,t,r,x){let o=e.getX()+r,a=e.getY()+x;for(;this.isValid(o,a)&&this.image.get(o,a)===t;)o+=r,a+=x;for(o-=r,a-=x;this.isValid(o,a)&&this.image.get(o,a)===t;)o+=r;for(o-=r;this.isValid(o,a)&&this.image.get(o,a)===t;)a+=x;return a-=x,new st(o,a)}expandSquare(e,t,r){let x=r/(2*t),o=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,E=new ie(l+x*o,u+x*a),C=new ie(l-x*o,u-x*a);o=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;let B=new ie(l+x*o,u+x*a),F=new ie(l-x*o,u-x*a);return[E,B,C,F]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=Ce.round(e.getX()),r=Ce.round(e.getY());return this.isValid(t,r)}distancePoint(e,t){return Ce.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return Ce.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(k.truncDivision(this.nbLayers-4,8)+1)+15}}class d0{decode(e,t=null){let r=null,x=new z0(e.getBlackMatrix()),o=null,a=null;try{let C=x.detectMirror(!1);o=C.getPoints(),this.reportFoundResultPoints(t,o),a=new ve().decode(C)}catch(C){r=C}if(a==null)try{let C=x.detectMirror(!0);o=C.getPoints(),this.reportFoundResultPoints(t,o),a=new ve().decode(C)}catch(C){throw r??C}let l=new le(a.getText(),a.getRawBytes(),a.getNumBits(),o,J.AZTEC,G.currentTimeMillis()),u=a.getByteSegments();u!=null&&l.putMetadata(Ie.BYTE_SEGMENTS,u);let E=a.getECLevel();return E!=null&&l.putMetadata(Ie.ERROR_CORRECTION_LEVEL,E),l}reportFoundResultPoints(e,t){if(e!=null){let r=e.get(M.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach((x,o,a)=>{r.foundPossibleResultPoint(x)})}}reset(){}}class lr extends Oe{constructor(e=500){super(new d0,e)}}class qe{decode(e,t){try{return this.doDecode(e,t)}catch{if(t&&t.get(M.TRY_HARDER)===!0&&e.isRotateSupported()){const o=e.rotateCounterClockwise(),a=this.doDecode(o,t),l=a.getResultMetadata();let u=270;l!==null&&l.get(Ie.ORIENTATION)===!0&&(u=u+l.get(Ie.ORIENTATION)%360),a.putMetadata(Ie.ORIENTATION,u);const E=a.getResultPoints();if(E!==null){const C=o.getHeight();for(let B=0;B<E.length;B++)E[B]=new ie(C-E[B].getY()-1,E[B].getX())}return a}else throw new O}}reset(){}doDecode(e,t){const r=e.getWidth(),x=e.getHeight();let o=new S(r);const a=t&&t.get(M.TRY_HARDER)===!0,l=Math.max(1,x>>(a?8:5));let u;a?u=x:u=15;const E=Math.trunc(x/2);for(let C=0;C<u;C++){const B=Math.trunc((C+1)/2),F=(C&1)===0,y=E+l*(F?B:-B);if(y<0||y>=x)break;try{o=e.getBlackRow(y,o)}catch{continue}for(let v=0;v<2;v++){if(v===1&&(o.reverse(),t&&t.get(M.NEED_RESULT_POINT_CALLBACK)===!0)){const _=new Map;t.forEach((H,X)=>_.set(X,H)),_.delete(M.NEED_RESULT_POINT_CALLBACK),t=_}try{const _=this.decodeRow(y,o,t);if(v===1){_.putMetadata(Ie.ORIENTATION,180);const H=_.getResultPoints();H!==null&&(H[0]=new ie(r-H[0].getX()-1,H[0].getY()),H[1]=new ie(r-H[1].getX()-1,H[1].getY()))}return _}catch{}}}throw new O}static recordPattern(e,t,r){const x=r.length;for(let E=0;E<x;E++)r[E]=0;const o=e.getSize();if(t>=o)throw new O;let a=!e.get(t),l=0,u=t;for(;u<o;){if(e.get(u)!==a)r[l]++;else{if(++l===x)break;r[l]=1,a=!a}u++}if(!(l===x||l===x-1&&u===o))throw new O}static recordPatternInReverse(e,t,r){let x=r.length,o=e.get(t);for(;t>0&&x>=0;)e.get(--t)!==o&&(x--,o=!o);if(x>=0)throw new O;qe.recordPattern(e,t+1,r)}static patternMatchVariance(e,t,r){const x=e.length;let o=0,a=0;for(let E=0;E<x;E++)o+=e[E],a+=t[E];if(o<a)return Number.POSITIVE_INFINITY;const l=o/a;r*=l;let u=0;for(let E=0;E<x;E++){const C=e[E],B=t[E]*l,F=C>B?C-B:B-C;if(F>r)return Number.POSITIVE_INFINITY;u+=F}return u/o}}class re extends qe{static findStartPattern(e){const t=e.getSize(),r=e.getNextSet(0);let x=0,o=Int32Array.from([0,0,0,0,0,0]),a=r,l=!1;const u=6;for(let E=r;E<t;E++)if(e.get(E)!==l)o[x]++;else{if(x===u-1){let C=re.MAX_AVG_VARIANCE,B=-1;for(let F=re.CODE_START_A;F<=re.CODE_START_C;F++){const y=qe.patternMatchVariance(o,re.CODE_PATTERNS[F],re.MAX_INDIVIDUAL_VARIANCE);y<C&&(C=y,B=F)}if(B>=0&&e.isRange(Math.max(0,a-(E-a)/2),a,!1))return Int32Array.from([a,E,B]);a+=o[0]+o[1],o=o.slice(2,o.length-1),o[x-1]=0,o[x]=0,x--}else x++;o[x]=1,l=!l}throw new O}static decodeCode(e,t,r){qe.recordPattern(e,r,t);let x=re.MAX_AVG_VARIANCE,o=-1;for(let a=0;a<re.CODE_PATTERNS.length;a++){const l=re.CODE_PATTERNS[a],u=this.patternMatchVariance(t,l,re.MAX_INDIVIDUAL_VARIANCE);u<x&&(x=u,o=a)}if(o>=0)return o;throw new O}decodeRow(e,t,r){const x=r&&r.get(M.ASSUME_GS1)===!0,o=re.findStartPattern(t),a=o[2];let l=0;const u=new Uint8Array(20);u[l++]=a;let E;switch(a){case re.CODE_START_A:E=re.CODE_CODE_A;break;case re.CODE_START_B:E=re.CODE_CODE_B;break;case re.CODE_START_C:E=re.CODE_CODE_C;break;default:throw new I}let C=!1,B=!1,F="",y=o[0],v=o[1];const _=Int32Array.from([0,0,0,0,0,0]);let H=0,X=0,$=a,ee=0,K=!0,pe=!1,Ae=!1;for(;!C;){const t0=B;switch(B=!1,H=X,X=re.decodeCode(t,_,v),u[l++]=X,X!==re.CODE_STOP&&(K=!0),X!==re.CODE_STOP&&(ee++,$+=ee*X),y=v,v+=_.reduce((Lr,Hr)=>Lr+Hr,0),X){case re.CODE_START_A:case re.CODE_START_B:case re.CODE_START_C:throw new I}switch(E){case re.CODE_CODE_A:if(X<64)Ae===pe?F+=String.fromCharCode(32+X):F+=String.fromCharCode(32+X+128),Ae=!1;else if(X<96)Ae===pe?F+=String.fromCharCode(X-64):F+=String.fromCharCode(X+64),Ae=!1;else switch(X!==re.CODE_STOP&&(K=!1),X){case re.CODE_FNC_1:x&&(F.length===0?F+="]C1":F+="");break;case re.CODE_FNC_2:case re.CODE_FNC_3:break;case re.CODE_FNC_4_A:!pe&&Ae?(pe=!0,Ae=!1):pe&&Ae?(pe=!1,Ae=!1):Ae=!0;break;case re.CODE_SHIFT:B=!0,E=re.CODE_CODE_B;break;case re.CODE_CODE_B:E=re.CODE_CODE_B;break;case re.CODE_CODE_C:E=re.CODE_CODE_C;break;case re.CODE_STOP:C=!0;break}break;case re.CODE_CODE_B:if(X<96)Ae===pe?F+=String.fromCharCode(32+X):F+=String.fromCharCode(32+X+128),Ae=!1;else switch(X!==re.CODE_STOP&&(K=!1),X){case re.CODE_FNC_1:x&&(F.length===0?F+="]C1":F+="");break;case re.CODE_FNC_2:case re.CODE_FNC_3:break;case re.CODE_FNC_4_B:!pe&&Ae?(pe=!0,Ae=!1):pe&&Ae?(pe=!1,Ae=!1):Ae=!0;break;case re.CODE_SHIFT:B=!0,E=re.CODE_CODE_A;break;case re.CODE_CODE_A:E=re.CODE_CODE_A;break;case re.CODE_CODE_C:E=re.CODE_CODE_C;break;case re.CODE_STOP:C=!0;break}break;case re.CODE_CODE_C:if(X<100)X<10&&(F+="0"),F+=X;else switch(X!==re.CODE_STOP&&(K=!1),X){case re.CODE_FNC_1:x&&(F.length===0?F+="]C1":F+="");break;case re.CODE_CODE_A:E=re.CODE_CODE_A;break;case re.CODE_CODE_B:E=re.CODE_CODE_B;break;case re.CODE_STOP:C=!0;break}break}t0&&(E=E===re.CODE_CODE_A?re.CODE_CODE_B:re.CODE_CODE_A)}const ft=v-y;if(v=t.getNextUnset(v),!t.isRange(v,Math.min(t.getSize(),v+(v-y)/2),!1))throw new O;if($-=ee*H,$%103!==H)throw new L;const pt=F.length;if(pt===0)throw new O;pt>0&&K&&(E===re.CODE_CODE_C?F=F.substring(0,pt-2):F=F.substring(0,pt-1));const dt=(o[1]+o[0])/2,Me=y+ft/2,nt=u.length,Et=new Uint8Array(nt);for(let t0=0;t0<nt;t0++)Et[t0]=u[t0];const e0=[new ie(dt,e),new ie(Me,e)];return new le(F,Et,0,e0,J.CODE_128,new Date().getTime())}}re.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],re.MAX_AVG_VARIANCE=.25,re.MAX_INDIVIDUAL_VARIANCE=.7,re.CODE_SHIFT=98,re.CODE_CODE_C=99,re.CODE_CODE_B=100,re.CODE_CODE_A=101,re.CODE_FNC_1=102,re.CODE_FNC_2=97,re.CODE_FNC_3=96,re.CODE_FNC_4_A=101,re.CODE_FNC_4_B=100,re.CODE_START_A=103,re.CODE_START_B=104,re.CODE_START_C=105,re.CODE_STOP=106;class Qe extends qe{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,r){let x=this.counters;x.fill(0),this.decodeRowResult="";let o=Qe.findAsteriskPattern(t,x),a=t.getNextSet(o[1]),l=t.getSize(),u,E;do{Qe.recordPattern(t,a,x);let _=Qe.toNarrowWidePattern(x);if(_<0)throw new O;u=Qe.patternToChar(_),this.decodeRowResult+=u,E=a;for(let H of x)a+=H;a=t.getNextSet(a)}while(u!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let _ of x)C+=_;let B=a-E-C;if(a!==l&&B*2<C)throw new O;if(this.usingCheckDigit){let _=this.decodeRowResult.length-1,H=0;for(let X=0;X<_;X++)H+=Qe.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(X));if(this.decodeRowResult.charAt(_)!==Qe.ALPHABET_STRING.charAt(H%43))throw new L;this.decodeRowResult=this.decodeRowResult.substring(0,_)}if(this.decodeRowResult.length===0)throw new O;let F;this.extendedMode?F=Qe.decodeExtended(this.decodeRowResult):F=this.decodeRowResult;let y=(o[1]+o[0])/2,v=E+C/2;return new le(F,null,0,[new ie(y,e),new ie(v,e)],J.CODE_39,new Date().getTime())}static findAsteriskPattern(e,t){let r=e.getSize(),x=e.getNextSet(0),o=0,a=x,l=!1,u=t.length;for(let E=x;E<r;E++)if(e.get(E)!==l)t[o]++;else{if(o===u-1){if(this.toNarrowWidePattern(t)===Qe.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((E-a)/2)),a,!1))return[a,E];a+=t[0]+t[1],t.copyWithin(0,2,2+o-1),t[o-1]=0,t[o]=0,o--}else o++;t[o]=1,l=!l}throw new O}static toNarrowWidePattern(e){let t=e.length,r=0,x;do{let o=2147483647;for(let u of e)u<o&&u>r&&(o=u);r=o,x=0;let a=0,l=0;for(let u=0;u<t;u++){let E=e[u];E>r&&(l|=1<<t-1-u,x++,a+=E)}if(x===3){for(let u=0;u<t&&x>0;u++){let E=e[u];if(E>r&&(x--,E*2>=a))return-1}return l}}while(x>3);return-1}static patternToChar(e){for(let t=0;t<Qe.CHARACTER_ENCODINGS.length;t++)if(Qe.CHARACTER_ENCODINGS[t]===e)return Qe.ALPHABET_STRING.charAt(t);if(e===Qe.ASTERISK_ENCODING)return"*";throw new O}static decodeExtended(e){let t=e.length,r="";for(let x=0;x<t;x++){let o=e.charAt(x);if(o==="+"||o==="$"||o==="%"||o==="/"){let a=e.charAt(x+1),l="\0";switch(o){case"+":if(a>="A"&&a<="Z")l=String.fromCharCode(a.charCodeAt(0)+32);else throw new I;break;case"$":if(a>="A"&&a<="Z")l=String.fromCharCode(a.charCodeAt(0)-64);else throw new I;break;case"%":if(a>="A"&&a<="E")l=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")l=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")l=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")l=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")l="\0";else if(a==="V")l="@";else if(a==="W")l="`";else if(a==="X"||a==="Y"||a==="Z")l="";else throw new I;break;case"/":if(a>="A"&&a<="O")l=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")l=":";else throw new I;break}r+=l,x++}else r+=o}return r}}Qe.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Qe.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Qe.ASTERISK_ENCODING=148;class Ne extends qe{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,r){let x=this.decodeStart(t),o=this.decodeEnd(t),a=new te;Ne.decodeMiddle(t,x[1],o[0],a);let l=a.toString(),u=null;r!=null&&(u=r.get(M.ALLOWED_LENGTHS)),u==null&&(u=Ne.DEFAULT_ALLOWED_LENGTHS);let E=l.length,C=!1,B=0;for(let v of u){if(E===v){C=!0;break}v>B&&(B=v)}if(!C&&E>B&&(C=!0),!C)throw new I;const F=[new ie(x[1],e),new ie(o[0],e)];return new le(l,null,0,F,J.ITF,new Date().getTime())}static decodeMiddle(e,t,r,x){let o=new Int32Array(10),a=new Int32Array(5),l=new Int32Array(5);for(o.fill(0),a.fill(0),l.fill(0);t<r;){qe.recordPattern(e,t,o);for(let E=0;E<5;E++){let C=2*E;a[E]=o[C],l[E]=o[C+1]}let u=Ne.decodeDigit(a);x.append(u.toString()),u=this.decodeDigit(l),x.append(u.toString()),o.forEach(function(E){t+=E})}}decodeStart(e){let t=Ne.skipWhiteSpace(e),r=Ne.findGuardPattern(e,t,Ne.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,t){let r=this.narrowLineWidth*10;r=r<t?r:t;for(let x=t-1;r>0&&x>=0&&!e.get(x);x--)r--;if(r!==0)throw new O}static skipWhiteSpace(e){const t=e.getSize(),r=e.getNextSet(0);if(r===t)throw new O;return r}decodeEnd(e){e.reverse();try{let t=Ne.skipWhiteSpace(e),r;try{r=Ne.findGuardPattern(e,t,Ne.END_PATTERN_REVERSED[0])}catch(o){o instanceof O&&(r=Ne.findGuardPattern(e,t,Ne.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let x=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-x,r}finally{e.reverse()}}static findGuardPattern(e,t,r){let x=r.length,o=new Int32Array(x),a=e.getSize(),l=!1,u=0,E=t;o.fill(0);for(let C=t;C<a;C++)if(e.get(C)!==l)o[u]++;else{if(u===x-1){if(qe.patternMatchVariance(o,r,Ne.MAX_INDIVIDUAL_VARIANCE)<Ne.MAX_AVG_VARIANCE)return[E,C];E+=o[0]+o[1],G.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,l=!l}throw new O}static decodeDigit(e){let t=Ne.MAX_AVG_VARIANCE,r=-1,x=Ne.PATTERNS.length;for(let o=0;o<x;o++){let a=Ne.PATTERNS[o],l=qe.patternMatchVariance(e,a,Ne.MAX_INDIVIDUAL_VARIANCE);l<t?(t=l,r=o):l===t&&(r=-1)}if(r>=0)return r%10;throw new O}}Ne.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ne.MAX_AVG_VARIANCE=.38,Ne.MAX_INDIVIDUAL_VARIANCE=.5,Ne.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ne.START_PATTERN=Int32Array.from([1,1,1,1]),Ne.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Xe extends qe{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t=!1,r,x=0,o=Int32Array.from([0,0,0]);for(;!t;){o=Int32Array.from([0,0,0]),r=Xe.findGuardPattern(e,x,!1,this.START_END_PATTERN,o);let a=r[0];x=r[1];let l=a-(x-a);l>=0&&(t=e.isRange(l,a,!1))}return r}static checkChecksum(e){return Xe.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let r=parseInt(e.charAt(t-1),10);return Xe.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let x=t-1;x>=0;x-=2){let o=e.charAt(x).charCodeAt(0)-48;if(o<0||o>9)throw new I;r+=o}r*=3;for(let x=t-2;x>=0;x-=2){let o=e.charAt(x).charCodeAt(0)-48;if(o<0||o>9)throw new I;r+=o}return(1e3-r)%10}static decodeEnd(e,t){return Xe.findGuardPattern(e,t,!1,Xe.START_END_PATTERN,new Int32Array(Xe.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,r,x){return this.findGuardPattern(e,t,r,x,new Int32Array(x.length))}static findGuardPattern(e,t,r,x,o){let a=e.getSize();t=r?e.getNextUnset(t):e.getNextSet(t);let l=0,u=t,E=x.length,C=r;for(let B=t;B<a;B++)if(e.get(B)!==C)o[l]++;else{if(l===E-1){if(qe.patternMatchVariance(o,x,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE)return Int32Array.from([u,B]);u+=o[0]+o[1];let F=o.slice(2,o.length-1);for(let y=0;y<l-1;y++)o[y]=F[y];o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,C=!C}throw new O}static decodeDigit(e,t,r,x){this.recordPattern(e,r,t);let o=this.MAX_AVG_VARIANCE,a=-1,l=x.length;for(let u=0;u<l;u++){let E=x[u],C=qe.patternMatchVariance(t,E,Xe.MAX_INDIVIDUAL_VARIANCE);C<o&&(o=C,a=u)}if(a>=0)return a;throw new O}}Xe.MAX_AVG_VARIANCE=.48,Xe.MAX_INDIVIDUAL_VARIANCE=.7,Xe.START_END_PATTERN=Int32Array.from([1,1,1]),Xe.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Xe.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Xe.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class r0{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let x=this.decodeRowStringBuffer,o=this.decodeMiddle(t,r,x),a=x.toString(),l=r0.parseExtensionString(a),u=[new ie((r[0]+r[1])/2,e),new ie(o,e)],E=new le(a,null,0,u,J.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&E.putAllMetadata(l),E}decodeMiddle(e,t,r){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let o=e.getSize(),a=t[1],l=0;for(let E=0;E<5&&a<o;E++){let C=Xe.decodeDigit(e,x,a,Xe.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let B of x)a+=B;C>=10&&(l|=1<<4-E),E!==4&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(r.length!==5)throw new O;let u=this.determineCheckDigit(l);if(r0.extensionChecksum(r.toString())!==u)throw new O;return a}static extensionChecksum(e){let t=e.length,r=0;for(let x=t-2;x>=0;x-=2)r+=e.charAt(x).charCodeAt(0)-48;r*=3;for(let x=t-1;x>=0;x-=2)r+=e.charAt(x).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new O}static parseExtensionString(e){if(e.length!==5)return null;let t=r0.parseExtension5String(e);return t==null?null:new Map([[Ie.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}let r=parseInt(e.substring(1)),x=(r/100).toString(),o=r%100,a=o<10?"0"+o:o.toString();return t+x+"."+a}}class p0{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let x=this.decodeRowStringBuffer,o=this.decodeMiddle(t,r,x),a=x.toString(),l=p0.parseExtensionString(a),u=[new ie((r[0]+r[1])/2,e),new ie(o,e)],E=new le(a,null,0,u,J.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&E.putAllMetadata(l),E}decodeMiddle(e,t,r){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let o=e.getSize(),a=t[1],l=0;for(let u=0;u<2&&a<o;u++){let E=Xe.decodeDigit(e,x,a,Xe.L_AND_G_PATTERNS);r+=String.fromCharCode(48+E%10);for(let C of x)a+=C;E>=10&&(l|=1<<1-u),u!==1&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(r.length!==2)throw new O;if(parseInt(r.toString())%4!==l)throw new O;return a}static parseExtensionString(e){return e.length!==2?null:new Map([[Ie.ISSUE_NUMBER,parseInt(e)]])}}class j0{static decodeRow(e,t,r){let x=Xe.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new r0().decodeRow(e,t,x)}catch{return new p0().decodeRow(e,t,x)}}}j0.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class _e extends Xe{constructor(){super(),this.decodeRowStringBuffer="",_e.L_AND_G_PATTERNS=_e.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=_e.L_PATTERNS[e-10],r=new Int32Array(t.length);for(let x=0;x<t.length;x++)r[x]=t[t.length-x-1];_e.L_AND_G_PATTERNS[e]=r}}decodeRow(e,t,r){let x=_e.findStartGuardPattern(t),o=r==null?null:r.get(M.NEED_RESULT_POINT_CALLBACK);if(o!=null){const K=new ie((x[0]+x[1])/2,e);o.foundPossibleResultPoint(K)}let a=this.decodeMiddle(t,x,this.decodeRowStringBuffer),l=a.rowOffset,u=a.resultString;if(o!=null){const K=new ie(l,e);o.foundPossibleResultPoint(K)}let E=this.decodeEnd(t,l);if(o!=null){const K=new ie((E[0]+E[1])/2,e);o.foundPossibleResultPoint(K)}let C=E[1],B=C+(C-E[0]);if(B>=t.getSize()||!t.isRange(C,B,!1))throw new O;let F=u.toString();if(F.length<8)throw new I;if(!_e.checkChecksum(F))throw new L;let y=(x[1]+x[0])/2,v=(E[1]+E[0])/2,_=this.getBarcodeFormat(),H=[new ie(y,e),new ie(v,e)],X=new le(F,null,0,H,_,new Date().getTime()),$=0;try{let K=j0.decodeRow(e,t,E[1]);X.putMetadata(Ie.UPC_EAN_EXTENSION,K.getText()),X.putAllMetadata(K.getResultMetadata()),X.addResultPoints(K.getResultPoints()),$=K.getText().length}catch{}let ee=r==null?null:r.get(M.ALLOWED_EAN_EXTENSIONS);if(ee!=null){let K=!1;for(let pe in ee)if($.toString()===pe){K=!0;break}if(!K)throw new O}return X}decodeEnd(e,t){return _e.findGuardPattern(e,t,!1,_e.START_END_PATTERN,new Int32Array(_e.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return _e.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let r=parseInt(e.charAt(t-1),10);return _e.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let x=t-1;x>=0;x-=2){let o=e.charAt(x).charCodeAt(0)-48;if(o<0||o>9)throw new I;r+=o}r*=3;for(let x=t-2;x>=0;x-=2){let o=e.charAt(x).charCodeAt(0)-48;if(o<0||o>9)throw new I;r+=o}return(1e3-r)%10}}class Ut extends _e{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let o=e.getSize(),a=t[1],l=0;for(let E=0;E<6&&a<o;E++){let C=_e.decodeDigit(e,x,a,_e.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let B of x)a+=B;C>=10&&(l|=1<<5-E)}r=Ut.determineFirstDigit(r,l),a=_e.findGuardPattern(e,a,!0,_e.MIDDLE_PATTERN,new Int32Array(_e.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<6&&a<o;E++){let C=_e.decodeDigit(e,x,a,_e.L_PATTERNS);r+=String.fromCharCode(48+C);for(let B of x)a+=B}return{rowOffset:a,resultString:r}}getBarcodeFormat(){return J.EAN_13}static determineFirstDigit(e,t){for(let r=0;r<10;r++)if(t===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new O}}Ut.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Y0 extends _e{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){const x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let o=e.getSize(),a=t[1];for(let u=0;u<4&&a<o;u++){let E=_e.decodeDigit(e,x,a,_e.L_PATTERNS);r+=String.fromCharCode(48+E);for(let C of x)a+=C}a=_e.findGuardPattern(e,a,!0,_e.MIDDLE_PATTERN,new Int32Array(_e.MIDDLE_PATTERN.length).fill(0))[1];for(let u=0;u<4&&a<o;u++){let E=_e.decodeDigit(e,x,a,_e.L_PATTERNS);r+=String.fromCharCode(48+E);for(let C of x)a+=C}return{rowOffset:a,resultString:r}}getBarcodeFormat(){return J.EAN_8}}class q0 extends _e{constructor(){super(...arguments),this.ean13Reader=new Ut}getBarcodeFormat(){return J.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,r))}decodeMiddle(e,t,r){return this.ean13Reader.decodeMiddle(e,t,r)}maybeReturnResult(e){let t=e.getText();if(t.charAt(0)==="0"){let r=new le(t.substring(1),null,null,e.getResultPoints(),J.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new O}reset(){this.ean13Reader.reset()}}class wt extends _e{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,r){const x=this.decodeMiddleCounters.map(E=>E);x[0]=0,x[1]=0,x[2]=0,x[3]=0;const o=e.getSize();let a=t[1],l=0;for(let E=0;E<6&&a<o;E++){const C=wt.decodeDigit(e,x,a,wt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let B of x)a+=B;C>=10&&(l|=1<<5-E)}let u=wt.determineNumSysAndCheckDigit(r,l);return{rowOffset:a,resultString:u}}decodeEnd(e,t){return wt.findGuardPatternWithoutCounters(e,t,!0,wt.MIDDLE_END_PATTERN)}checkChecksum(e){return _e.checkChecksum(wt.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let r=0;r<=1;r++)for(let x=0;x<10;x++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][x]){let o=String.fromCharCode(48+r),a=String.fromCharCode(48+x);return o+e+a}throw O.getNotFoundInstance()}getBarcodeFormat(){return J.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(o=>o.charCodeAt(0)),r=new te;r.append(e.charAt(0));let x=t[5];switch(x){case 0:case 1:case 2:r.appendChars(t,0,2),r.append(x),r.append("0000"),r.appendChars(t,2,3);break;case 3:r.appendChars(t,0,3),r.append("00000"),r.appendChars(t,3,2);break;case 4:r.appendChars(t,0,4),r.append("00000"),r.append(t[4]);break;default:r.appendChars(t,0,5),r.append("0000"),r.append(x);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}wt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),wt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class b0 extends qe{constructor(e){super();let t=e==null?null:e.get(M.POSSIBLE_FORMATS),r=[];c(t)?(r.push(new Ut),r.push(new q0),r.push(new Y0),r.push(new wt)):(t.indexOf(J.EAN_13)>-1&&r.push(new Ut),t.indexOf(J.UPC_A)>-1&&r.push(new q0),t.indexOf(J.EAN_8)>-1&&r.push(new Y0),t.indexOf(J.UPC_E)>-1&&r.push(new wt)),this.readers=r}decodeRow(e,t,r){for(let x of this.readers)try{const o=x.decodeRow(e,t,r),a=o.getBarcodeFormat()===J.EAN_13&&o.getText().charAt(0)==="0",l=r==null?null:r.get(M.POSSIBLE_FORMATS),u=l==null||l.includes(J.UPC_A);if(a&&u){const E=o.getRawBytes(),C=new le(o.getText().substring(1),E,E?E.length:null,o.getResultPoints(),J.UPC_A);return C.putAllMetadata(o.getResultMetadata()),C}return o}catch{}throw new O}reset(){for(let e of this.readers)e.reset()}}class it extends qe{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let r=0;r<t.length;r++)if(qe.patternMatchVariance(e,t[r],it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE)return r;throw new O}static count(e){return Ce.sum(new Int32Array(e))}static increment(e,t){let r=0,x=t[0];for(let o=1;o<e.length;o++)t[o]>x&&(x=t[o],r=o);e[r]++}static decrement(e,t){let r=0,x=t[0];for(let o=1;o<e.length;o++)t[o]<x&&(x=t[o],r=o);e[r]--}static isFinderPattern(e){let t=e[0]+e[1],r=t+e[2]+e[3],x=t/r;if(x>=it.MIN_FINDER_PATTERN_RATIO&&x<=it.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let l of e)l>a&&(a=l),l<o&&(o=l);return a<10*o}return!1}}it.MAX_AVG_VARIANCE=.2,it.MAX_INDIVIDUAL_VARIANCE=.45,it.MIN_FINDER_PATTERN_RATIO=9.5/12,it.MAX_FINDER_PATTERN_RATIO=12.5/14;class Yt{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Yt))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class E0{constructor(e,t,r,x,o){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new ie(r,o)),this.resultPoints.push(new ie(x,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof E0))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class bt{constructor(){}static getRSSvalue(e,t,r){let x=0;for(let u of e)x+=u;let o=0,a=0,l=e.length;for(let u=0;u<l-1;u++){let E;for(E=1,a|=1<<u;E<e[u];E++,a&=~(1<<u)){let C=bt.combins(x-E-1,l-u-2);if(r&&a===0&&x-E-(l-u-1)>=l-u-1&&(C-=bt.combins(x-E-(l-u),l-u-2)),l-u-1>1){let B=0;for(let F=x-E-(l-u-2);F>t;F--)B+=bt.combins(x-E-F-1,l-u-3);C-=B*(l-1-u)}else x-E>t&&C--;o+=C}x-=E}return o}static combins(e,t){let r,x;e-t>t?(x=t,r=e-t):(x=e-t,r=t);let o=1,a=1;for(let l=e;l>r;l--)o*=l,a<=x&&(o/=a,a++);for(;a<=x;)o/=a,a++;return o}}class cr{static buildBitArray(e){let t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);let r=12*t,x=new S(r),o=0,l=e[0].getRightChar().getValue();for(let u=11;u>=0;--u)(l&1<<u)!=0&&x.set(o),o++;for(let u=1;u<e.length;++u){let E=e[u],C=E.getLeftChar().getValue();for(let B=11;B>=0;--B)(C&1<<B)!=0&&x.set(o),o++;if(E.getRightChar()!=null){let B=E.getRightChar().getValue();for(let F=11;F>=0;--F)(B&1<<F)!=0&&x.set(o),o++}}return x}}class Vt{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class y0{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class lt extends y0{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===lt.FNC1}}lt.FNC1="$";class Wt extends y0{constructor(e,t,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ct extends y0{constructor(e,t,r){if(super(e),t<0||t>10||r<0||r>10)throw new I;this.firstDigit=t,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ct.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ct.FNC1}isAnyFNC1(){return this.firstDigit===Ct.FNC1||this.secondDigit===Ct.FNC1}}Ct.FNC1=10;class se{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new O;let t=e.substring(0,2);for(let o of se.TWO_DIGIT_DATA_LENGTH)if(o[0]===t)return o[1]===se.VARIABLE_LENGTH?se.processVariableAI(2,o[2],e):se.processFixedAI(2,o[1],e);if(e.length<3)throw new O;let r=e.substring(0,3);for(let o of se.THREE_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===se.VARIABLE_LENGTH?se.processVariableAI(3,o[2],e):se.processFixedAI(3,o[1],e);for(let o of se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===se.VARIABLE_LENGTH?se.processVariableAI(4,o[2],e):se.processFixedAI(4,o[1],e);if(e.length<4)throw new O;let x=e.substring(0,4);for(let o of se.FOUR_DIGIT_DATA_LENGTH)if(o[0]===x)return o[1]===se.VARIABLE_LENGTH?se.processVariableAI(4,o[2],e):se.processFixedAI(4,o[1],e);throw new O}static processFixedAI(e,t,r){if(r.length<e)throw new O;let x=r.substring(0,e);if(r.length<e+t)throw new O;let o=r.substring(e,e+t),a=r.substring(e+t),l="("+x+")"+o,u=se.parseFieldsInGeneralPurpose(a);return u==null?l:l+u}static processVariableAI(e,t,r){let x=r.substring(0,e),o;r.length<e+t?o=r.length:o=e+t;let a=r.substring(e,o),l=r.substring(o),u="("+x+")"+a,E=se.parseFieldsInGeneralPurpose(l);return E==null?u:u+E}}se.VARIABLE_LENGTH=[],se.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",se.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",se.VARIABLE_LENGTH,20],["22",se.VARIABLE_LENGTH,29],["30",se.VARIABLE_LENGTH,8],["37",se.VARIABLE_LENGTH,8],["90",se.VARIABLE_LENGTH,30],["91",se.VARIABLE_LENGTH,30],["92",se.VARIABLE_LENGTH,30],["93",se.VARIABLE_LENGTH,30],["94",se.VARIABLE_LENGTH,30],["95",se.VARIABLE_LENGTH,30],["96",se.VARIABLE_LENGTH,30],["97",se.VARIABLE_LENGTH,3],["98",se.VARIABLE_LENGTH,30],["99",se.VARIABLE_LENGTH,30]],se.THREE_DIGIT_DATA_LENGTH=[["240",se.VARIABLE_LENGTH,30],["241",se.VARIABLE_LENGTH,30],["242",se.VARIABLE_LENGTH,6],["250",se.VARIABLE_LENGTH,30],["251",se.VARIABLE_LENGTH,30],["253",se.VARIABLE_LENGTH,17],["254",se.VARIABLE_LENGTH,20],["400",se.VARIABLE_LENGTH,30],["401",se.VARIABLE_LENGTH,30],["402",17],["403",se.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",se.VARIABLE_LENGTH,20],["421",se.VARIABLE_LENGTH,15],["422",3],["423",se.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",se.VARIABLE_LENGTH,15],["391",se.VARIABLE_LENGTH,18],["392",se.VARIABLE_LENGTH,15],["393",se.VARIABLE_LENGTH,18],["703",se.VARIABLE_LENGTH,30]],se.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",se.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",se.VARIABLE_LENGTH,20],["8003",se.VARIABLE_LENGTH,30],["8004",se.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",se.VARIABLE_LENGTH,30],["8008",se.VARIABLE_LENGTH,12],["8018",18],["8020",se.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",se.VARIABLE_LENGTH,70],["8200",se.VARIABLE_LENGTH,70]];class qt{constructor(e){this.buffer=new te,this.information=e}decodeAllCodes(e,t){let r=t,x=null;do{let o=this.decodeGeneralPurposeField(r,x),a=se.parseFieldsInGeneralPurpose(o.getNewString());if(a!=null&&e.append(a),o.isRemaining()?x=""+o.getRemainingValue():x=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(e,4);return o===0?new Ct(this.information.getSize(),Ct.FNC1,Ct.FNC1):new Ct(this.information.getSize(),o-1,Ct.FNC1)}let t=this.extractNumericValueFromBitArray(e,7),r=(t-8)/11,x=(t-8)%11;return new Ct(e+7,r,x)}extractNumericValueFromBitArray(e,t){return qt.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,r){let x=0;for(let o=0;o<r;++o)e.get(t+o)&&(x|=1<<r-o-1);return x}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new Wt(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Wt(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let r=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return e.isSecondDigitFNC1()?t=new Wt(this.current.getPosition(),this.buffer.toString()):t=new Wt(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Vt(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let t=new Wt(this.current.getPosition(),this.buffer.toString());return new Vt(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Vt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Wt(this.current.getPosition(),this.buffer.toString());return new Vt(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Vt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Wt(this.current.getPosition(),this.buffer.toString());return new Vt(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Vt(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let x=this.extractNumericValueFromBitArray(e,8);return x>=232&&x<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new lt(e+5,lt.FNC1);if(t>=5&&t<15)return new lt(e+5,"0"+(t-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new lt(e+7,""+(r+1));if(r>=90&&r<116)return new lt(e+7,""+(r+7));let x=this.extractNumericValueFromBitArray(e,8),o;switch(x){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new I}return new lt(e+8,o)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new lt(e+5,lt.FNC1);if(t>=5&&t<15)return new lt(e+5,"0"+(t-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new lt(e+6,""+(r+33));let x;switch(r){case 58:x="*";break;case 59:x=",";break;case 60:x="-";break;case 61:x=".";break;case 62:x="/";break;default:throw new Je("Decoding invalid alphanumeric value: "+r)}return new lt(e+6,x)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class I0{constructor(e){this.information=e,this.generalDecoder=new qt(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ct extends I0{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,r)}encodeCompressedGtinWithoutAI(e,t,r){for(let x=0;x<4;++x){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*x,10);o/100===0&&e.append("0"),o/10===0&&e.append("0"),e.append(o)}ct.appendCheckDigit(e,r)}static appendCheckDigit(e,t){let r=0;for(let x=0;x<13;x++){let o=e.charAt(x+t).charCodeAt(0)-48;r+=(x&1)===0?3*o:o}r=10-r%10,r===10&&(r=0),e.append(r)}}ct.GTIN_SIZE=40;class Qt extends ct{constructor(e){super(e)}parseInformation(){let e=new te;e.append("(01)");let t=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(Qt.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,Qt.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,Qt.HEADER_SIZE+44)}}Qt.HEADER_SIZE=4;class h0 extends I0{constructor(e){super(e)}parseInformation(){let e=new te;return this.getGeneralDecoder().decodeAllCodes(e,h0.HEADER_SIZE)}}h0.HEADER_SIZE=5;class C0 extends ct{constructor(e){super(e)}encodeCompressedWeight(e,t,r){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(t,r);this.addWeightCode(e,x);let o=this.checkWeight(x),a=1e5;for(let l=0;l<5;++l)o/a===0&&e.append("0"),a/=10;e.append(o)}}class yt extends C0{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=yt.HEADER_SIZE+C0.GTIN_SIZE+yt.WEIGHT_SIZE)throw new O;let e=new te;return this.encodeCompressedGtin(e,yt.HEADER_SIZE),this.encodeCompressedWeight(e,yt.HEADER_SIZE+C0.GTIN_SIZE,yt.WEIGHT_SIZE),e.toString()}}yt.HEADER_SIZE=5,yt.WEIGHT_SIZE=15;class ur extends yt{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class fr extends yt{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class It extends ct{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<It.HEADER_SIZE+ct.GTIN_SIZE)throw new O;let e=new te;this.encodeCompressedGtin(e,It.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(It.HEADER_SIZE+ct.GTIN_SIZE,It.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(It.HEADER_SIZE+ct.GTIN_SIZE+It.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}It.HEADER_SIZE=8,It.LAST_DIGIT_SIZE=2;class at extends ct{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<at.HEADER_SIZE+ct.GTIN_SIZE)throw new O;let e=new te;this.encodeCompressedGtin(e,at.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(at.HEADER_SIZE+ct.GTIN_SIZE,at.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(at.HEADER_SIZE+ct.GTIN_SIZE+at.LAST_DIGIT_SIZE,at.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let x=this.getGeneralDecoder().decodeGeneralPurposeField(at.HEADER_SIZE+ct.GTIN_SIZE+at.LAST_DIGIT_SIZE+at.FIRST_THREE_DIGITS_SIZE,null);return e.append(x.getNewString()),e.toString()}}at.HEADER_SIZE=8,at.LAST_DIGIT_SIZE=2,at.FIRST_THREE_DIGITS_SIZE=10;class Ue extends C0{constructor(e,t,r){super(e),this.dateCode=r,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=Ue.HEADER_SIZE+Ue.GTIN_SIZE+Ue.WEIGHT_SIZE+Ue.DATE_SIZE)throw new O;let e=new te;return this.encodeCompressedGtin(e,Ue.HEADER_SIZE),this.encodeCompressedWeight(e,Ue.HEADER_SIZE+Ue.GTIN_SIZE,Ue.WEIGHT_SIZE),this.encodeCompressedDate(e,Ue.HEADER_SIZE+Ue.GTIN_SIZE+Ue.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,Ue.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let x=r%32;r/=32;let o=r%12+1;r/=12;let a=r;a/10==0&&e.append("0"),e.append(a),o/10==0&&e.append("0"),e.append(o),x/10==0&&e.append("0"),e.append(x)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}Ue.HEADER_SIZE=8,Ue.WEIGHT_SIZE=20,Ue.DATE_SIZE=16;function Q0(g){try{if(g.get(1))return new Qt(g);if(!g.get(2))return new h0(g);switch(qt.extractNumericValueFromBitArray(g,1,4)){case 4:return new ur(g);case 5:return new fr(g)}switch(qt.extractNumericValueFromBitArray(g,1,5)){case 12:return new It(g);case 13:return new at(g)}switch(qt.extractNumericValueFromBitArray(g,1,7)){case 56:return new Ue(g,"310","11");case 57:return new Ue(g,"320","11");case 58:return new Ue(g,"310","13");case 59:return new Ue(g,"320","13");case 60:return new Ue(g,"310","15");case 61:return new Ue(g,"320","15");case 62:return new Ue(g,"310","17");case 63:return new Ue(g,"320","17")}}catch(e){throw console.log(e),new Je("unknown decoder: "+g)}}class Ot{constructor(e,t,r,x){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=x}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof Ot?Ot.equalsOrNull(e.leftchar,t.leftchar)&&Ot.equalsOrNull(e.rightchar,t.rightchar)&&Ot.equalsOrNull(e.finderpattern,t.finderpattern):!1}static equalsOrNull(e,t){return e===null?t===null:Ot.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class S0{constructor(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof S0?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1}checkEqualitity(e,t){if(!e||!t)return;let r;return e.forEach((x,o)=>{t.forEach(a=>{x.getLeftChar().getValue()===a.getLeftChar().getValue()&&x.getRightChar().getValue()===a.getRightChar().getValue()&&x.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(r=!0)})}),r}}class Q extends it{constructor(e){super(...arguments),this.pairs=new Array(Q.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,t,r){this.pairs.length=0,this.startFromEven=!1;try{return Q.constructResult(this.decodeRow2pairs(e,t))}catch(x){this.verbose&&console.log(x)}return this.pairs.length=0,this.startFromEven=!0,Q.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(o){if(o instanceof O){if(!this.pairs.length)throw new O;r=!0}}if(this.checkChecksum())return this.pairs;let x;if(this.rows.length?x=!0:x=!1,this.storeRow(e,!1),x){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new O}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let r=t;r<this.rows.length;r++){let x=this.rows[r];this.pairs.length=0;for(let a of e)this.pairs.push(a.getPairs());if(this.pairs.push(x.getPairs()),!Q.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(e);o.push(x);try{return this.checkRows(o,r+1)}catch(a){this.verbose&&console.log(a)}}throw new O}static isValidSequence(e){for(let t of Q.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let r=!0;for(let x=0;x<e.length;x++)if(e[x].getFinderPattern().getValue()!=t[x]){r=!1;break}if(r)return!0}return!1}storeRow(e,t){let r=0,x=!1,o=!1;for(;r<this.rows.length;){let a=this.rows[r];if(a.getRowNumber()>e){o=a.isEquivalent(this.pairs);break}x=a.isEquivalent(this.pairs),r++}o||x||Q.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new S0(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let r of t)if(r.getPairs().length!==e.length){for(let x of r.getPairs())for(let o of e)if(Ot.equals(x,o))break}}static isPartialRow(e,t){for(let r of t){let x=!0;for(let o of e){let a=!1;for(let l of r.getPairs())if(o.equals(l)){a=!0;break}if(!a){x=!1;break}}if(x)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=cr.buildBitArray(e),x=Q0(t).parseInformation(),o=e[0].getFinderPattern().getResultPoints(),a=e[e.length-1].getFinderPattern().getResultPoints(),l=[o[0],o[1],a[0],a[1]];return new le(x,null,null,l,J.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let x=r.getChecksumPortion(),o=2;for(let l=1;l<this.pairs.size();++l){let u=this.pairs.get(l);x+=u.getLeftChar().getChecksumPortion(),o++;let E=u.getRightChar();E!=null&&(x+=E.getChecksumPortion(),o++)}return x%=211,211*(o-4)+x==t.getValue()}static getNextSecondBar(e,t){let r;return e.get(t)?(r=e.getNextUnset(t),r=e.getNextSet(r)):(r=e.getNextSet(t),r=e.getNextUnset(r)),r}retrieveNextPair(e,t,r){let x=t.length%2==0;this.startFromEven&&(x=!x);let o,a=!0,l=-1;do this.findNextPair(e,t,l),o=this.parseFoundFinderPattern(e,r,x),o==null?l=Q.getNextSecondBar(e,this.startEnd[0]):a=!1;while(a);let u=this.decodeDataCharacter(e,o,x,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new O;let E;try{E=this.decodeDataCharacter(e,o,x,!1)}catch(C){E=null,this.verbose&&console.log(C)}return new Ot(u,E,o,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,t,r){let x=this.getDecodeFinderCounters();x[0]=0,x[1]=0,x[2]=0,x[3]=0;let o=e.getSize(),a;r>=0?a=r:this.isEmptyPair(t)?a=0:a=t[t.length-1].getFinderPattern().getStartEnd()[1];let l=t.length%2!=0;this.startFromEven&&(l=!l);let u=!1;for(;a<o&&(u=!e.get(a),!!u);)a++;let E=0,C=a;for(let B=a;B<o;B++)if(e.get(B)!=u)x[E]++;else{if(E==3){if(l&&Q.reverseCounters(x),Q.isFinderPattern(x)){this.startEnd[0]=C,this.startEnd[1]=B;return}l&&Q.reverseCounters(x),C+=x[0]+x[1],x[0]=x[2],x[1]=x[3],x[2]=0,x[3]=0,E--}else E++;x[E]=1,u=!u}throw new O}static reverseCounters(e){let t=e.length;for(let r=0;r<t/2;++r){let x=e[r];e[r]=e[t-r-1],e[t-r-1]=x}}parseFoundFinderPattern(e,t,r){let x,o,a;if(r){let E=this.startEnd[0]-1;for(;E>=0&&!e.get(E);)E--;E++,x=this.startEnd[0]-E,o=E,a=this.startEnd[1]}else o=this.startEnd[0],a=e.getNextUnset(this.startEnd[1]+1),x=a-this.startEnd[1];let l=this.getDecodeFinderCounters();G.arraycopy(l,0,l,1,l.length-1),l[0]=x;let u;try{u=this.parseFinderValue(l,Q.FINDER_PATTERNS)}catch{return null}return new E0(u,[o,a],o,a,t)}decodeDataCharacter(e,t,r,x){let o=this.getDataCharacterCounters();for(let Me=0;Me<o.length;Me++)o[Me]=0;if(x)Q.recordPatternInReverse(e,t.getStartEnd()[0],o);else{Q.recordPattern(e,t.getStartEnd()[1],o);for(let Me=0,nt=o.length-1;Me<nt;Me++,nt--){let Et=o[Me];o[Me]=o[nt],o[nt]=Et}}let a=17,l=Ce.sum(new Int32Array(o))/a,u=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(l-u)/u>.3)throw new O;let E=this.getOddCounts(),C=this.getEvenCounts(),B=this.getOddRoundingErrors(),F=this.getEvenRoundingErrors();for(let Me=0;Me<o.length;Me++){let nt=1*o[Me]/l,Et=nt+.5;if(Et<1){if(nt<.3)throw new O;Et=1}else if(Et>8){if(nt>8.7)throw new O;Et=8}let e0=Me/2;(Me&1)==0?(E[e0]=Et,B[e0]=nt-Et):(C[e0]=Et,F[e0]=nt-Et)}this.adjustOddEvenCounts(a);let y=4*t.getValue()+(r?0:2)+(x?0:1)-1,v=0,_=0;for(let Me=E.length-1;Me>=0;Me--){if(Q.isNotA1left(t,r,x)){let nt=Q.WEIGHTS[y][2*Me];_+=E[Me]*nt}v+=E[Me]}let H=0;for(let Me=C.length-1;Me>=0;Me--)if(Q.isNotA1left(t,r,x)){let nt=Q.WEIGHTS[y][2*Me+1];H+=C[Me]*nt}let X=_+H;if((v&1)!=0||v>13||v<4)throw new O;let $=(13-v)/2,ee=Q.SYMBOL_WIDEST[$],K=9-ee,pe=bt.getRSSvalue(E,ee,!0),Ae=bt.getRSSvalue(C,K,!1),ft=Q.EVEN_TOTAL_SUBSET[$],pt=Q.GSUM[$],dt=pe*ft+Ae+pt;return new Yt(dt,X)}static isNotA1left(e,t,r){return!(e.getValue()==0&&t&&r)}adjustOddEvenCounts(e){let t=Ce.sum(new Int32Array(this.getOddCounts())),r=Ce.sum(new Int32Array(this.getEvenCounts())),x=!1,o=!1;t>13?o=!0:t<4&&(x=!0);let a=!1,l=!1;r>13?l=!0:r<4&&(a=!0);let u=t+r-e,E=(t&1)==1,C=(r&1)==0;if(u==1)if(E){if(C)throw new O;o=!0}else{if(!C)throw new O;l=!0}else if(u==-1)if(E){if(C)throw new O;x=!0}else{if(!C)throw new O;a=!0}else if(u==0){if(E){if(!C)throw new O;t<r?(x=!0,l=!0):(o=!0,a=!0)}else if(C)throw new O}else throw new O;if(x){if(o)throw new O;Q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&Q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(l)throw new O;Q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&Q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Q.SYMBOL_WIDEST=[7,5,4,3,1],Q.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Q.GSUM=[0,348,1388,2948,3988],Q.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Q.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Q.FINDER_PAT_A=0,Q.FINDER_PAT_B=1,Q.FINDER_PAT_C=2,Q.FINDER_PAT_D=3,Q.FINDER_PAT_E=4,Q.FINDER_PAT_F=5,Q.FINDER_PATTERN_SEQUENCES=[[Q.FINDER_PAT_A,Q.FINDER_PAT_A],[Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B],[Q.FINDER_PAT_A,Q.FINDER_PAT_C,Q.FINDER_PAT_B,Q.FINDER_PAT_D],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_C],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_D,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_E,Q.FINDER_PAT_B,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_D],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_E],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F],[Q.FINDER_PAT_A,Q.FINDER_PAT_A,Q.FINDER_PAT_B,Q.FINDER_PAT_B,Q.FINDER_PAT_C,Q.FINDER_PAT_D,Q.FINDER_PAT_D,Q.FINDER_PAT_E,Q.FINDER_PAT_E,Q.FINDER_PAT_F,Q.FINDER_PAT_F]],Q.MAX_PAIRS=11;class dr extends Yt{constructor(e,t,r){super(e,t),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ge extends it{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,r){const x=this.decodePair(t,!1,e,r);Ge.addOrTally(this.possibleLeftPairs,x),t.reverse();let o=this.decodePair(t,!0,e,r);Ge.addOrTally(this.possibleRightPairs,o),t.reverse();for(let a of this.possibleLeftPairs)if(a.getCount()>1){for(let l of this.possibleRightPairs)if(l.getCount()>1&&Ge.checkChecksum(a,l))return Ge.constructResult(a,l)}throw new O}static addOrTally(e,t){if(t==null)return;let r=!1;for(let x of e)if(x.getValue()===t.getValue()){x.incrementCount(),r=!0;break}r||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let r=4537077*e.getValue()+t.getValue(),x=new String(r).toString(),o=new te;for(let E=13-x.length;E>0;E--)o.append("0");o.append(x);let a=0;for(let E=0;E<13;E++){let C=o.charAt(E).charCodeAt(0)-48;a+=(E&1)===0?3*C:C}a=10-a%10,a===10&&(a=0),o.append(a.toString());let l=e.getFinderPattern().getResultPoints(),u=t.getFinderPattern().getResultPoints();return new le(o.toString(),null,0,[l[0],l[1],u[0],u[1]],J.RSS_14,new Date().getTime())}static checkChecksum(e,t){let r=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,x=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return x>72&&x--,x>8&&x--,r===x}decodePair(e,t,r,x){try{let o=this.findFinderPattern(e,t),a=this.parseFoundFinderPattern(e,r,t,o),l=x==null?null:x.get(M.NEED_RESULT_POINT_CALLBACK);if(l!=null){let C=(o[0]+o[1])/2;t&&(C=e.getSize()-1-C),l.foundPossibleResultPoint(new ie(C,r))}let u=this.decodeDataCharacter(e,a,!0),E=this.decodeDataCharacter(e,a,!1);return new dr(1597*u.getValue()+E.getValue(),u.getChecksumPortion()+4*E.getChecksumPortion(),a)}catch{return null}}decodeDataCharacter(e,t,r){let x=this.getDataCharacterCounters();for(let H=0;H<x.length;H++)x[H]=0;if(r)qe.recordPatternInReverse(e,t.getStartEnd()[0],x);else{qe.recordPattern(e,t.getStartEnd()[1]+1,x);for(let H=0,X=x.length-1;H<X;H++,X--){let $=x[H];x[H]=x[X],x[X]=$}}let o=r?16:15,a=Ce.sum(new Int32Array(x))/o,l=this.getOddCounts(),u=this.getEvenCounts(),E=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let H=0;H<x.length;H++){let X=x[H]/a,$=Math.floor(X+.5);$<1?$=1:$>8&&($=8);let ee=Math.floor(H/2);(H&1)===0?(l[ee]=$,E[ee]=X-$):(u[ee]=$,C[ee]=X-$)}this.adjustOddEvenCounts(r,o);let B=0,F=0;for(let H=l.length-1;H>=0;H--)F*=9,F+=l[H],B+=l[H];let y=0,v=0;for(let H=u.length-1;H>=0;H--)y*=9,y+=u[H],v+=u[H];let _=F+3*y;if(r){if((B&1)!==0||B>12||B<4)throw new O;let H=(12-B)/2,X=Ge.OUTSIDE_ODD_WIDEST[H],$=9-X,ee=bt.getRSSvalue(l,X,!1),K=bt.getRSSvalue(u,$,!0),pe=Ge.OUTSIDE_EVEN_TOTAL_SUBSET[H],Ae=Ge.OUTSIDE_GSUM[H];return new Yt(ee*pe+K+Ae,_)}else{if((v&1)!==0||v>10||v<4)throw new O;let H=(10-v)/2,X=Ge.INSIDE_ODD_WIDEST[H],$=9-X,ee=bt.getRSSvalue(l,X,!0),K=bt.getRSSvalue(u,$,!1),pe=Ge.INSIDE_ODD_TOTAL_SUBSET[H],Ae=Ge.INSIDE_GSUM[H];return new Yt(K*pe+ee+Ae,_)}}findFinderPattern(e,t){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let x=e.getSize(),o=!1,a=0;for(;a<x&&(o=!e.get(a),t!==o);)a++;let l=0,u=a;for(let E=a;E<x;E++)if(e.get(E)!==o)r[l]++;else{if(l===3){if(it.isFinderPattern(r))return[u,E];u+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,l--}else l++;r[l]=1,o=!o}throw new O}parseFoundFinderPattern(e,t,r,x){let o=e.get(x[0]),a=x[0]-1;for(;a>=0&&o!==e.get(a);)a--;a++;const l=x[0]-a,u=this.getDecodeFinderCounters(),E=new Int32Array(u.length);G.arraycopy(u,0,E,1,u.length-1),E[0]=l;const C=this.parseFinderValue(E,Ge.FINDER_PATTERNS);let B=a,F=x[1];return r&&(B=e.getSize()-1-B,F=e.getSize()-1-F),new E0(C,[a,x[1]],B,F,t)}adjustOddEvenCounts(e,t){let r=Ce.sum(new Int32Array(this.getOddCounts())),x=Ce.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1,l=!1,u=!1;e?(r>12?a=!0:r<4&&(o=!0),x>12?u=!0:x<4&&(l=!0)):(r>11?a=!0:r<5&&(o=!0),x>10?u=!0:x<4&&(l=!0));let E=r+x-t,C=(r&1)===(e?1:0),B=(x&1)===1;if(E===1)if(C){if(B)throw new O;a=!0}else{if(!B)throw new O;u=!0}else if(E===-1)if(C){if(B)throw new O;o=!0}else{if(!B)throw new O;l=!0}else if(E===0){if(C){if(!B)throw new O;r<x?(o=!0,u=!0):(a=!0,l=!0)}else if(B)throw new O}else throw new O;if(o){if(a)throw new O;it.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&it.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new O;it.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&it.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ge.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ge.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ge.OUTSIDE_GSUM=[0,161,961,2015,2715],Ge.INSIDE_GSUM=[0,336,1036,1516],Ge.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ge.INSIDE_ODD_WIDEST=[2,4,6,8],Ge.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Zt extends qe{constructor(e,t){super(),this.readers=[],this.verbose=t===!0;const r=e?e.get(M.POSSIBLE_FORMATS):null,x=e&&e.get(M.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(J.EAN_13)||r.includes(J.UPC_A)||r.includes(J.EAN_8)||r.includes(J.UPC_E))&&this.readers.push(new b0(e)),r.includes(J.CODE_39)&&this.readers.push(new Qe(x)),r.includes(J.CODE_128)&&this.readers.push(new re),r.includes(J.ITF)&&this.readers.push(new Ne),r.includes(J.RSS_14)&&this.readers.push(new Ge),r.includes(J.RSS_EXPANDED)&&this.readers.push(new Q(this.verbose))):(this.readers.push(new b0(e)),this.readers.push(new Qe),this.readers.push(new b0(e)),this.readers.push(new re),this.readers.push(new Ne),this.readers.push(new Ge),this.readers.push(new Q(this.verbose)))}decodeRow(e,t,r){for(let x=0;x<this.readers.length;x++)try{return this.readers[x].decodeRow(e,t,r)}catch{}throw new O}reset(){this.readers.forEach(e=>e.reset())}}class Er extends Oe{constructor(e=500,t){super(new Zt(t),e,t)}}class ke{constructor(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Te{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ye{constructor(e,t,r,x,o,a){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=x,this.dataRegionSizeColumns=o,this.ecBlocks=a;let l=0;const u=a.getECCodewords(),E=a.getECBlocks();for(let C of E)l+=C.getCount()*(C.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if((e&1)!==0||(t&1)!==0)throw new I;for(let r of ye.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===t)return r;throw new I}toString(){return""+this.versionNumber}static buildVersions(){return[new ye(1,10,10,8,8,new ke(5,new Te(1,3))),new ye(2,12,12,10,10,new ke(7,new Te(1,5))),new ye(3,14,14,12,12,new ke(10,new Te(1,8))),new ye(4,16,16,14,14,new ke(12,new Te(1,12))),new ye(5,18,18,16,16,new ke(14,new Te(1,18))),new ye(6,20,20,18,18,new ke(18,new Te(1,22))),new ye(7,22,22,20,20,new ke(20,new Te(1,30))),new ye(8,24,24,22,22,new ke(24,new Te(1,36))),new ye(9,26,26,24,24,new ke(28,new Te(1,44))),new ye(10,32,32,14,14,new ke(36,new Te(1,62))),new ye(11,36,36,16,16,new ke(42,new Te(1,86))),new ye(12,40,40,18,18,new ke(48,new Te(1,114))),new ye(13,44,44,20,20,new ke(56,new Te(1,144))),new ye(14,48,48,22,22,new ke(68,new Te(1,174))),new ye(15,52,52,24,24,new ke(42,new Te(2,102))),new ye(16,64,64,14,14,new ke(56,new Te(2,140))),new ye(17,72,72,16,16,new ke(36,new Te(4,92))),new ye(18,80,80,18,18,new ke(48,new Te(4,114))),new ye(19,88,88,20,20,new ke(56,new Te(4,144))),new ye(20,96,96,22,22,new ke(68,new Te(4,174))),new ye(21,104,104,24,24,new ke(56,new Te(6,136))),new ye(22,120,120,18,18,new ke(68,new Te(6,175))),new ye(23,132,132,20,20,new ke(62,new Te(8,163))),new ye(24,144,144,22,22,new ke(62,new Te(8,156),new Te(2,155))),new ye(25,8,18,6,16,new ke(7,new Te(1,5))),new ye(26,8,32,6,14,new ke(11,new Te(1,10))),new ye(27,12,26,10,24,new ke(14,new Te(1,16))),new ye(28,12,36,10,16,new ke(18,new Te(1,22))),new ye(29,16,36,14,16,new ke(24,new Te(1,32))),new ye(30,16,48,14,22,new ke(28,new Te(1,49)))]}}ye.VERSIONS=ye.buildVersions();class v0{constructor(e){const t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new I;this.version=v0.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new oe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),r=e.getWidth();return ye.getVersionForDimensions(t,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,r=4,x=0;const o=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth();let l=!1,u=!1,E=!1,C=!1;do if(r===o&&x===0&&!l)e[t++]=this.readCorner1(o,a)&255,r-=2,x+=2,l=!0;else if(r===o-2&&x===0&&(a&3)!==0&&!u)e[t++]=this.readCorner2(o,a)&255,r-=2,x+=2,u=!0;else if(r===o+4&&x===2&&(a&7)===0&&!E)e[t++]=this.readCorner3(o,a)&255,r-=2,x+=2,E=!0;else if(r===o-2&&x===0&&(a&7)===4&&!C)e[t++]=this.readCorner4(o,a)&255,r-=2,x+=2,C=!0;else{do r<o&&x>=0&&!this.readMappingMatrix.get(x,r)&&(e[t++]=this.readUtah(r,x,o,a)&255),r-=2,x+=2;while(r>=0&&x<a);r+=1,x+=3;do r>=0&&x<a&&!this.readMappingMatrix.get(x,r)&&(e[t++]=this.readUtah(r,x,o,a)&255),r+=2,x-=2;while(r<o&&x>=0);r+=3,x+=1}while(r<o||x<a);if(t!==this.version.getTotalCodewords())throw new I;return e}readModule(e,t,r,x){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=x,e+=4-(x+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,r,x){let o=0;return this.readModule(e-2,t-2,r,x)&&(o|=1),o<<=1,this.readModule(e-2,t-1,r,x)&&(o|=1),o<<=1,this.readModule(e-1,t-2,r,x)&&(o|=1),o<<=1,this.readModule(e-1,t-1,r,x)&&(o|=1),o<<=1,this.readModule(e-1,t,r,x)&&(o|=1),o<<=1,this.readModule(e,t-2,r,x)&&(o|=1),o<<=1,this.readModule(e,t-1,r,x)&&(o|=1),o<<=1,this.readModule(e,t,r,x)&&(o|=1),o}readCorner1(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}readCorner2(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner3(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner4(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new w("Dimension of bitMatrix must match the version size");const x=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),a=t/x|0,l=r/o|0,u=a*x,E=l*o,C=new oe(E,u);for(let B=0;B<a;++B){const F=B*x;for(let y=0;y<l;++y){const v=y*o;for(let _=0;_<x;++_){const H=B*(x+2)+1+_,X=F+_;for(let $=0;$<o;++$){const ee=y*(o+2)+1+$;if(e.get(ee,H)){const K=v+$;C.set(K,X)}}}}}return C}}class _0{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const r=t.getECBlocks();let x=0;const o=r.getECBlocks();for(let _ of o)x+=_.getCount();const a=new Array(x);let l=0;for(let _ of o)for(let H=0;H<_.getCount();H++){const X=_.getDataCodewords(),$=r.getECCodewords()+X;a[l++]=new _0(X,new Uint8Array($))}const E=a[0].codewords.length-r.getECCodewords(),C=E-1;let B=0;for(let _=0;_<C;_++)for(let H=0;H<l;H++)a[H].codewords[_]=e[B++];const F=t.getVersionNumber()===24,y=F?8:l;for(let _=0;_<y;_++)a[_].codewords[E-1]=e[B++];const v=a[0].codewords.length;for(let _=E;_<v;_++)for(let H=0;H<l;H++){const X=F?(H+8)%l:H,$=F&&X>7?_-1:_;a[X].codewords[$]=e[B++]}if(B!==e.length)throw new w;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class T0{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new w(""+e);let t=0,r=this.bitOffset,x=this.byteOffset;const o=this.bytes;if(r>0){const a=8-r,l=e<a?e:a,u=a-l,E=255>>8-l<<u;t=(o[x]&E)>>u,e-=l,r+=l,r===8&&(r=0,x++)}if(e>0){for(;e>=8;)t=t<<8|o[x]&255,x++,e-=8;if(e>0){const a=8-e,l=255>>a<<a;t=t<<e|(o[x]&l)>>a,r+=e}}return this.bitOffset=r,this.byteOffset=x,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ze;(function(g){g[g.PAD_ENCODE=0]="PAD_ENCODE",g[g.ASCII_ENCODE=1]="ASCII_ENCODE",g[g.C40_ENCODE=2]="C40_ENCODE",g[g.TEXT_ENCODE=3]="TEXT_ENCODE",g[g.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",g[g.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",g[g.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ze||(Ze={}));class Rt{static decode(e){const t=new T0(e),r=new te,x=new te,o=new Array;let a=Ze.ASCII_ENCODE;do if(a===Ze.ASCII_ENCODE)a=this.decodeAsciiSegment(t,r,x);else{switch(a){case Ze.C40_ENCODE:this.decodeC40Segment(t,r);break;case Ze.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case Ze.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case Ze.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case Ze.BASE256_ENCODE:this.decodeBase256Segment(t,r,o);break;default:throw new I}a=Ze.ASCII_ENCODE}while(a!==Ze.PAD_ENCODE&&t.available()>0);return x.length()>0&&r.append(x.toString()),new xt(e,r.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(e,t,r){let x=!1;do{let o=e.readBits(8);if(o===0)throw new I;if(o<=128)return x&&(o+=128),t.append(String.fromCharCode(o-1)),Ze.ASCII_ENCODE;if(o===129)return Ze.PAD_ENCODE;if(o<=229){const a=o-130;a<10&&t.append("0"),t.append(""+a)}else switch(o){case 230:return Ze.C40_ENCODE;case 231:return Ze.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:x=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return Ze.ANSIX12_ENCODE;case 239:return Ze.TEXT_ENCODE;case 240:return Ze.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new I;break}}while(e.available()>0);return Ze.ASCII_ENCODE}static decodeC40Segment(e,t){let r=!1;const x=[];let o=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),x);for(let l=0;l<3;l++){const u=x[l];switch(o){case 0:if(u<3)o=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){const E=this.C40_BASIC_SET_CHARS[u];r?(t.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):t.append(E)}else throw new I;break;case 1:r?(t.append(String.fromCharCode(u+128)),r=!1):t.append(String.fromCharCode(u)),o=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){const E=this.C40_SHIFT2_SET_CHARS[u];r?(t.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):t.append(E)}else switch(u){case 27:t.append("");break;case 30:r=!0;break;default:throw new I}o=0;break;case 3:r?(t.append(String.fromCharCode(u+224)),r=!1):t.append(String.fromCharCode(u+96)),o=0;break;default:throw new I}}}while(e.available()>0)}static decodeTextSegment(e,t){let r=!1,x=[],o=0;do{if(e.available()===8)return;const a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),x);for(let l=0;l<3;l++){const u=x[l];switch(o){case 0:if(u<3)o=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){const E=this.TEXT_BASIC_SET_CHARS[u];r?(t.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):t.append(E)}else throw new I;break;case 1:r?(t.append(String.fromCharCode(u+128)),r=!1):t.append(String.fromCharCode(u)),o=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){const E=this.TEXT_SHIFT2_SET_CHARS[u];r?(t.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):t.append(E)}else switch(u){case 27:t.append("");break;case 30:r=!0;break;default:throw new I}o=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){const E=this.TEXT_SHIFT3_SET_CHARS[u];r?(t.append(String.fromCharCode(E.charCodeAt(0)+128)),r=!1):t.append(E),o=0}else throw new I;break;default:throw new I}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const r=[];do{if(e.available()===8)return;const x=e.readBits(8);if(x===254)return;this.parseTwoBytes(x,e.readBits(8),r);for(let o=0;o<3;o++){const a=r[o];switch(a){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(a<14)t.append(String.fromCharCode(a+44));else if(a<40)t.append(String.fromCharCode(a+51));else throw new I;break}}}while(e.available()>0)}static parseTwoBytes(e,t,r){let x=(e<<8)+t-1,o=Math.floor(x/1600);r[0]=o,x-=o*1600,o=Math.floor(x/40),r[1]=o,r[2]=x-o*40}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let x=e.readBits(6);if(x===31){const o=8-e.getBitOffset();o!==8&&e.readBits(o);return}(x&32)===0&&(x|=64),t.append(String.fromCharCode(x))}}while(e.available()>0)}static decodeBase256Segment(e,t,r){let x=1+e.getByteOffset();const o=this.unrandomize255State(e.readBits(8),x++);let a;if(o===0?a=e.available()/8|0:o<250?a=o:a=250*(o-249)+this.unrandomize255State(e.readBits(8),x++),a<0)throw new I;const l=new Uint8Array(a);for(let u=0;u<a;u++){if(e.available()<8)throw new I;l[u]=this.unrandomize255State(e.readBits(8),x++)}r.push(l);try{t.append(ne.decode(l,q.ISO88591))}catch(u){throw new Je("Platform does not support required encoding: "+u.message)}}static unrandomize255State(e,t){const r=149*t%255+1,x=e-r;return x>=0?x:x+256}}Rt.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Rt.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Rt.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Rt.TEXT_SHIFT2_SET_CHARS=Rt.C40_SHIFT2_SET_CHARS,Rt.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class hr{constructor(){this.rsDecoder=new Dt(we.DATA_MATRIX_FIELD_256)}decode(e){const t=new v0(e),r=t.getVersion(),x=t.readCodewords(),o=_0.getDataBlocks(x,r);let a=0;for(let E of o)a+=E.getNumDataCodewords();const l=new Uint8Array(a),u=o.length;for(let E=0;E<u;E++){const C=o[E],B=C.getCodewords(),F=C.getNumDataCodewords();this.correctErrors(B,F);for(let y=0;y<F;y++)l[y*u+E]=B[y]}return Rt.decode(l)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new L}for(let x=0;x<t;x++)e[x]=r[x]}}class Ye{constructor(e){this.image=e,this.rectangleDetector=new Tt(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new O;t=this.shiftToModuleCenter(t);const r=t[0],x=t[1],o=t[2],a=t[3];let l=this.transitionsBetween(r,a)+1,u=this.transitionsBetween(o,a)+1;(l&1)===1&&(l+=1),(u&1)===1&&(u+=1),4*l<7*u&&4*u<7*l&&(l=u=Math.max(l,u));let E=Ye.sampleGrid(this.image,r,x,o,a,l,u);return new f0(E,[r,x,o,a])}static shiftPoint(e,t,r){let x=(t.getX()-e.getX())/(r+1),o=(t.getY()-e.getY())/(r+1);return new ie(e.getX()+x,e.getY()+o)}static moveAway(e,t,r){let x=e.getX(),o=e.getY();return x<t?x-=1:x+=1,o<r?o-=1:o+=1,new ie(x,o)}detectSolid1(e){let t=e[0],r=e[1],x=e[3],o=e[2],a=this.transitionsBetween(t,r),l=this.transitionsBetween(r,x),u=this.transitionsBetween(x,o),E=this.transitionsBetween(o,t),C=a,B=[o,t,r,x];return C>l&&(C=l,B[0]=t,B[1]=r,B[2]=x,B[3]=o),C>u&&(C=u,B[0]=r,B[1]=x,B[2]=o,B[3]=t),C>E&&(B[0]=x,B[1]=o,B[2]=t,B[3]=r),B}detectSolid2(e){let t=e[0],r=e[1],x=e[2],o=e[3],a=this.transitionsBetween(t,o),l=Ye.shiftPoint(r,x,(a+1)*4),u=Ye.shiftPoint(x,r,(a+1)*4),E=this.transitionsBetween(l,t),C=this.transitionsBetween(u,o);return E<C?(e[0]=t,e[1]=r,e[2]=x,e[3]=o):(e[0]=r,e[1]=x,e[2]=o,e[3]=t),e}correctTopRight(e){let t=e[0],r=e[1],x=e[2],o=e[3],a=this.transitionsBetween(t,o),l=this.transitionsBetween(r,o),u=Ye.shiftPoint(t,r,(l+1)*4),E=Ye.shiftPoint(x,r,(a+1)*4);a=this.transitionsBetween(u,o),l=this.transitionsBetween(E,o);let C=new ie(o.getX()+(x.getX()-r.getX())/(a+1),o.getY()+(x.getY()-r.getY())/(a+1)),B=new ie(o.getX()+(t.getX()-r.getX())/(l+1),o.getY()+(t.getY()-r.getY())/(l+1));if(!this.isValid(C))return this.isValid(B)?B:null;if(!this.isValid(B))return C;let F=this.transitionsBetween(u,C)+this.transitionsBetween(E,C),y=this.transitionsBetween(u,B)+this.transitionsBetween(E,B);return F>y?C:B}shiftToModuleCenter(e){let t=e[0],r=e[1],x=e[2],o=e[3],a=this.transitionsBetween(t,o)+1,l=this.transitionsBetween(x,o)+1,u=Ye.shiftPoint(t,r,l*4),E=Ye.shiftPoint(x,r,a*4);a=this.transitionsBetween(u,o)+1,l=this.transitionsBetween(E,o)+1,(a&1)===1&&(a+=1),(l&1)===1&&(l+=1);let C=(t.getX()+r.getX()+x.getX()+o.getX())/4,B=(t.getY()+r.getY()+x.getY()+o.getY())/4;t=Ye.moveAway(t,C,B),r=Ye.moveAway(r,C,B),x=Ye.moveAway(x,C,B),o=Ye.moveAway(o,C,B);let F,y;return u=Ye.shiftPoint(t,r,l*4),u=Ye.shiftPoint(u,o,a*4),F=Ye.shiftPoint(r,t,l*4),F=Ye.shiftPoint(F,x,a*4),E=Ye.shiftPoint(x,o,l*4),E=Ye.shiftPoint(E,r,a*4),y=Ye.shiftPoint(o,x,l*4),y=Ye.shiftPoint(y,t,a*4),[u,F,E,y]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,r,x,o,a,l){return kt.getInstance().sampleGrid(e,a,l,.5,.5,a-.5,.5,a-.5,l-.5,.5,l-.5,t.getX(),t.getY(),o.getX(),o.getY(),x.getX(),x.getY(),r.getX(),r.getY())}transitionsBetween(e,t){let r=Math.trunc(e.getX()),x=Math.trunc(e.getY()),o=Math.trunc(t.getX()),a=Math.trunc(t.getY()),l=Math.abs(a-x)>Math.abs(o-r);if(l){let _=r;r=x,x=_,_=o,o=a,a=_}let u=Math.abs(o-r),E=Math.abs(a-x),C=-u/2,B=x<a?1:-1,F=r<o?1:-1,y=0,v=this.image.get(l?x:r,l?r:x);for(let _=r,H=x;_!==o;_+=F){let X=this.image.get(l?H:_,l?_:H);if(X!==v&&(y++,v=X),C+=E,C>0){if(H===a)break;H+=B,C-=u}}return y}}class Nt{constructor(){this.decoder=new hr}decode(e,t=null){let r,x;if(t!=null&&t.has(M.PURE_BARCODE)){const E=Nt.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(E),x=Nt.NO_POINTS}else{const E=new Ye(e.getBlackMatrix()).detect();r=this.decoder.decode(E.getBits()),x=E.getPoints()}const o=r.getRawBytes(),a=new le(r.getText(),o,8*o.length,x,J.DATA_MATRIX,G.currentTimeMillis()),l=r.getByteSegments();l!=null&&a.putMetadata(Ie.BYTE_SEGMENTS,l);const u=r.getECLevel();return u!=null&&a.putMetadata(Ie.ERROR_CORRECTION_LEVEL,u),a}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new O;const x=this.moduleSize(t,e);let o=t[1];const a=r[1];let l=t[0];const E=(r[0]-l+1)/x,C=(a-o+1)/x;if(E<=0||C<=0)throw new O;const B=x/2;o+=B,l+=B;const F=new oe(E,C);for(let y=0;y<C;y++){const v=o+y*x;for(let _=0;_<E;_++)e.get(l+_*x,v)&&F.set(_,y)}return F}static moduleSize(e,t){const r=t.getWidth();let x=e[0];const o=e[1];for(;x<r&&t.get(x,o);)x++;if(x===r)throw new O;const a=x-e[0];if(a===0)throw new O;return a}}Nt.NO_POINTS=[];class Cr extends Oe{constructor(e=500){super(new Nt,e)}}var Kt;(function(g){g[g.L=0]="L",g[g.M=1]="M",g[g.Q=2]="Q",g[g.H=3]="H"})(Kt||(Kt={}));class Le{constructor(e,t,r){this.value=e,this.stringValue=t,this.bits=r,Le.FOR_BITS.set(r,this),Le.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Le.L;case"M":return Le.M;case"Q":return Le.Q;case"H":return Le.H;default:throw new p(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Le))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=Le.FOR_BITS.size)throw new w;return Le.FOR_BITS.get(e)}}Le.FOR_BITS=new Map,Le.FOR_VALUE=new Map,Le.L=new Le(Kt.L,"L",1),Le.M=new Le(Kt.M,"M",0),Le.Q=new Le(Kt.Q,"Q",3),Le.H=new Le(Kt.H,"H",2);class ot{constructor(e){this.errorCorrectionLevel=Le.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,t){return k.bitCount(e^t)}static decodeFormatInformation(e,t){const r=ot.doDecodeFormatInformation(e,t);return r!==null?r:ot.doDecodeFormatInformation(e^ot.FORMAT_INFO_MASK_QR,t^ot.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let r=Number.MAX_SAFE_INTEGER,x=0;for(const o of ot.FORMAT_INFO_DECODE_LOOKUP){const a=o[0];if(a===e||a===t)return new ot(o[1]);let l=ot.numBitsDiffering(e,a);l<r&&(x=o[1],r=l),e!==t&&(l=ot.numBitsDiffering(t,a),l<r&&(x=o[1],r=l))}return r<=3?new ot(x):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof ot))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}ot.FORMAT_INFO_MASK_QR=21522,ot.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class V{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const r of t)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class b{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ue{constructor(e,t,...r){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=r;let x=0;const o=r[0].getECCodewordsPerBlock(),a=r[0].getECBlocks();for(const l of a)x+=l.getCount()*(l.getDataCodewords()+o);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new I;try{return this.getVersionForNumber((e-17)/4)}catch{throw new I}}static getVersionForNumber(e){if(e<1||e>40)throw new w;return ue.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,r=0;for(let x=0;x<ue.VERSION_DECODE_INFO.length;x++){const o=ue.VERSION_DECODE_INFO[x];if(o===e)return ue.getVersionForNumber(x+7);const a=ot.numBitsDiffering(e,o);a<t&&(r=x+7,t=a)}return t<=3?ue.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new oe(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let x=0;x<r;x++){const o=this.alignmentPatternCenters[x]-2;for(let a=0;a<r;a++)x===0&&(a===0||a===r-1)||x===r-1&&a===0||t.setRegion(this.alignmentPatternCenters[a]-2,o,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}ue.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ue.VERSIONS=[new ue(1,new Int32Array(0),new V(7,new b(1,19)),new V(10,new b(1,16)),new V(13,new b(1,13)),new V(17,new b(1,9))),new ue(2,Int32Array.from([6,18]),new V(10,new b(1,34)),new V(16,new b(1,28)),new V(22,new b(1,22)),new V(28,new b(1,16))),new ue(3,Int32Array.from([6,22]),new V(15,new b(1,55)),new V(26,new b(1,44)),new V(18,new b(2,17)),new V(22,new b(2,13))),new ue(4,Int32Array.from([6,26]),new V(20,new b(1,80)),new V(18,new b(2,32)),new V(26,new b(2,24)),new V(16,new b(4,9))),new ue(5,Int32Array.from([6,30]),new V(26,new b(1,108)),new V(24,new b(2,43)),new V(18,new b(2,15),new b(2,16)),new V(22,new b(2,11),new b(2,12))),new ue(6,Int32Array.from([6,34]),new V(18,new b(2,68)),new V(16,new b(4,27)),new V(24,new b(4,19)),new V(28,new b(4,15))),new ue(7,Int32Array.from([6,22,38]),new V(20,new b(2,78)),new V(18,new b(4,31)),new V(18,new b(2,14),new b(4,15)),new V(26,new b(4,13),new b(1,14))),new ue(8,Int32Array.from([6,24,42]),new V(24,new b(2,97)),new V(22,new b(2,38),new b(2,39)),new V(22,new b(4,18),new b(2,19)),new V(26,new b(4,14),new b(2,15))),new ue(9,Int32Array.from([6,26,46]),new V(30,new b(2,116)),new V(22,new b(3,36),new b(2,37)),new V(20,new b(4,16),new b(4,17)),new V(24,new b(4,12),new b(4,13))),new ue(10,Int32Array.from([6,28,50]),new V(18,new b(2,68),new b(2,69)),new V(26,new b(4,43),new b(1,44)),new V(24,new b(6,19),new b(2,20)),new V(28,new b(6,15),new b(2,16))),new ue(11,Int32Array.from([6,30,54]),new V(20,new b(4,81)),new V(30,new b(1,50),new b(4,51)),new V(28,new b(4,22),new b(4,23)),new V(24,new b(3,12),new b(8,13))),new ue(12,Int32Array.from([6,32,58]),new V(24,new b(2,92),new b(2,93)),new V(22,new b(6,36),new b(2,37)),new V(26,new b(4,20),new b(6,21)),new V(28,new b(7,14),new b(4,15))),new ue(13,Int32Array.from([6,34,62]),new V(26,new b(4,107)),new V(22,new b(8,37),new b(1,38)),new V(24,new b(8,20),new b(4,21)),new V(22,new b(12,11),new b(4,12))),new ue(14,Int32Array.from([6,26,46,66]),new V(30,new b(3,115),new b(1,116)),new V(24,new b(4,40),new b(5,41)),new V(20,new b(11,16),new b(5,17)),new V(24,new b(11,12),new b(5,13))),new ue(15,Int32Array.from([6,26,48,70]),new V(22,new b(5,87),new b(1,88)),new V(24,new b(5,41),new b(5,42)),new V(30,new b(5,24),new b(7,25)),new V(24,new b(11,12),new b(7,13))),new ue(16,Int32Array.from([6,26,50,74]),new V(24,new b(5,98),new b(1,99)),new V(28,new b(7,45),new b(3,46)),new V(24,new b(15,19),new b(2,20)),new V(30,new b(3,15),new b(13,16))),new ue(17,Int32Array.from([6,30,54,78]),new V(28,new b(1,107),new b(5,108)),new V(28,new b(10,46),new b(1,47)),new V(28,new b(1,22),new b(15,23)),new V(28,new b(2,14),new b(17,15))),new ue(18,Int32Array.from([6,30,56,82]),new V(30,new b(5,120),new b(1,121)),new V(26,new b(9,43),new b(4,44)),new V(28,new b(17,22),new b(1,23)),new V(28,new b(2,14),new b(19,15))),new ue(19,Int32Array.from([6,30,58,86]),new V(28,new b(3,113),new b(4,114)),new V(26,new b(3,44),new b(11,45)),new V(26,new b(17,21),new b(4,22)),new V(26,new b(9,13),new b(16,14))),new ue(20,Int32Array.from([6,34,62,90]),new V(28,new b(3,107),new b(5,108)),new V(26,new b(3,41),new b(13,42)),new V(30,new b(15,24),new b(5,25)),new V(28,new b(15,15),new b(10,16))),new ue(21,Int32Array.from([6,28,50,72,94]),new V(28,new b(4,116),new b(4,117)),new V(26,new b(17,42)),new V(28,new b(17,22),new b(6,23)),new V(30,new b(19,16),new b(6,17))),new ue(22,Int32Array.from([6,26,50,74,98]),new V(28,new b(2,111),new b(7,112)),new V(28,new b(17,46)),new V(30,new b(7,24),new b(16,25)),new V(24,new b(34,13))),new ue(23,Int32Array.from([6,30,54,78,102]),new V(30,new b(4,121),new b(5,122)),new V(28,new b(4,47),new b(14,48)),new V(30,new b(11,24),new b(14,25)),new V(30,new b(16,15),new b(14,16))),new ue(24,Int32Array.from([6,28,54,80,106]),new V(30,new b(6,117),new b(4,118)),new V(28,new b(6,45),new b(14,46)),new V(30,new b(11,24),new b(16,25)),new V(30,new b(30,16),new b(2,17))),new ue(25,Int32Array.from([6,32,58,84,110]),new V(26,new b(8,106),new b(4,107)),new V(28,new b(8,47),new b(13,48)),new V(30,new b(7,24),new b(22,25)),new V(30,new b(22,15),new b(13,16))),new ue(26,Int32Array.from([6,30,58,86,114]),new V(28,new b(10,114),new b(2,115)),new V(28,new b(19,46),new b(4,47)),new V(28,new b(28,22),new b(6,23)),new V(30,new b(33,16),new b(4,17))),new ue(27,Int32Array.from([6,34,62,90,118]),new V(30,new b(8,122),new b(4,123)),new V(28,new b(22,45),new b(3,46)),new V(30,new b(8,23),new b(26,24)),new V(30,new b(12,15),new b(28,16))),new ue(28,Int32Array.from([6,26,50,74,98,122]),new V(30,new b(3,117),new b(10,118)),new V(28,new b(3,45),new b(23,46)),new V(30,new b(4,24),new b(31,25)),new V(30,new b(11,15),new b(31,16))),new ue(29,Int32Array.from([6,30,54,78,102,126]),new V(30,new b(7,116),new b(7,117)),new V(28,new b(21,45),new b(7,46)),new V(30,new b(1,23),new b(37,24)),new V(30,new b(19,15),new b(26,16))),new ue(30,Int32Array.from([6,26,52,78,104,130]),new V(30,new b(5,115),new b(10,116)),new V(28,new b(19,47),new b(10,48)),new V(30,new b(15,24),new b(25,25)),new V(30,new b(23,15),new b(25,16))),new ue(31,Int32Array.from([6,30,56,82,108,134]),new V(30,new b(13,115),new b(3,116)),new V(28,new b(2,46),new b(29,47)),new V(30,new b(42,24),new b(1,25)),new V(30,new b(23,15),new b(28,16))),new ue(32,Int32Array.from([6,34,60,86,112,138]),new V(30,new b(17,115)),new V(28,new b(10,46),new b(23,47)),new V(30,new b(10,24),new b(35,25)),new V(30,new b(19,15),new b(35,16))),new ue(33,Int32Array.from([6,30,58,86,114,142]),new V(30,new b(17,115),new b(1,116)),new V(28,new b(14,46),new b(21,47)),new V(30,new b(29,24),new b(19,25)),new V(30,new b(11,15),new b(46,16))),new ue(34,Int32Array.from([6,34,62,90,118,146]),new V(30,new b(13,115),new b(6,116)),new V(28,new b(14,46),new b(23,47)),new V(30,new b(44,24),new b(7,25)),new V(30,new b(59,16),new b(1,17))),new ue(35,Int32Array.from([6,30,54,78,102,126,150]),new V(30,new b(12,121),new b(7,122)),new V(28,new b(12,47),new b(26,48)),new V(30,new b(39,24),new b(14,25)),new V(30,new b(22,15),new b(41,16))),new ue(36,Int32Array.from([6,24,50,76,102,128,154]),new V(30,new b(6,121),new b(14,122)),new V(28,new b(6,47),new b(34,48)),new V(30,new b(46,24),new b(10,25)),new V(30,new b(2,15),new b(64,16))),new ue(37,Int32Array.from([6,28,54,80,106,132,158]),new V(30,new b(17,122),new b(4,123)),new V(28,new b(29,46),new b(14,47)),new V(30,new b(49,24),new b(10,25)),new V(30,new b(24,15),new b(46,16))),new ue(38,Int32Array.from([6,32,58,84,110,136,162]),new V(30,new b(4,122),new b(18,123)),new V(28,new b(13,46),new b(32,47)),new V(30,new b(48,24),new b(14,25)),new V(30,new b(42,15),new b(32,16))),new ue(39,Int32Array.from([6,26,54,82,110,138,166]),new V(30,new b(20,117),new b(4,118)),new V(28,new b(40,47),new b(7,48)),new V(30,new b(43,24),new b(22,25)),new V(30,new b(10,15),new b(67,16))),new ue(40,Int32Array.from([6,30,58,86,114,142,170]),new V(30,new b(19,118),new b(6,119)),new V(28,new b(18,47),new b(31,48)),new V(30,new b(34,24),new b(34,25)),new V(30,new b(20,15),new b(61,16)))];var $e;(function(g){g[g.DATA_MASK_000=0]="DATA_MASK_000",g[g.DATA_MASK_001=1]="DATA_MASK_001",g[g.DATA_MASK_010=2]="DATA_MASK_010",g[g.DATA_MASK_011=3]="DATA_MASK_011",g[g.DATA_MASK_100=4]="DATA_MASK_100",g[g.DATA_MASK_101=5]="DATA_MASK_101",g[g.DATA_MASK_110=6]="DATA_MASK_110",g[g.DATA_MASK_111=7]="DATA_MASK_111"})($e||($e={}));class At{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let r=0;r<t;r++)for(let x=0;x<t;x++)this.isMasked(r,x)&&e.flip(x,r)}}At.values=new Map([[$e.DATA_MASK_000,new At($e.DATA_MASK_000,(g,e)=>(g+e&1)===0)],[$e.DATA_MASK_001,new At($e.DATA_MASK_001,(g,e)=>(g&1)===0)],[$e.DATA_MASK_010,new At($e.DATA_MASK_010,(g,e)=>e%3===0)],[$e.DATA_MASK_011,new At($e.DATA_MASK_011,(g,e)=>(g+e)%3===0)],[$e.DATA_MASK_100,new At($e.DATA_MASK_100,(g,e)=>(Math.floor(g/2)+Math.floor(e/3)&1)===0)],[$e.DATA_MASK_101,new At($e.DATA_MASK_101,(g,e)=>g*e%6===0)],[$e.DATA_MASK_110,new At($e.DATA_MASK_110,(g,e)=>g*e%6<3)],[$e.DATA_MASK_111,new At($e.DATA_MASK_111,(g,e)=>(g+e+g*e%3&1)===0)]]);class Ar{constructor(e){const t=e.getHeight();if(t<21||(t&3)!==1)throw new I;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let o=0;o<6;o++)e=this.copyBit(o,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let o=5;o>=0;o--)e=this.copyBit(8,o,e);const t=this.bitMatrix.getHeight();let r=0;const x=t-7;for(let o=t-1;o>=x;o--)r=this.copyBit(8,o,r);for(let o=t-8;o<t;o++)r=this.copyBit(o,8,r);if(this.parsedFormatInfo=ot.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new I}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return ue.getVersionForNumber(t);let r=0;const x=e-11;for(let a=5;a>=0;a--)for(let l=e-9;l>=x;l--)r=this.copyBit(l,a,r);let o=ue.decodeVersionInformation(r);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;r=0;for(let a=5;a>=0;a--)for(let l=e-9;l>=x;l--)r=this.copyBit(a,l,r);if(o=ue.decodeVersionInformation(r),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new I}copyBit(e,t,r){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),r=At.values.get(e.getDataMask()),x=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,x);const o=t.buildFunctionPattern();let a=!0;const l=new Uint8Array(t.getTotalCodewords());let u=0,E=0,C=0;for(let B=x-1;B>0;B-=2){B===6&&B--;for(let F=0;F<x;F++){const y=a?x-1-F:F;for(let v=0;v<2;v++)o.get(B-v,y)||(C++,E<<=1,this.bitMatrix.get(B-v,y)&&(E|=1),C===8&&(l[u++]=E,C=0,E=0))}a=!a}if(u!==t.getTotalCodewords())throw new I;return l}remask(){if(this.parsedFormatInfo===null)return;const e=At.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,r=e.getWidth();t<r;t++)for(let x=t+1,o=e.getHeight();x<o;x++)e.get(t,x)!==e.get(x,t)&&(e.flip(x,t),e.flip(t,x))}}class k0{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,r){if(e.length!==t.getTotalCodewords())throw new w;const x=t.getECBlocksForLevel(r);let o=0;const a=x.getECBlocks();for(const v of a)o+=v.getCount();const l=new Array(o);let u=0;for(const v of a)for(let _=0;_<v.getCount();_++){const H=v.getDataCodewords(),X=x.getECCodewordsPerBlock()+H;l[u++]=new k0(H,new Uint8Array(X))}const E=l[0].codewords.length;let C=l.length-1;for(;C>=0&&l[C].codewords.length!==E;)C--;C++;const B=E-x.getECCodewordsPerBlock();let F=0;for(let v=0;v<B;v++)for(let _=0;_<u;_++)l[_].codewords[v]=e[F++];for(let v=C;v<u;v++)l[v].codewords[B]=e[F++];const y=l[0].codewords.length;for(let v=B;v<y;v++)for(let _=0;_<u;_++){const H=_<C?v:v+1;l[_].codewords[H]=e[F++]}return l}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var gt;(function(g){g[g.TERMINATOR=0]="TERMINATOR",g[g.NUMERIC=1]="NUMERIC",g[g.ALPHANUMERIC=2]="ALPHANUMERIC",g[g.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",g[g.BYTE=4]="BYTE",g[g.ECI=5]="ECI",g[g.KANJI=6]="KANJI",g[g.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",g[g.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",g[g.HANZI=9]="HANZI"})(gt||(gt={}));class de{constructor(e,t,r,x){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=x,de.FOR_BITS.set(x,this),de.FOR_VALUE.set(e,this)}static forBits(e){const t=de.FOR_BITS.get(e);if(t===void 0)throw new w;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof de))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}de.FOR_BITS=new Map,de.FOR_VALUE=new Map,de.TERMINATOR=new de(gt.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),de.NUMERIC=new de(gt.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),de.ALPHANUMERIC=new de(gt.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),de.STRUCTURED_APPEND=new de(gt.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),de.BYTE=new de(gt.BYTE,"BYTE",Int32Array.from([8,16,16]),4),de.ECI=new de(gt.ECI,"ECI",Int32Array.from([0,0,0]),7),de.KANJI=new de(gt.KANJI,"KANJI",Int32Array.from([8,10,12]),8),de.FNC1_FIRST_POSITION=new de(gt.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),de.FNC1_SECOND_POSITION=new de(gt.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),de.HANZI=new de(gt.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ve{static decode(e,t,r,x){const o=new T0(e);let a=new te;const l=new Array;let u=-1,E=-1;try{let C=null,B=!1,F;do{if(o.available()<4)F=de.TERMINATOR;else{const y=o.readBits(4);F=de.forBits(y)}switch(F){case de.TERMINATOR:break;case de.FNC1_FIRST_POSITION:case de.FNC1_SECOND_POSITION:B=!0;break;case de.STRUCTURED_APPEND:if(o.available()<16)throw new I;u=o.readBits(8),E=o.readBits(8);break;case de.ECI:const y=Ve.parseECIValue(o);if(C=P.getCharacterSetECIByValue(y),C===null)throw new I;break;case de.HANZI:const v=o.readBits(4),_=o.readBits(F.getCharacterCountBits(t));v===Ve.GB2312_SUBSET&&Ve.decodeHanziSegment(o,a,_);break;default:const H=o.readBits(F.getCharacterCountBits(t));switch(F){case de.NUMERIC:Ve.decodeNumericSegment(o,a,H);break;case de.ALPHANUMERIC:Ve.decodeAlphanumericSegment(o,a,H,B);break;case de.BYTE:Ve.decodeByteSegment(o,a,H,C,l,x);break;case de.KANJI:Ve.decodeKanjiSegment(o,a,H);break;default:throw new I}break}}while(F!==de.TERMINATOR)}catch{throw new I}return new xt(e,a.toString(),l.length===0?null:l,r===null?null:r.toString(),u,E)}static decodeHanziSegment(e,t,r){if(r*13>e.available())throw new I;const x=new Uint8Array(2*r);let o=0;for(;r>0;){const a=e.readBits(13);let l=a/96<<8&4294967295|a%96;l<959?l+=41377:l+=42657,x[o]=l>>8&255,x[o+1]=l&255,o+=2,r--}try{t.append(ne.decode(x,q.GB2312))}catch(a){throw new I(a)}}static decodeKanjiSegment(e,t,r){if(r*13>e.available())throw new I;const x=new Uint8Array(2*r);let o=0;for(;r>0;){const a=e.readBits(13);let l=a/192<<8&4294967295|a%192;l<7936?l+=33088:l+=49472,x[o]=l>>8,x[o+1]=l,o+=2,r--}try{t.append(ne.decode(x,q.SHIFT_JIS))}catch(a){throw new I(a)}}static decodeByteSegment(e,t,r,x,o,a){if(8*r>e.available())throw new I;const l=new Uint8Array(r);for(let E=0;E<r;E++)l[E]=e.readBits(8);let u;x===null?u=q.guessEncoding(l,a):u=x.getName();try{t.append(ne.decode(l,u))}catch(E){throw new I(E)}o.push(l)}static toAlphaNumericChar(e){if(e>=Ve.ALPHANUMERIC_CHARS.length)throw new I;return Ve.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,r,x){const o=t.length();for(;r>1;){if(e.available()<11)throw new I;const a=e.readBits(11);t.append(Ve.toAlphaNumericChar(Math.floor(a/45))),t.append(Ve.toAlphaNumericChar(a%45)),r-=2}if(r===1){if(e.available()<6)throw new I;t.append(Ve.toAlphaNumericChar(e.readBits(6)))}if(x)for(let a=o;a<t.length();a++)t.charAt(a)==="%"&&(a<t.length()-1&&t.charAt(a+1)==="%"?t.deleteCharAt(a+1):t.setCharAt(a,""))}static decodeNumericSegment(e,t,r){for(;r>=3;){if(e.available()<10)throw new I;const x=e.readBits(10);if(x>=1e3)throw new I;t.append(Ve.toAlphaNumericChar(Math.floor(x/100))),t.append(Ve.toAlphaNumericChar(Math.floor(x/10)%10)),t.append(Ve.toAlphaNumericChar(x%10)),r-=3}if(r===2){if(e.available()<7)throw new I;const x=e.readBits(7);if(x>=100)throw new I;t.append(Ve.toAlphaNumericChar(Math.floor(x/10))),t.append(Ve.toAlphaNumericChar(x%10))}else if(r===1){if(e.available()<4)throw new I;const x=e.readBits(4);if(x>=10)throw new I;t.append(Ve.toAlphaNumericChar(x))}}static parseECIValue(e){const t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){const r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){const r=e.readBits(16);return(t&31)<<16&4294967295|r}throw new I}}Ve.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ve.GB2312_SUBSET=1;class Z0{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class gr{constructor(){this.rsDecoder=new Dt(we.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(oe.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const r=new Ar(e);let x=null;try{return this.decodeBitMatrixParser(r,t)}catch(o){x=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const o=this.decodeBitMatrixParser(r,t);return o.setOther(new Z0(!0)),o}catch(o){throw x!==null?x:o}}decodeBitMatrixParser(e,t){const r=e.readVersion(),x=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),a=k0.getDataBlocks(o,r,x);let l=0;for(const C of a)l+=C.getNumDataCodewords();const u=new Uint8Array(l);let E=0;for(const C of a){const B=C.getCodewords(),F=C.getNumDataCodewords();this.correctErrors(B,F);for(let y=0;y<F;y++)u[E++]=B[y]}return Ve.decode(u,r,x,t)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new L}for(let x=0;x<t;x++)e[x]=r[x]}}class O0 extends ie{constructor(e,t,r){super(e,t),this.estimatedModuleSize=r}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const x=Math.abs(e-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const x=(this.getX()+t)/2,o=(this.getY()+e)/2,a=(this.estimatedModuleSize+r)/2;return new O0(x,o,a)}}class A0{constructor(e,t,r,x,o,a,l){this.image=e,this.startX=t,this.startY=r,this.width=x,this.height=o,this.moduleSize=a,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,r=this.width,x=e+r,o=this.startY+t/2,a=new Int32Array(3),l=this.image;for(let u=0;u<t;u++){const E=o+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));a[0]=0,a[1]=0,a[2]=0;let C=e;for(;C<x&&!l.get(C,E);)C++;let B=0;for(;C<x;){if(l.get(C,E))if(B===1)a[1]++;else if(B===2){if(this.foundPatternCross(a)){const F=this.handlePossibleCenter(a,E,C);if(F!==null)return F}a[0]=a[2],a[1]=1,a[2]=0,B=1}else a[++B]++;else B===1&&B++,a[B]++;C++}if(this.foundPatternCross(a)){const F=this.handlePossibleCenter(a,E,x);if(F!==null)return F}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new O}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,r=t/2;for(let x=0;x<3;x++)if(Math.abs(t-e[x])>=r)return!1;return!0}crossCheckVertical(e,t,r,x){const o=this.image,a=o.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;let u=e;for(;u>=0&&o.get(t,u)&&l[1]<=r;)l[1]++,u--;if(u<0||l[1]>r)return NaN;for(;u>=0&&!o.get(t,u)&&l[0]<=r;)l[0]++,u--;if(l[0]>r)return NaN;for(u=e+1;u<a&&o.get(t,u)&&l[1]<=r;)l[1]++,u++;if(u===a||l[1]>r)return NaN;for(;u<a&&!o.get(t,u)&&l[2]<=r;)l[2]++,u++;if(l[2]>r)return NaN;const E=l[0]+l[1]+l[2];return 5*Math.abs(E-x)>=2*x?NaN:this.foundPatternCross(l)?A0.centerFromEnd(l,u):NaN}handlePossibleCenter(e,t,r){const x=e[0]+e[1]+e[2],o=A0.centerFromEnd(e,r),a=this.crossCheckVertical(t,o,2*e[1],x);if(!isNaN(a)){const l=(e[0]+e[1]+e[2])/3;for(const E of this.possibleCenters)if(E.aboutEquals(l,a,o))return E.combineEstimate(a,o,l);const u=new O0(o,a,l);this.possibleCenters.push(u),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(u)}return null}}class R0 extends ie{constructor(e,t,r,x){super(e,t),this.estimatedModuleSize=r,this.count=x,x===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const x=Math.abs(e-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const x=this.count+1,o=(this.count*this.getX()+t)/x,a=(this.count*this.getY()+e)/x,l=(this.count*this.estimatedModuleSize+r)/x;return new R0(o,a,l,x)}}class Br{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class et{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=e!=null&&e.get(M.TRY_HARDER)!==void 0,r=e!=null&&e.get(M.PURE_BARCODE)!==void 0,x=this.image,o=x.getHeight(),a=x.getWidth();let l=Math.floor(3*o/(4*et.MAX_MODULES));(l<et.MIN_SKIP||t)&&(l=et.MIN_SKIP);let u=!1;const E=new Int32Array(5);for(let B=l-1;B<o&&!u;B+=l){E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0;let F=0;for(let y=0;y<a;y++)if(x.get(y,B))(F&1)===1&&F++,E[F]++;else if((F&1)===0)if(F===4)if(et.foundPatternCross(E)){if(this.handlePossibleCenter(E,B,y,r)===!0)if(l=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{const _=this.findRowSkip();_>E[2]&&(B+=_-E[2]-l,y=a-1)}else{E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,F=3;continue}F=0,E[0]=0,E[1]=0,E[2]=0,E[3]=0,E[4]=0}else E[0]=E[2],E[1]=E[3],E[2]=E[4],E[3]=1,E[4]=0,F=3;else E[++F]++;else E[F]++;et.foundPatternCross(E)&&this.handlePossibleCenter(E,B,a,r)===!0&&(l=E[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return ie.orderBestPatterns(C),new Br(C)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let o=0;o<5;o++){const a=e[o];if(a===0)return!1;t+=a}if(t<7)return!1;const r=t/7,x=r/2;return Math.abs(r-e[0])<x&&Math.abs(r-e[1])<x&&Math.abs(3*r-e[2])<3*x&&Math.abs(r-e[3])<x&&Math.abs(r-e[4])<x}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,r,x){const o=this.getCrossCheckStateCount();let a=0;const l=this.image;for(;e>=a&&t>=a&&l.get(t-a,e-a);)o[2]++,a++;if(e<a||t<a)return!1;for(;e>=a&&t>=a&&!l.get(t-a,e-a)&&o[1]<=r;)o[1]++,a++;if(e<a||t<a||o[1]>r)return!1;for(;e>=a&&t>=a&&l.get(t-a,e-a)&&o[0]<=r;)o[0]++,a++;if(o[0]>r)return!1;const u=l.getHeight(),E=l.getWidth();for(a=1;e+a<u&&t+a<E&&l.get(t+a,e+a);)o[2]++,a++;if(e+a>=u||t+a>=E)return!1;for(;e+a<u&&t+a<E&&!l.get(t+a,e+a)&&o[3]<r;)o[3]++,a++;if(e+a>=u||t+a>=E||o[3]>=r)return!1;for(;e+a<u&&t+a<E&&l.get(t+a,e+a)&&o[4]<r;)o[4]++,a++;if(o[4]>=r)return!1;const C=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(C-x)<2*x&&et.foundPatternCross(o)}crossCheckVertical(e,t,r,x){const o=this.image,a=o.getHeight(),l=this.getCrossCheckStateCount();let u=e;for(;u>=0&&o.get(t,u);)l[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(t,u)&&l[1]<=r;)l[1]++,u--;if(u<0||l[1]>r)return NaN;for(;u>=0&&o.get(t,u)&&l[0]<=r;)l[0]++,u--;if(l[0]>r)return NaN;for(u=e+1;u<a&&o.get(t,u);)l[2]++,u++;if(u===a)return NaN;for(;u<a&&!o.get(t,u)&&l[3]<r;)l[3]++,u++;if(u===a||l[3]>=r)return NaN;for(;u<a&&o.get(t,u)&&l[4]<r;)l[4]++,u++;if(l[4]>=r)return NaN;const E=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(E-x)>=2*x?NaN:et.foundPatternCross(l)?et.centerFromEnd(l,u):NaN}crossCheckHorizontal(e,t,r,x){const o=this.image,a=o.getWidth(),l=this.getCrossCheckStateCount();let u=e;for(;u>=0&&o.get(u,t);)l[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(u,t)&&l[1]<=r;)l[1]++,u--;if(u<0||l[1]>r)return NaN;for(;u>=0&&o.get(u,t)&&l[0]<=r;)l[0]++,u--;if(l[0]>r)return NaN;for(u=e+1;u<a&&o.get(u,t);)l[2]++,u++;if(u===a)return NaN;for(;u<a&&!o.get(u,t)&&l[3]<r;)l[3]++,u++;if(u===a||l[3]>=r)return NaN;for(;u<a&&o.get(u,t)&&l[4]<r;)l[4]++,u++;if(l[4]>=r)return NaN;const E=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(E-x)>=x?NaN:et.foundPatternCross(l)?et.centerFromEnd(l,u):NaN}handlePossibleCenter(e,t,r,x){const o=e[0]+e[1]+e[2]+e[3]+e[4];let a=et.centerFromEnd(e,r),l=this.crossCheckVertical(t,Math.floor(a),e[2],o);if(!isNaN(l)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(l),e[2],o),!isNaN(a)&&(!x||this.crossCheckDiagonal(Math.floor(l),Math.floor(a),e[2],o)))){const u=o/7;let E=!1;const C=this.possibleCenters;for(let B=0,F=C.length;B<F;B++){const y=C[B];if(y.aboutEquals(u,l,a)){C[B]=y.combineEstimate(l,a,u),E=!0;break}}if(!E){const B=new R0(a,l,u);C.push(B),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(B)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let t=null;for(const r of this.possibleCenters)if(r.getCount()>=et.CENTER_QUORUM)if(t==null)t=r;else return this.hasSkipped=!0,Math.floor((Math.abs(t.getX()-r.getX())-Math.abs(t.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const r=this.possibleCenters.length;for(const a of this.possibleCenters)a.getCount()>=et.CENTER_QUORUM&&(e++,t+=a.getEstimatedModuleSize());if(e<3)return!1;const x=t/r;let o=0;for(const a of this.possibleCenters)o+=Math.abs(a.getEstimatedModuleSize()-x);return o<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new O;const t=this.possibleCenters;let r;if(e>3){let x=0,o=0;for(const u of this.possibleCenters){const E=u.getEstimatedModuleSize();x+=E,o+=E*E}r=x/e;let a=Math.sqrt(o/e-r*r);t.sort((u,E)=>{const C=Math.abs(E.getEstimatedModuleSize()-r),B=Math.abs(u.getEstimatedModuleSize()-r);return C<B?-1:C>B?1:0});const l=Math.max(.2*r,a);for(let u=0;u<t.length&&t.length>3;u++){const E=t[u];Math.abs(E.getEstimatedModuleSize()-r)>l&&(t.splice(u,1),u--)}}if(t.length>3){let x=0;for(const o of t)x+=o.getEstimatedModuleSize();r=x/t.length,t.sort((o,a)=>{if(a.getCount()===o.getCount()){const l=Math.abs(a.getEstimatedModuleSize()-r),u=Math.abs(o.getEstimatedModuleSize()-r);return l<u?1:l>u?-1:0}else return a.getCount()-o.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}et.CENTER_QUORUM=2,et.MIN_SKIP=3,et.MAX_MODULES=57;class n0{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(M.NEED_RESULT_POINT_CALLBACK);const r=new et(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const t=e.getTopLeft(),r=e.getTopRight(),x=e.getBottomLeft(),o=this.calculateModuleSize(t,r,x);if(o<1)throw new O("No pattern found in proccess finder.");const a=n0.computeDimension(t,r,x,o),l=ue.getProvisionalVersionForDimension(a),u=l.getDimensionForVersion()-7;let E=null;if(l.getAlignmentPatternCenters().length>0){const y=r.getX()-t.getX()+x.getX(),v=r.getY()-t.getY()+x.getY(),_=1-3/u,H=Math.floor(t.getX()+_*(y-t.getX())),X=Math.floor(t.getY()+_*(v-t.getY()));for(let $=4;$<=16;$<<=1)try{E=this.findAlignmentInRegion(o,H,X,$);break}catch(ee){if(!(ee instanceof O))throw ee}}const C=n0.createTransform(t,r,x,E,a),B=n0.sampleGrid(this.image,C,a);let F;return E===null?F=[x,t,r]:F=[x,t,r,E],new f0(B,F)}static createTransform(e,t,r,x,o){const a=o-3.5;let l,u,E,C;return x!==null?(l=x.getX(),u=x.getY(),E=a-3,C=E):(l=t.getX()-e.getX()+r.getX(),u=t.getY()-e.getY()+r.getY(),E=a,C=a),Ft.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,E,C,3.5,a,e.getX(),e.getY(),t.getX(),t.getY(),l,u,r.getX(),r.getY())}static sampleGrid(e,t,r){return kt.getInstance().sampleGridWithTransform(e,r,r,t)}static computeDimension(e,t,r,x){const o=Ce.round(ie.distance(e,t)/x),a=Ce.round(ie.distance(e,r)/x);let l=Math.floor((o+a)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new O("Dimensions could be not found.")}return l}calculateModuleSize(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,t){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),x=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?x/7:isNaN(x)?r/7:(r+x)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,r,x){let o=this.sizeOfBlackWhiteBlackRun(e,t,r,x),a=1,l=e-(r-e);l<0?(a=e/(e-l),l=0):l>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);let u=Math.floor(t-(x-t)*a);return a=1,u<0?(a=t/(t-u),u=0):u>=this.image.getHeight()&&(a=(this.image.getHeight()-1-t)/(u-t),u=this.image.getHeight()-1),l=Math.floor(e+(l-e)*a),o+=this.sizeOfBlackWhiteBlackRun(e,t,l,u),o-1}sizeOfBlackWhiteBlackRun(e,t,r,x){const o=Math.abs(x-t)>Math.abs(r-e);if(o){let y=e;e=t,t=y,y=r,r=x,x=y}const a=Math.abs(r-e),l=Math.abs(x-t);let u=-a/2;const E=e<r?1:-1,C=t<x?1:-1;let B=0;const F=r+E;for(let y=e,v=t;y!==F;y+=E){const _=o?v:y,H=o?y:v;if(B===1===this.image.get(_,H)){if(B===2)return Ce.distance(y,v,e,t);B++}if(u+=l,u>0){if(v===x)break;v+=C,u-=a}}return B===2?Ce.distance(r+E,x,e,t):NaN}findAlignmentInRegion(e,t,r,x){const o=Math.floor(x*e),a=Math.max(0,t-o),l=Math.min(this.image.getWidth()-1,t+o);if(l-a<e*3)throw new O("Alignment top exceeds estimated module size.");const u=Math.max(0,r-o),E=Math.min(this.image.getHeight()-1,r+o);if(E-u<e*3)throw new O("Alignment bottom exceeds estimated module size.");return new A0(this.image,a,u,l-a,E-u,e,this.resultPointCallback).find()}}class Pt{constructor(){this.decoder=new gr}getDecoder(){return this.decoder}decode(e,t){let r,x;if(t!=null&&t.get(M.PURE_BARCODE)!==void 0){const u=Pt.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(u,t),x=Pt.NO_POINTS}else{const u=new n0(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(u.getBits(),t),x=u.getPoints()}r.getOther()instanceof Z0&&r.getOther().applyMirroredCorrection(x);const o=new le(r.getText(),r.getRawBytes(),void 0,x,J.QR_CODE,void 0),a=r.getByteSegments();a!==null&&o.putMetadata(Ie.BYTE_SEGMENTS,a);const l=r.getECLevel();return l!==null&&o.putMetadata(Ie.ERROR_CORRECTION_LEVEL,l),r.hasStructuredAppend()&&(o.putMetadata(Ie.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),o.putMetadata(Ie.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),o}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new O;const x=this.moduleSize(t,e);let o=t[1],a=r[1],l=t[0],u=r[0];if(l>=u||o>=a)throw new O;if(a-o!==u-l&&(u=l+(a-o),u>=e.getWidth()))throw new O;const E=Math.round((u-l+1)/x),C=Math.round((a-o+1)/x);if(E<=0||C<=0)throw new O;if(C!==E)throw new O;const B=Math.floor(x/2);o+=B,l+=B;const F=l+Math.floor((E-1)*x)-u;if(F>0){if(F>B)throw new O;l-=F}const y=o+Math.floor((C-1)*x)-a;if(y>0){if(y>B)throw new O;o-=y}const v=new oe(E,C);for(let _=0;_<C;_++){const H=o+Math.floor(_*x);for(let X=0;X<E;X++)e.get(l+Math.floor(X*x),H)&&v.set(X,_)}return v}static moduleSize(e,t){const r=t.getHeight(),x=t.getWidth();let o=e[0],a=e[1],l=!0,u=0;for(;o<x&&a<r;){if(l!==t.get(o,a)){if(++u===5)break;l=!l}o++,a++}if(o===x||a===r)throw new O;return(o-e[0])/7}}Pt.NO_POINTS=new Array;class he{PDF417Common(){}static getBitCountSum(e){return Ce.sum(e)}static toIntArray(e){if(e==null||!e.length)return he.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let r=0;for(const x of e)t[r++]=x;return t}static getCodeword(e){const t=Y.binarySearch(he.SYMBOL_TABLE,e&262143);return t<0?-1:(he.CODEWORD_TABLE[t]-1)%he.NUMBER_OF_CODEWORDS}}he.NUMBER_OF_CODEWORDS=929,he.MAX_CODEWORDS_IN_BARCODE=he.NUMBER_OF_CODEWORDS-1,he.MIN_ROWS_IN_BARCODE=3,he.MAX_ROWS_IN_BARCODE=90,he.MODULES_IN_CODEWORD=17,he.MODULES_IN_STOP_PATTERN=18,he.BARS_IN_MODULE=8,he.EMPTY_INT_ARRAY=new Int32Array([]),he.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),he.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class mr{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class Be{static detectMultiple(e,t,r){let x=e.getBlackMatrix(),o=Be.detect(r,x);return o.length||(x=x.clone(),x.rotate180(),o=Be.detect(r,x)),new mr(x,o)}static detect(e,t){const r=new Array;let x=0,o=0,a=!1;for(;x<t.getHeight();){const l=Be.findVertices(t,x,o);if(l[0]==null&&l[3]==null){if(!a)break;a=!1,o=0;for(const u of r)u[1]!=null&&(x=Math.trunc(Math.max(x,u[1].getY()))),u[3]!=null&&(x=Math.max(x,Math.trunc(u[3].getY())));x+=Be.ROW_STEP;continue}if(a=!0,r.push(l),!e)break;l[2]!=null?(o=Math.trunc(l[2].getX()),x=Math.trunc(l[2].getY())):(o=Math.trunc(l[4].getX()),x=Math.trunc(l[4].getY()))}return r}static findVertices(e,t,r){const x=e.getHeight(),o=e.getWidth(),a=new Array(8);return Be.copyToResult(a,Be.findRowsWithPattern(e,x,o,t,r,Be.START_PATTERN),Be.INDEXES_START_PATTERN),a[4]!=null&&(r=Math.trunc(a[4].getX()),t=Math.trunc(a[4].getY())),Be.copyToResult(a,Be.findRowsWithPattern(e,x,o,t,r,Be.STOP_PATTERN),Be.INDEXES_STOP_PATTERN),a}static copyToResult(e,t,r){for(let x=0;x<r.length;x++)e[r[x]]=t[x]}static findRowsWithPattern(e,t,r,x,o,a){const l=new Array(4);let u=!1;const E=new Int32Array(a.length);for(;x<t;x+=Be.ROW_STEP){let B=Be.findGuardPattern(e,o,x,r,!1,a,E);if(B!=null){for(;x>0;){const F=Be.findGuardPattern(e,o,--x,r,!1,a,E);if(F!=null)B=F;else{x++;break}}l[0]=new ie(B[0],x),l[1]=new ie(B[1],x),u=!0;break}}let C=x+1;if(u){let B=0,F=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);for(;C<t;C++){const y=Be.findGuardPattern(e,F[0],C,r,!1,a,E);if(y!=null&&Math.abs(F[0]-y[0])<Be.MAX_PATTERN_DRIFT&&Math.abs(F[1]-y[1])<Be.MAX_PATTERN_DRIFT)F=y,B=0;else{if(B>Be.SKIPPED_ROW_COUNT_MAX)break;B++}}C-=B+1,l[2]=new ie(F[0],C),l[3]=new ie(F[1],C)}return C-x<Be.BARCODE_MIN_HEIGHT&&Y.fill(l,null),l}static findGuardPattern(e,t,r,x,o,a,l){Y.fillWithin(l,0,l.length,0);let u=t,E=0;for(;e.get(u,r)&&u>0&&E++<Be.MAX_PIXEL_DRIFT;)u--;let C=u,B=0,F=a.length;for(let y=o;C<x;C++)if(e.get(C,r)!==y)l[B]++;else{if(B===F-1){if(Be.patternMatchVariance(l,a,Be.MAX_INDIVIDUAL_VARIANCE)<Be.MAX_AVG_VARIANCE)return new Int32Array([u,C]);u+=l[0]+l[1],G.arraycopy(l,2,l,0,B-1),l[B-1]=0,l[B]=0,B--}else B++;l[B]=1,y=!y}return B===F-1&&Be.patternMatchVariance(l,a,Be.MAX_INDIVIDUAL_VARIANCE)<Be.MAX_AVG_VARIANCE?new Int32Array([u,C-1]):null}static patternMatchVariance(e,t,r){let x=e.length,o=0,a=0;for(let E=0;E<x;E++)o+=e[E],a+=t[E];if(o<a)return 1/0;let l=o/a;r*=l;let u=0;for(let E=0;E<x;E++){let C=e[E],B=t[E]*l,F=C>B?C-B:B-C;if(F>r)return 1/0;u+=F}return u/o}}Be.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Be.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Be.MAX_AVG_VARIANCE=.42,Be.MAX_INDIVIDUAL_VARIANCE=.8,Be.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Be.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Be.MAX_PIXEL_DRIFT=3,Be.MAX_PATTERN_DRIFT=5,Be.SKIPPED_ROW_COUNT_MAX=25,Be.ROW_STEP=5,Be.BARCODE_MIN_HEIGHT=10;class tt{constructor(e,t){if(t.length===0)throw new w;this.field=e;let r=t.length;if(r>1&&t[0]===0){let x=1;for(;x<r&&t[x]===0;)x++;x===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-x),G.arraycopy(t,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let x=0;for(let o of this.coefficients)x=this.field.add(x,o);return x}let t=this.coefficients[0],r=this.coefficients.length;for(let x=1;x<r;x++)t=this.field.add(this.field.multiply(e,t),this.coefficients[x]);return t}add(e){if(!this.field.equals(e.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){let a=t;t=r,r=a}let x=new Int32Array(r.length),o=r.length-t.length;G.arraycopy(r,0,x,0,o);for(let a=o;a<r.length;a++)x[a]=this.field.add(t[a-o],r[a]);return new tt(this.field,x)}subtract(e){if(!this.field.equals(e.field))throw new w("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof tt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new tt(this.field,new Int32Array([0]));let t=this.coefficients,r=t.length,x=e.coefficients,o=x.length,a=new Int32Array(r+o-1);for(let l=0;l<r;l++){let u=t[l];for(let E=0;E<o;E++)a[l+E]=this.field.add(a[l+E],this.field.multiply(u,x[E]))}return new tt(this.field,a)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new tt(this.field,t)}multiplyScalar(e){if(e===0)return new tt(this.field,new Int32Array([0]));if(e===1)return this;let t=this.coefficients.length,r=new Int32Array(t);for(let x=0;x<t;x++)r[x]=this.field.multiply(this.coefficients[x],e);return new tt(this.field,r)}multiplyByMonomial(e,t){if(e<0)throw new w;if(t===0)return new tt(this.field,new Int32Array([0]));let r=this.coefficients.length,x=new Int32Array(r+e);for(let o=0;o<r;o++)x[o]=this.field.multiply(this.coefficients[o],t);return new tt(this.field,x)}toString(){let e=new te;for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class Dr{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new w;return this.logTable[e]}inverse(e){if(e===0)throw new jt;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class N0 extends Dr{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let x=0;x<e;x++)this.expTable[x]=r,r=r*t%e;for(let x=0;x<e-1;x++)this.logTable[this.expTable[x]]=x;this.zero=new tt(this,new Int32Array([0])),this.one=new tt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new w;if(t===0)return this.zero;let r=new Int32Array(e+1);return r[0]=t,new tt(this,r)}}N0.PDF417_GF=new N0(he.NUMBER_OF_CODEWORDS,3);class K0{constructor(){this.field=N0.PDF417_GF}decode(e,t,r){let x=new tt(this.field,e),o=new Int32Array(t),a=!1;for(let v=t;v>0;v--){let _=x.evaluateAt(this.field.exp(v));o[t-v]=_,_!==0&&(a=!0)}if(!a)return 0;let l=this.field.getOne();if(r!=null)for(const v of r){let _=this.field.exp(e.length-1-v),H=new tt(this.field,new Int32Array([this.field.subtract(0,_),1]));l=l.multiply(H)}let u=new tt(this.field,o),E=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),u,t),C=E[0],B=E[1],F=this.findErrorLocations(C),y=this.findErrorMagnitudes(B,C,F);for(let v=0;v<F.length;v++){let _=e.length-1-this.field.log(F[v]);if(_<0)throw L.getChecksumInstance();e[_]=this.field.subtract(e[_],y[v])}return F.length}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){let F=e;e=t,t=F}let x=e,o=t,a=this.field.getZero(),l=this.field.getOne();for(;o.getDegree()>=Math.round(r/2);){let F=x,y=a;if(x=o,a=l,x.isZero())throw L.getChecksumInstance();o=F;let v=this.field.getZero(),_=x.getCoefficient(x.getDegree()),H=this.field.inverse(_);for(;o.getDegree()>=x.getDegree()&&!o.isZero();){let X=o.getDegree()-x.getDegree(),$=this.field.multiply(o.getCoefficient(o.getDegree()),H);v=v.add(this.field.buildMonomial(X,$)),o=o.subtract(x.multiplyByMonomial(X,$))}l=v.multiply(a).subtract(y).negative()}let u=l.getCoefficient(0);if(u===0)throw L.getChecksumInstance();let E=this.field.inverse(u),C=l.multiply(E),B=o.multiply(E);return[C,B]}findErrorLocations(e){let t=e.getDegree(),r=new Int32Array(t),x=0;for(let o=1;o<this.field.getSize()&&x<t;o++)e.evaluateAt(o)===0&&(r[x]=this.field.inverse(o),x++);if(x!==t)throw L.getChecksumInstance();return r}findErrorMagnitudes(e,t,r){let x=t.getDegree(),o=new Int32Array(x);for(let E=1;E<=x;E++)o[x-E]=this.field.multiply(E,t.getCoefficient(E));let a=new tt(this.field,o),l=r.length,u=new Int32Array(l);for(let E=0;E<l;E++){let C=this.field.inverse(r[E]),B=this.field.subtract(0,e.evaluateAt(C)),F=this.field.inverse(a.evaluateAt(C));u[E]=this.field.multiply(B,F)}return u}}class Xt{constructor(e,t,r,x,o){e instanceof Xt?this.constructor_2(e):this.constructor_1(e,t,r,x,o)}constructor_1(e,t,r,x,o){const a=t==null||r==null,l=x==null||o==null;if(a&&l)throw new O;a?(t=new ie(0,x.getY()),r=new ie(0,o.getY())):l&&(x=new ie(e.getWidth()-1,t.getY()),o=new ie(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=x,this.bottomRight=o,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(x.getX(),o.getX())),this.minY=Math.trunc(Math.min(t.getY(),x.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return e==null?t:t==null?e:new Xt(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,r){let x=this.topLeft,o=this.bottomLeft,a=this.topRight,l=this.bottomRight;if(e>0){let u=r?this.topLeft:this.topRight,E=Math.trunc(u.getY()-e);E<0&&(E=0);let C=new ie(u.getX(),E);r?x=C:a=C}if(t>0){let u=r?this.bottomLeft:this.bottomRight,E=Math.trunc(u.getY()+t);E>=this.image.getHeight()&&(E=this.image.getHeight()-1);let C=new ie(u.getX(),E);r?o=C:l=C}return new Xt(this.image,x,o,a,l)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Fr{constructor(e,t,r,x){this.columnCount=e,this.errorCorrectionLevel=x,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class x0{constructor(){this.buffer=""}static form(e,t){let r=-1;function x(a,l,u,E,C,B){if(a==="%%")return"%";if(t[++r]===void 0)return;a=E?parseInt(E.substr(1)):void 0;let F=C?parseInt(C.substr(1)):void 0,y;switch(B){case"s":y=t[r];break;case"c":y=t[r][0];break;case"f":y=parseFloat(t[r]).toFixed(a);break;case"p":y=parseFloat(t[r]).toPrecision(a);break;case"e":y=parseFloat(t[r]).toExponential(a);break;case"x":y=parseInt(t[r]).toString(F||16);break;case"d":y=parseFloat(parseInt(t[r],F||10).toPrecision(a)).toFixed(0);break}y=typeof y=="object"?JSON.stringify(y):(+y).toString(F);let v=parseInt(u),_=u&&u[0]+""=="0"?"0":" ";for(;y.length<v;)y=l!==void 0?y+_:_+y;return y}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,x)}format(e,...t){this.buffer+=x0.form(e,t)}toString(){return this.buffer}}class i0{constructor(e){this.boundingBox=new Xt(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(t!=null)return t;for(let r=1;r<i0.MAX_NEARBY_DISTANCE;r++){let x=this.imageRowToCodewordIndex(e)-r;if(x>=0&&(t=this.codewords[x],t!=null)||(x=this.imageRowToCodewordIndex(e)+r,x<this.codewords.length&&(t=this.codewords[x],t!=null)))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new x0;let t=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",t++);continue}e.format("%3d: %3d|%3d%n",t++,r.getRowNumber(),r.getValue())}return e.toString()}}i0.MAX_NEARBY_DISTANCE=5;class o0{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[r,x]of this.values.entries()){const o={getKey:()=>r,getValue:()=>x};o.getValue()>e?(e=o.getValue(),t=[],t.push(o.getKey())):o.getValue()===e&&t.push(o.getKey())}return he.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class J0 extends i0{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let r=this.getBoundingBox(),x=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(x.getY())),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=-1,E=1,C=0;for(let B=a;B<l;B++){if(t[B]==null)continue;let F=t[B],y=F.getRowNumber()-u;if(y===0)C++;else if(y===1)E=Math.max(E,C),C=1,u=F.getRowNumber();else if(y<0||F.getRowNumber()>=e.getRowCount()||y>B)t[B]=null;else{let v;E>2?v=(E-2)*y:v=y;let _=v>=B;for(let H=1;H<=v&&!_;H++)_=t[B-H]!=null;_?t[B]=null:(u=F.getRowNumber(),C=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let x=r.getRowNumber();if(x>=t.length)continue;t[x]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),r=this._isLeft?t.getTopLeft():t.getTopRight(),x=this._isLeft?t.getBottomLeft():t.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.imageRowToCodewordIndex(Math.trunc(x.getY())),l=this.getCodewords(),u=-1;for(let E=o;E<a;E++){if(l[E]==null)continue;let C=l[E];C.setRowNumberAsRowIndicatorColumn();let B=C.getRowNumber()-u;B===0||(B===1?u=C.getRowNumber():C.getRowNumber()>=e.getRowCount()?l[E]=null:u=C.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new o0,r=new o0,x=new o0,o=new o0;for(let l of e){if(l==null)continue;l.setRowNumberAsRowIndicatorColumn();let u=l.getValue()%30,E=l.getRowNumber();switch(this._isLeft||(E+=2),E%3){case 0:r.setValue(u*3+1);break;case 1:o.setValue(u/3),x.setValue(u%3);break;case 2:t.setValue(u+1);break}}if(t.getValue().length===0||r.getValue().length===0||x.getValue().length===0||o.getValue().length===0||t.getValue()[0]<1||r.getValue()[0]+x.getValue()[0]<he.MIN_ROWS_IN_BARCODE||r.getValue()[0]+x.getValue()[0]>he.MAX_ROWS_IN_BARCODE)return null;let a=new Fr(t.getValue()[0],r.getValue()[0],x.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(e,a),a}removeIncorrectCodewords(e,t){for(let r=0;r<e.length;r++){let x=e[r];if(e[r]==null)continue;let o=x.getValue()%30,a=x.getRowNumber();if(a>t.getRowCount()){e[r]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:o*3+1!==t.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(o/3)!==t.getErrorCorrectionLevel()||o%3!==t.getRowCountLowerPart())&&(e[r]=null);break;case 2:o+1!==t.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class s0{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=he.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let r=this.detectionResultColumns[t].getCodewords();for(let x=0;x<r.length;x++)r[x]!=null&&(r[x].hasValidRowNumber()||this.adjustRowNumbers(t,x,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(let x=1;x<=this.barcodeColumnCount;x++){let o=this.detectionResultColumns[x].getCodewords()[r];o!=null&&(o.setRowNumber(e[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[x].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++){if(t[r]==null)continue;let x=t[r].getRowNumber(),o=0;for(let a=this.barcodeColumnCount+1;a>0&&o<this.ADJUST_ROW_NUMBER_SKIP;a--){let l=this.detectionResultColumns[a].getCodewords()[r];l!=null&&(o=s0.adjustRowNumberIfValid(x,o,l),l.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let r=0;r<t.length;r++){if(t[r]==null)continue;let x=t[r].getRowNumber(),o=0;for(let a=1;a<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;a++){let l=this.detectionResultColumns[a].getCodewords()[r];l!=null&&(o=s0.adjustRowNumberIfValid(x,o,l),l.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,r){if(!this.detectionResultColumns[e-1])return;let x=r[t],o=this.detectionResultColumns[e-1].getCodewords(),a=o;this.detectionResultColumns[e+1]!=null&&(a=this.detectionResultColumns[e+1].getCodewords());let l=new Array(14);l[2]=o[t],l[3]=a[t],t>0&&(l[0]=r[t-1],l[4]=o[t-1],l[5]=a[t-1]),t>1&&(l[8]=r[t-2],l[10]=o[t-2],l[11]=a[t-2]),t<r.length-1&&(l[1]=r[t+1],l[6]=o[t+1],l[7]=a[t+1]),t<r.length-2&&(l[9]=r[t+2],l[12]=o[t+2],l[13]=a[t+2]);for(let u of l)if(s0.adjustRowNumber(x,u))return}static adjustRowNumber(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new x0;for(let r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(let x=0;x<this.barcodeColumnCount+2;x++){if(this.detectionResultColumns[x]==null){t.format("    |   ");continue}let o=this.detectionResultColumns[x].getCodewords()[r];if(o==null){t.format("    |   ");continue}t.format(" %3d|%3d",o.getRowNumber(),o.getValue())}t.format("%n")}return t.toString()}}class a0{constructor(e,t,r,x){this.rowNumber=a0.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(x)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==a0.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}a0.BARCODE_ROW_UNKNOWN=-1;class ut{static initialize(){for(let e=0;e<he.SYMBOL_TABLE.length;e++){let t=he.SYMBOL_TABLE[e],r=t&1;for(let x=0;x<he.BARS_IN_MODULE;x++){let o=0;for(;(t&1)===r;)o+=1,t>>=1;r=t&1,ut.RATIOS_TABLE[e]||(ut.RATIOS_TABLE[e]=new Array(he.BARS_IN_MODULE)),ut.RATIOS_TABLE[e][he.BARS_IN_MODULE-x-1]=Math.fround(o/he.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=ut.getDecodedCodewordValue(ut.sampleBitCounts(e));return t!==-1?t:ut.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=Ce.sum(e),r=new Int32Array(he.BARS_IN_MODULE),x=0,o=0;for(let a=0;a<he.MODULES_IN_CODEWORD;a++){let l=t/(2*he.MODULES_IN_CODEWORD)+a*t/he.MODULES_IN_CODEWORD;o+e[x]<=l&&(o+=e[x],x++),r[x]++}return r}static getDecodedCodewordValue(e){let t=ut.getBitValue(e);return he.getCodeword(t)===-1?-1:t}static getBitValue(e){let t=0;for(let r=0;r<e.length;r++)for(let x=0;x<e[r];x++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=Ce.sum(e),r=new Array(he.BARS_IN_MODULE);if(t>1)for(let a=0;a<r.length;a++)r[a]=Math.fround(e[a]/t);let x=u0.MAX_VALUE,o=-1;this.bSymbolTableReady||ut.initialize();for(let a=0;a<ut.RATIOS_TABLE.length;a++){let l=0,u=ut.RATIOS_TABLE[a];for(let E=0;E<he.BARS_IN_MODULE;E++){let C=Math.fround(u[E]-r[E]);if(l+=Math.fround(C*C),l>=x)break}l<x&&(x=l,o=he.SYMBOL_TABLE[a])}return o}}ut.bSymbolTableReady=!1,ut.RATIOS_TABLE=new Array(he.SYMBOL_TABLE.length).map(g=>new Array(he.BARS_IN_MODULE));class $0{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class er{static parseLong(e,t=void 0){return parseInt(e,t)}}class tr extends A{}tr.kind="NullPointerException";class wr{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,r){if(e==null)throw new tr;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new R;if(r===0)return;for(let x=0;x<r;x++)this.write(e[t+x])}flush(){}close(){}}class pr extends A{}class br extends wr{constructor(e=32){if(super(),this.count=0,e<0)throw new w("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new pr;r=k.MAX_VALUE}this.buf=Y.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,r){if(t<0||t>e.length||r<0||t+r-e.length>0)throw new R;this.ensureCapacity(this.count+r),G.arraycopy(e,t,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Y.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Re;(function(g){g[g.ALPHA=0]="ALPHA",g[g.LOWER=1]="LOWER",g[g.MIXED=2]="MIXED",g[g.PUNCT=3]="PUNCT",g[g.ALPHA_SHIFT=4]="ALPHA_SHIFT",g[g.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Re||(Re={}));function rr(){if(typeof window<"u")return window.BigInt||null;if(typeof commonjsGlobal<"u")return commonjsGlobal.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let g0;function Mt(g){if(typeof g0>"u"&&(g0=rr()),g0===null)throw new Error("BigInt is not supported!");return g0(g)}function yr(){let g=[];g[0]=Mt(1);let e=Mt(900);g[1]=e;for(let t=2;t<16;t++)g[t]=g[t-1]*e;return g}class W{static decode(e,t){let r=new te(""),x=P.ISO8859_1;r.enableDecoding(x);let o=1,a=e[o++],l=new $0;for(;o<e[0];){switch(a){case W.TEXT_COMPACTION_MODE_LATCH:o=W.textCompaction(e,o,r);break;case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:o=W.byteCompaction(a,e,x,o,r);break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case W.NUMERIC_COMPACTION_MODE_LATCH:o=W.numericCompaction(e,o,r);break;case W.ECI_CHARSET:P.getCharacterSetECIByValue(e[o++]);break;case W.ECI_GENERAL_PURPOSE:o+=2;break;case W.ECI_USER_DEFINED:o++;break;case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=W.decodeMacroBlock(e,o,l);break;case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:throw new I;default:o--,o=W.textCompaction(e,o,r);break}if(o<e.length)a=e[o++];else throw I.getFormatInstance()}if(r.length()===0)throw I.getFormatInstance();let u=new xt(null,r.toString(),null,t);return u.setOther(l),u}static decodeMacroBlock(e,t,r){if(t+W.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw I.getFormatInstance();let x=new Int32Array(W.NUMBER_OF_SEQUENCE_CODEWORDS);for(let l=0;l<W.NUMBER_OF_SEQUENCE_CODEWORDS;l++,t++)x[l]=e[t];r.setSegmentIndex(k.parseInt(W.decodeBase900toBase10(x,W.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new te;t=W.textCompaction(e,t,o),r.setFileId(o.toString());let a=-1;for(e[t]===W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=t+1);t<e[0];)switch(e[t]){case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case W.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let l=new te;t=W.textCompaction(e,t+1,l),r.setFileName(l.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let u=new te;t=W.textCompaction(e,t+1,u),r.setSender(u.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let E=new te;t=W.textCompaction(e,t+1,E),r.setAddressee(E.toString());break;case W.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new te;t=W.numericCompaction(e,t+1,C),r.setSegmentCount(k.parseInt(C.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let B=new te;t=W.numericCompaction(e,t+1,B),r.setTimestamp(er.parseLong(B.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let F=new te;t=W.numericCompaction(e,t+1,F),r.setChecksum(k.parseInt(F.toString()));break;case W.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let y=new te;t=W.numericCompaction(e,t+1,y),r.setFileSize(er.parseLong(y.toString()));break;default:throw I.getFormatInstance()}break;case W.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw I.getFormatInstance()}if(a!==-1){let l=t-a;r.isLastSegment()&&l--,r.setOptionalData(Y.copyOfRange(e,a,a+l))}return t}static textCompaction(e,t,r){let x=new Int32Array((e[0]-t)*2),o=new Int32Array((e[0]-t)*2),a=0,l=!1;for(;t<e[0]&&!l;){let u=e[t++];if(u<W.TEXT_COMPACTION_MODE_LATCH)x[a]=u/30,x[a+1]=u%30,a+=2;else switch(u){case W.TEXT_COMPACTION_MODE_LATCH:x[a++]=W.TEXT_COMPACTION_MODE_LATCH;break;case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:t--,l=!0;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x[a]=W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[t++],o[a]=u,a++;break}}return W.decodeTextCompaction(x,o,a,r),t}static decodeTextCompaction(e,t,r,x){let o=Re.ALPHA,a=Re.ALPHA,l=0;for(;l<r;){let u=e[l],E="";switch(o){case Re.ALPHA:if(u<26)E=String.fromCharCode(65+u);else switch(u){case 26:E=" ";break;case W.LL:o=Re.LOWER;break;case W.ML:o=Re.MIXED;break;case W.PS:a=o,o=Re.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(t[l]);break;case W.TEXT_COMPACTION_MODE_LATCH:o=Re.ALPHA;break}break;case Re.LOWER:if(u<26)E=String.fromCharCode(97+u);else switch(u){case 26:E=" ";break;case W.AS:a=o,o=Re.ALPHA_SHIFT;break;case W.ML:o=Re.MIXED;break;case W.PS:a=o,o=Re.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(t[l]);break;case W.TEXT_COMPACTION_MODE_LATCH:o=Re.ALPHA;break}break;case Re.MIXED:if(u<W.PL)E=W.MIXED_CHARS[u];else switch(u){case W.PL:o=Re.PUNCT;break;case 26:E=" ";break;case W.LL:o=Re.LOWER;break;case W.AL:o=Re.ALPHA;break;case W.PS:a=o,o=Re.PUNCT_SHIFT;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(t[l]);break;case W.TEXT_COMPACTION_MODE_LATCH:o=Re.ALPHA;break}break;case Re.PUNCT:if(u<W.PAL)E=W.PUNCT_CHARS[u];else switch(u){case W.PAL:o=Re.ALPHA;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(t[l]);break;case W.TEXT_COMPACTION_MODE_LATCH:o=Re.ALPHA;break}break;case Re.ALPHA_SHIFT:if(o=a,u<26)E=String.fromCharCode(65+u);else switch(u){case 26:E=" ";break;case W.TEXT_COMPACTION_MODE_LATCH:o=Re.ALPHA;break}break;case Re.PUNCT_SHIFT:if(o=a,u<W.PAL)E=W.PUNCT_CHARS[u];else switch(u){case W.PAL:o=Re.ALPHA;break;case W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(t[l]);break;case W.TEXT_COMPACTION_MODE_LATCH:o=Re.ALPHA;break}break}E!==""&&x.append(E),l++}}static byteCompaction(e,t,r,x,o){let a=new br,l=0,u=0,E=!1;switch(e){case W.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),B=t[x++];for(;x<t[0]&&!E;)switch(C[l++]=B,u=900*u+B,B=t[x++],B){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:x--,E=!0;break;default:if(l%5===0&&l>0){for(let F=0;F<6;++F)a.write(Number(Mt(u)>>Mt(8*(5-F))));u=0,l=0}break}x===t[0]&&B<W.TEXT_COMPACTION_MODE_LATCH&&(C[l++]=B);for(let F=0;F<l;F++)a.write(C[F]);break;case W.BYTE_COMPACTION_MODE_LATCH_6:for(;x<t[0]&&!E;){let F=t[x++];if(F<W.TEXT_COMPACTION_MODE_LATCH)l++,u=900*u+F;else switch(F){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.NUMERIC_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:x--,E=!0;break}if(l%5===0&&l>0){for(let y=0;y<6;++y)a.write(Number(Mt(u)>>Mt(8*(5-y))));u=0,l=0}}break}return o.append(ne.decode(a.toByteArray(),r)),x}static numericCompaction(e,t,r){let x=0,o=!1,a=new Int32Array(W.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!o;){let l=e[t++];if(t===e[0]&&(o=!0),l<W.TEXT_COMPACTION_MODE_LATCH)a[x]=l,x++;else switch(l){case W.TEXT_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH:case W.BYTE_COMPACTION_MODE_LATCH_6:case W.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case W.MACRO_PDF417_TERMINATOR:t--,o=!0;break}(x%W.MAX_NUMERIC_CODEWORDS===0||l===W.NUMERIC_COMPACTION_MODE_LATCH||o)&&x>0&&(r.append(W.decodeBase900toBase10(a,x)),x=0)}return t}static decodeBase900toBase10(e,t){let r=Mt(0);for(let o=0;o<t;o++)r+=W.EXP900[t-o-1]*Mt(e[o]);let x=r.toString();if(x.charAt(0)!=="1")throw new I;return x.substring(1)}}W.TEXT_COMPACTION_MODE_LATCH=900,W.BYTE_COMPACTION_MODE_LATCH=901,W.NUMERIC_COMPACTION_MODE_LATCH=902,W.BYTE_COMPACTION_MODE_LATCH_6=924,W.ECI_USER_DEFINED=925,W.ECI_GENERAL_PURPOSE=926,W.ECI_CHARSET=927,W.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,W.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,W.MACRO_PDF417_TERMINATOR=922,W.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,W.MAX_NUMERIC_CODEWORDS=15,W.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,W.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,W.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,W.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,W.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,W.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,W.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,W.PL=25,W.LL=27,W.AS=27,W.ML=28,W.AL=28,W.PS=29,W.PAL=29,W.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,W.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",W.EXP900=rr()?yr():[],W.NUMBER_OF_SEQUENCE_CODEWORDS=2;class me{constructor(){}static decode(e,t,r,x,o,a,l){let u=new Xt(e,t,r,x,o),E=null,C=null,B;for(let v=!0;;v=!1){if(t!=null&&(E=me.getRowIndicatorColumn(e,u,t,!0,a,l)),x!=null&&(C=me.getRowIndicatorColumn(e,u,x,!1,a,l)),B=me.merge(E,C),B==null)throw O.getNotFoundInstance();let _=B.getBoundingBox();if(v&&_!=null&&(_.getMinY()<u.getMinY()||_.getMaxY()>u.getMaxY()))u=_;else break}B.setBoundingBox(u);let F=B.getBarcodeColumnCount()+1;B.setDetectionResultColumn(0,E),B.setDetectionResultColumn(F,C);let y=E!=null;for(let v=1;v<=F;v++){let _=y?v:F-v;if(B.getDetectionResultColumn(_)!==void 0)continue;let H;_===0||_===F?H=new J0(u,_===0):H=new i0(u),B.setDetectionResultColumn(_,H);let X=-1,$=X;for(let ee=u.getMinY();ee<=u.getMaxY();ee++){if(X=me.getStartColumn(B,_,ee,y),X<0||X>u.getMaxX()){if($===-1)continue;X=$}let K=me.detectCodeword(e,u.getMinX(),u.getMaxX(),y,X,ee,a,l);K!=null&&(H.setCodeword(ee,K),$=X,a=Math.min(a,K.getWidth()),l=Math.max(l,K.getWidth()))}}return me.createDecoderResult(B)}static merge(e,t){if(e==null&&t==null)return null;let r=me.getBarcodeMetadata(e,t);if(r==null)return null;let x=Xt.merge(me.adjustBoundingBox(e),me.adjustBoundingBox(t));return new s0(r,x)}static adjustBoundingBox(e){if(e==null)return null;let t=e.getRowHeights();if(t==null)return null;let r=me.getMax(t),x=0;for(let l of t)if(x+=r-l,l>0)break;let o=e.getCodewords();for(let l=0;x>0&&o[l]==null;l++)x--;let a=0;for(let l=t.length-1;l>=0&&(a+=r-t[l],!(t[l]>0));l--);for(let l=o.length-1;a>0&&o[l]==null;l--)a--;return e.getBoundingBox().addMissingRows(x,a,e.isLeft())}static getMax(e){let t=-1;for(let r of e)t=Math.max(t,r);return t}static getBarcodeMetadata(e,t){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();let x;return t==null||(x=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==x.getColumnCount()&&r.getErrorCorrectionLevel()!==x.getErrorCorrectionLevel()&&r.getRowCount()!==x.getRowCount()?null:r}static getRowIndicatorColumn(e,t,r,x,o,a){let l=new J0(t,x);for(let u=0;u<2;u++){let E=u===0?1:-1,C=Math.trunc(Math.trunc(r.getX()));for(let B=Math.trunc(Math.trunc(r.getY()));B<=t.getMaxY()&&B>=t.getMinY();B+=E){let F=me.detectCodeword(e,0,e.getWidth(),x,C,B,o,a);F!=null&&(l.setCodeword(B,F),x?C=F.getStartX():C=F.getEndX())}}return l}static adjustCodewordCount(e,t){let r=t[0][1],x=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-me.getNumberOfECCodeWords(e.getBarcodeECLevel());if(x.length===0){if(o<1||o>he.MAX_CODEWORDS_IN_BARCODE)throw O.getNotFoundInstance();r.setValue(o)}else x[0]!==o&&r.setValue(o)}static createDecoderResult(e){let t=me.createBarcodeMatrix(e);me.adjustCodewordCount(e,t);let r=new Array,x=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],a=new Array;for(let u=0;u<e.getBarcodeRowCount();u++)for(let E=0;E<e.getBarcodeColumnCount();E++){let C=t[u][E+1].getValue(),B=u*e.getBarcodeColumnCount()+E;C.length===0?r.push(B):C.length===1?x[B]=C[0]:(a.push(B),o.push(C))}let l=new Array(o.length);for(let u=0;u<l.length;u++)l[u]=o[u];return me.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),x,he.toIntArray(r),he.toIntArray(a),l)}static createDecoderResultFromAmbiguousValues(e,t,r,x,o){let a=new Int32Array(x.length),l=100;for(;l-- >0;){for(let u=0;u<a.length;u++)t[x[u]]=o[u][a[u]];try{return me.decodeCodewords(t,e,r)}catch(u){if(!(u instanceof L))throw u}if(a.length===0)throw L.getChecksumInstance();for(let u=0;u<a.length;u++)if(a[u]<o[u].length-1){a[u]++;break}else if(a[u]=0,u===a.length-1)throw L.getChecksumInstance()}throw L.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let x=0;x<t.length;x++)for(let o=0;o<t[x].length;o++)t[x][o]=new o0;let r=0;for(let x of e.getDetectionResultColumns()){if(x!=null){for(let o of x.getCodewords())if(o!=null){let a=o.getRowNumber();if(a>=0){if(a>=t.length)continue;t[a][r].setValue(o.getValue())}}}r++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,r,x){let o=x?1:-1,a=null;if(me.isValidBarcodeColumn(e,t-o)&&(a=e.getDetectionResultColumn(t-o).getCodeword(r)),a!=null)return x?a.getEndX():a.getStartX();if(a=e.getDetectionResultColumn(t).getCodewordNearby(r),a!=null)return x?a.getStartX():a.getEndX();if(me.isValidBarcodeColumn(e,t-o)&&(a=e.getDetectionResultColumn(t-o).getCodewordNearby(r)),a!=null)return x?a.getEndX():a.getStartX();let l=0;for(;me.isValidBarcodeColumn(e,t-o);){t-=o;for(let u of e.getDetectionResultColumn(t).getCodewords())if(u!=null)return(x?u.getEndX():u.getStartX())+o*l*(u.getEndX()-u.getStartX());l++}return x?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,r,x,o,a,l,u){o=me.adjustCodewordStartColumn(e,t,r,x,o,a);let E=me.getModuleBitCount(e,t,r,x,o,a);if(E==null)return null;let C,B=Ce.sum(E);if(x)C=o+B;else{for(let v=0;v<E.length/2;v++){let _=E[v];E[v]=E[E.length-1-v],E[E.length-1-v]=_}C=o,o=C-B}if(!me.checkCodewordSkew(B,l,u))return null;let F=ut.getDecodedValue(E),y=he.getCodeword(F);return y===-1?null:new a0(o,C,me.getCodewordBucketNumber(F),y)}static getModuleBitCount(e,t,r,x,o,a){let l=o,u=new Int32Array(8),E=0,C=x?1:-1,B=x;for(;(x?l<r:l>=t)&&E<u.length;)e.get(l,a)===B?(u[E]++,l+=C):(E++,B=!B);return E===u.length||l===(x?r:t)&&E===u.length-1?u:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,r,x,o,a){let l=o,u=x?-1:1;for(let E=0;E<2;E++){for(;(x?l>=t:l<r)&&x===e.get(l,a);){if(Math.abs(o-l)>me.CODEWORD_SKEW_SIZE)return o;l+=u}u=-u,x=!x}return l}static checkCodewordSkew(e,t,r){return t-me.CODEWORD_SKEW_SIZE<=e&&e<=r+me.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,r){if(e.length===0)throw I.getFormatInstance();let x=1<<t+1,o=me.correctErrors(e,r,x);me.verifyCodewordCount(e,x);let a=W.decode(e,""+t);return a.setErrorsCorrected(o),a.setErasures(r.length),a}static correctErrors(e,t,r){if(t!=null&&t.length>r/2+me.MAX_ERRORS||r<0||r>me.MAX_EC_CODEWORDS)throw L.getChecksumInstance();return me.errorCorrection.decode(e,r,t)}static verifyCodewordCount(e,t){if(e.length<4)throw I.getFormatInstance();let r=e[0];if(r>e.length)throw I.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw I.getFormatInstance()}static getBitCountForCodeword(e){let t=new Int32Array(8),r=0,x=t.length-1;for(;!((e&1)!==r&&(r=e&1,x--,x<0));)t[x]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return me.getCodewordBucketNumber(me.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new x0;for(let r=0;r<e.length;r++){t.format("Row %2d: ",r);for(let x=0;x<e[r].length;x++){let o=e[r][x];o.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}t.format("%n")}return t.toString()}}me.CODEWORD_SKEW_SIZE=2,me.MAX_ERRORS=3,me.MAX_EC_CODEWORDS=512,me.errorCorrection=new K0;class rt{decode(e,t=null){let r=rt.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw O.getNotFoundInstance();return r[0]}decodeMultiple(e,t=null){try{return rt.decode(e,t,!0)}catch(r){throw r instanceof I||r instanceof L?O.getNotFoundInstance():r}}static decode(e,t,r){const x=new Array,o=Be.detectMultiple(e,t,r);for(const a of o.getPoints()){const l=me.decode(o.getBits(),a[4],a[5],a[6],a[7],rt.getMinCodewordWidth(a),rt.getMaxCodewordWidth(a)),u=new le(l.getText(),l.getRawBytes(),void 0,a,J.PDF_417);u.putMetadata(Ie.ERROR_CORRECTION_LEVEL,l.getECLevel());const E=l.getOther();E!=null&&u.putMetadata(Ie.PDF417_EXTRA_METADATA,E),x.push(u)}return x.map(a=>a)}static getMaxWidth(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return e==null||t==null?k.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(rt.getMaxWidth(e[0],e[4]),rt.getMaxWidth(e[6],e[2])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN),Math.max(rt.getMaxWidth(e[1],e[5]),rt.getMaxWidth(e[7],e[3])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(rt.getMinWidth(e[0],e[4]),rt.getMinWidth(e[6],e[2])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN),Math.min(rt.getMinWidth(e[1],e[5]),rt.getMinWidth(e[7],e[3])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN)))}reset(){}}class B0 extends A{}B0.kind="ReaderException";class nr{constructor(e,t){this.verbose=e===!0,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const t=!c(e)&&e.get(M.TRY_HARDER)===!0,r=c(e)?null:e.get(M.POSSIBLE_FORMATS),x=new Array;if(!c(r)){const o=r.some(a=>a===J.UPC_A||a===J.UPC_E||a===J.EAN_13||a===J.EAN_8||a===J.CODABAR||a===J.CODE_39||a===J.CODE_93||a===J.CODE_128||a===J.ITF||a===J.RSS_14||a===J.RSS_EXPANDED);o&&!t&&x.push(new Zt(e,this.verbose)),r.includes(J.QR_CODE)&&x.push(new Pt),r.includes(J.DATA_MATRIX)&&x.push(new Nt),r.includes(J.AZTEC)&&x.push(new d0),r.includes(J.PDF_417)&&x.push(new rt),o&&t&&x.push(new Zt(e,this.verbose))}x.length===0&&(t||x.push(new Zt(e,this.verbose)),x.push(new Pt),x.push(new Nt),x.push(new d0),x.push(new rt),t&&x.push(new Zt(e,this.verbose))),this.readers=x}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new B0("No readers where selected, nothing can be read.");for(const t of this.readers)try{return t.decode(e,this.hints)}catch(r){if(r instanceof B0)continue}throw new O("No MultiFormat Readers were able to detect the code.")}}class Ir extends Oe{constructor(e=null,t=500){const r=new nr;r.setHints(e),super(r,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Sr extends Oe{constructor(e=500){super(new rt,e)}}class vr extends Oe{constructor(e=500){super(new Pt,e)}}var P0;(function(g){g[g.ERROR_CORRECTION=0]="ERROR_CORRECTION",g[g.CHARACTER_SET=1]="CHARACTER_SET",g[g.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",g[g.MIN_SIZE=3]="MIN_SIZE",g[g.MAX_SIZE=4]="MAX_SIZE",g[g.MARGIN=5]="MARGIN",g[g.PDF417_COMPACT=6]="PDF417_COMPACT",g[g.PDF417_COMPACTION=7]="PDF417_COMPACTION",g[g.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",g[g.AZTEC_LAYERS=9]="AZTEC_LAYERS",g[g.QR_VERSION=10]="QR_VERSION"})(P0||(P0={}));var Ke=P0;class M0{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new je(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let r=t[t.length-1];const x=this.field;for(let o=t.length;o<=e;o++){const a=r.multiply(new je(x,Int32Array.from([1,x.exp(o-1+x.getGeneratorBase())])));t.push(a),r=a}}return t[e]}encode(e,t){if(t===0)throw new w("No error correction bytes");const r=e.length-t;if(r<=0)throw new w("No data bytes provided");const x=this.buildGenerator(t),o=new Int32Array(r);G.arraycopy(e,0,o,0,r);let a=new je(this.field,o);a=a.multiplyByMonomial(t,1);const u=a.divide(x)[1].getCoefficients(),E=t-u.length;for(let C=0;C<E;C++)e[r+C]=0;G.arraycopy(u,0,e,r+E,u.length)}}class ze{constructor(){}static applyMaskPenaltyRule1(e){return ze.applyMaskPenaltyRule1Internal(e,!0)+ze.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const r=e.getArray(),x=e.getWidth(),o=e.getHeight();for(let a=0;a<o-1;a++){const l=r[a];for(let u=0;u<x-1;u++){const E=l[u];E===l[u+1]&&E===r[a+1][u]&&E===r[a+1][u+1]&&t++}}return ze.N2*t}static applyMaskPenaltyRule3(e){let t=0;const r=e.getArray(),x=e.getWidth(),o=e.getHeight();for(let a=0;a<o;a++)for(let l=0;l<x;l++){const u=r[a];l+6<x&&u[l]===1&&u[l+1]===0&&u[l+2]===1&&u[l+3]===1&&u[l+4]===1&&u[l+5]===0&&u[l+6]===1&&(ze.isWhiteHorizontal(u,l-4,l)||ze.isWhiteHorizontal(u,l+7,l+11))&&t++,a+6<o&&r[a][l]===1&&r[a+1][l]===0&&r[a+2][l]===1&&r[a+3][l]===1&&r[a+4][l]===1&&r[a+5][l]===0&&r[a+6][l]===1&&(ze.isWhiteVertical(r,l,a-4,a)||ze.isWhiteVertical(r,l,a+7,a+11))&&t++}return t*ze.N3}static isWhiteHorizontal(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(let x=t;x<r;x++)if(e[x]===1)return!1;return!0}static isWhiteVertical(e,t,r,x){r=Math.max(r,0),x=Math.min(x,e.length);for(let o=r;o<x;o++)if(e[o][t]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const r=e.getArray(),x=e.getWidth(),o=e.getHeight();for(let u=0;u<o;u++){const E=r[u];for(let C=0;C<x;C++)E[C]===1&&t++}const a=e.getHeight()*e.getWidth();return Math.floor(Math.abs(t*2-a)*10/a)*ze.N4}static getDataMaskBit(e,t,r){let x,o;switch(e){case 0:x=r+t&1;break;case 1:x=r&1;break;case 2:x=t%3;break;case 3:x=(r+t)%3;break;case 4:x=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:o=r*t,x=(o&1)+o%3;break;case 6:o=r*t,x=(o&1)+o%3&1;break;case 7:o=r*t,x=o%3+(r+t&1)&1;break;default:throw new w("Invalid mask pattern: "+e)}return x===0}static applyMaskPenaltyRule1Internal(e,t){let r=0;const x=t?e.getHeight():e.getWidth(),o=t?e.getWidth():e.getHeight(),a=e.getArray();for(let l=0;l<x;l++){let u=0,E=-1;for(let C=0;C<o;C++){const B=t?a[l][C]:a[C][l];B===E?u++:(u>=5&&(r+=ze.N1+(u-5)),u=1,E=B)}u>=5&&(r+=ze.N1+(u-5))}return r}}ze.N1=3,ze.N2=3,ze.N3=40,ze.N4=10;class m0{constructor(e,t){this.width=e,this.height=t;const r=new Array(t);for(let x=0;x!==t;x++)r[x]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,r){this.bytes[t][e]=r}setBoolean(e,t,r){this.bytes[t][e]=r?1:0}clear(e){for(const t of this.bytes)Y.fill(t,e)}equals(e){if(!(e instanceof m0))return!1;const t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(let r=0,x=this.height;r<x;++r){const o=this.bytes[r],a=t.bytes[r];for(let l=0,u=this.width;l<u;++l)if(o[l]!==a[l])return!1}return!0}toString(){const e=new te;for(let t=0,r=this.height;t<r;++t){const x=this.bytes[t];for(let o=0,a=this.width;o<a;++o)switch(x[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Gt{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new te;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Gt.NUM_MASK_PATTERNS}}Gt.NUM_MASK_PATTERNS=8;class Pe extends A{}Pe.kind="WriterException";class Ee{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,r,x,o){Ee.clearMatrix(o),Ee.embedBasicPatterns(r,o),Ee.embedTypeInfo(t,x,o),Ee.maybeEmbedVersionInfo(r,o),Ee.embedDataBits(e,x,o)}static embedBasicPatterns(e,t){Ee.embedPositionDetectionPatternsAndSeparators(t),Ee.embedDarkDotAtLeftBottomCorner(t),Ee.maybeEmbedPositionAdjustmentPatterns(e,t),Ee.embedTimingPatterns(t)}static embedTypeInfo(e,t,r){const x=new S;Ee.makeTypeInfoBits(e,t,x);for(let o=0,a=x.getSize();o<a;++o){const l=x.get(x.getSize()-1-o),u=Ee.TYPE_INFO_COORDINATES[o],E=u[0],C=u[1];if(r.setBoolean(E,C,l),o<8){const B=r.getWidth()-o-1;r.setBoolean(B,8,l)}else{const F=r.getHeight()-7+(o-8);r.setBoolean(8,F,l)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const r=new S;Ee.makeVersionInfoBits(e,r);let x=17;for(let o=0;o<6;++o)for(let a=0;a<3;++a){const l=r.get(x);x--,t.setBoolean(o,t.getHeight()-11+a,l),t.setBoolean(t.getHeight()-11+a,o,l)}}static embedDataBits(e,t,r){let x=0,o=-1,a=r.getWidth()-1,l=r.getHeight()-1;for(;a>0;){for(a===6&&(a-=1);l>=0&&l<r.getHeight();){for(let u=0;u<2;++u){const E=a-u;if(!Ee.isEmpty(r.get(E,l)))continue;let C;x<e.getSize()?(C=e.get(x),++x):C=!1,t!==255&&ze.getDataMaskBit(t,E,l)&&(C=!C),r.setBoolean(E,l,C)}l+=o}o=-o,l+=o,a-=2}if(x!==e.getSize())throw new Pe("Not all bits consumed: "+x+"/"+e.getSize())}static findMSBSet(e){return 32-k.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(t===0)throw new w("0 polynomial");const r=Ee.findMSBSet(t);for(e<<=r-1;Ee.findMSBSet(e)>=r;)e^=t<<Ee.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,t,r){if(!Gt.isValidMaskPattern(t))throw new Pe("Invalid mask pattern");const x=e.getBits()<<3|t;r.appendBits(x,5);const o=Ee.calculateBCHCode(x,Ee.TYPE_INFO_POLY);r.appendBits(o,10);const a=new S;if(a.appendBits(Ee.TYPE_INFO_MASK_PATTERN,15),r.xor(a),r.getSize()!==15)throw new Pe("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const r=Ee.calculateBCHCode(e.getVersionNumber(),Ee.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new Pe("should not happen but we got: "+t.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const r=(t+1)%2;Ee.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),Ee.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Pe;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,r){for(let x=0;x<8;++x){if(!Ee.isEmpty(r.get(e+x,t)))throw new Pe;r.setNumber(e+x,t,0)}}static embedVerticalSeparationPattern(e,t,r){for(let x=0;x<7;++x){if(!Ee.isEmpty(r.get(e,t+x)))throw new Pe;r.setNumber(e,t+x,0)}}static embedPositionAdjustmentPattern(e,t,r){for(let x=0;x<5;++x){const o=Ee.POSITION_ADJUSTMENT_PATTERN[x];for(let a=0;a<5;++a)r.setNumber(e+a,t+x,o[a])}}static embedPositionDetectionPattern(e,t,r){for(let x=0;x<7;++x){const o=Ee.POSITION_DETECTION_PATTERN[x];for(let a=0;a<7;++a)r.setNumber(e+a,t+x,o[a])}}static embedPositionDetectionPatternsAndSeparators(e){const t=Ee.POSITION_DETECTION_PATTERN[0].length;Ee.embedPositionDetectionPattern(0,0,e),Ee.embedPositionDetectionPattern(e.getWidth()-t,0,e),Ee.embedPositionDetectionPattern(0,e.getWidth()-t,e);const r=8;Ee.embedHorizontalSeparationPattern(0,r-1,e),Ee.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),Ee.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const x=7;Ee.embedVerticalSeparationPattern(x,0,e),Ee.embedVerticalSeparationPattern(e.getHeight()-x-1,0,e),Ee.embedVerticalSeparationPattern(x,e.getHeight()-x,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,x=Ee.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let o=0,a=x.length;o!==a;o++){const l=x[o];if(l>=0)for(let u=0;u!==a;u++){const E=x[u];E>=0&&Ee.isEmpty(t.get(E,l))&&Ee.embedPositionAdjustmentPattern(E-2,l-2,t)}}}}Ee.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ee.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ee.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ee.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ee.VERSION_INFO_POLY=7973,Ee.TYPE_INFO_POLY=1335,Ee.TYPE_INFO_MASK_PATTERN=21522;class _r{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class He{constructor(){}static calculateMaskPenalty(e){return ze.applyMaskPenaltyRule1(e)+ze.applyMaskPenaltyRule2(e)+ze.applyMaskPenaltyRule3(e)+ze.applyMaskPenaltyRule4(e)}static encode(e,t,r=null){let x=He.DEFAULT_BYTE_MODE_ENCODING;const o=r!==null&&r.get(Ke.CHARACTER_SET)!==void 0;o&&(x=r.get(Ke.CHARACTER_SET).toString());const a=this.chooseMode(e,x),l=new S;if(a===de.BYTE&&(o||He.DEFAULT_BYTE_MODE_ENCODING!==x)){const ee=P.getCharacterSetECIByName(x);ee!==void 0&&this.appendECI(ee,l)}this.appendModeInfo(a,l);const u=new S;this.appendBytes(e,a,u,x);let E;if(r!==null&&r.get(Ke.QR_VERSION)!==void 0){const ee=Number.parseInt(r.get(Ke.QR_VERSION).toString(),10);E=ue.getVersionForNumber(ee);const K=this.calculateBitsNeeded(a,l,u,E);if(!this.willFit(K,E,t))throw new Pe("Data too big for requested version")}else E=this.recommendVersion(t,a,l,u);const C=new S;C.appendBitArray(l);const B=a===de.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(B,E,a,C),C.appendBitArray(u);const F=E.getECBlocksForLevel(t),y=E.getTotalCodewords()-F.getTotalECCodewords();this.terminateBits(y,C);const v=this.interleaveWithECBytes(C,E.getTotalCodewords(),y,F.getNumBlocks()),_=new Gt;_.setECLevel(t),_.setMode(a),_.setVersion(E);const H=E.getDimensionForVersion(),X=new m0(H,H),$=this.chooseMaskPattern(v,t,E,X);return _.setMaskPattern($),Ee.buildMatrix(v,t,E,$,X),_.setMatrix(X),_}static recommendVersion(e,t,r,x){const o=this.calculateBitsNeeded(t,r,x,ue.getVersionForNumber(1)),a=this.chooseVersion(o,e),l=this.calculateBitsNeeded(t,r,x,a);return this.chooseVersion(l,e)}static calculateBitsNeeded(e,t,r,x){return t.getSize()+e.getCharacterCountBits(x)+r.getSize()}static getAlphanumericCode(e){return e<He.ALPHANUMERIC_TABLE.length?He.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(P.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return de.KANJI;let r=!1,x=!1;for(let o=0,a=e.length;o<a;++o){const l=e.charAt(o);if(He.isDigit(l))r=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)x=!0;else return de.BYTE}return x?de.ALPHANUMERIC:r?de.NUMERIC:de.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=ne.encode(e,P.SJIS)}catch{return!1}const r=t.length;if(r%2!==0)return!1;for(let x=0;x<r;x+=2){const o=t[x]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(e,t,r,x){let o=Number.MAX_SAFE_INTEGER,a=-1;for(let l=0;l<Gt.NUM_MASK_PATTERNS;l++){Ee.buildMatrix(e,t,r,l,x);let u=this.calculateMaskPenalty(x);u<o&&(o=u,a=l)}return a}static chooseVersion(e,t){for(let r=1;r<=40;r++){const x=ue.getVersionForNumber(r);if(He.willFit(e,x,t))return x}throw new Pe("Data too big")}static willFit(e,t,r){const x=t.getTotalCodewords(),a=t.getECBlocksForLevel(r).getTotalECCodewords(),l=x-a,u=(e+7)/8;return l>=u}static terminateBits(e,t){const r=e*8;if(t.getSize()>r)throw new Pe("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(let a=0;a<4&&t.getSize()<r;++a)t.appendBit(!1);const x=t.getSize()&7;if(x>0)for(let a=x;a<8;a++)t.appendBit(!1);const o=e-t.getSizeInBytes();for(let a=0;a<o;++a)t.appendBits((a&1)===0?236:17,8);if(t.getSize()!==r)throw new Pe("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,r,x,o,a){if(x>=r)throw new Pe("Block ID too large");const l=e%r,u=r-l,E=Math.floor(e/r),C=E+1,B=Math.floor(t/r),F=B+1,y=E-B,v=C-F;if(y!==v)throw new Pe("EC bytes mismatch");if(r!==u+l)throw new Pe("RS blocks mismatch");if(e!==(B+y)*u+(F+v)*l)throw new Pe("Total bytes mismatch");x<u?(o[0]=B,a[0]=y):(o[0]=F,a[0]=v)}static interleaveWithECBytes(e,t,r,x){if(e.getSizeInBytes()!==r)throw new Pe("Number of bits and data bytes does not match");let o=0,a=0,l=0;const u=new Array;for(let C=0;C<x;++C){const B=new Int32Array(1),F=new Int32Array(1);He.getNumDataBytesAndNumECBytesForBlockID(t,r,x,C,B,F);const y=B[0],v=new Uint8Array(y);e.toBytes(8*o,v,0,y);const _=He.generateECBytes(v,F[0]);u.push(new _r(v,_)),a=Math.max(a,y),l=Math.max(l,_.length),o+=B[0]}if(r!==o)throw new Pe("Data bytes does not match offset");const E=new S;for(let C=0;C<a;++C)for(const B of u){const F=B.getDataBytes();C<F.length&&E.appendBits(F[C],8)}for(let C=0;C<l;++C)for(const B of u){const F=B.getErrorCorrectionBytes();C<F.length&&E.appendBits(F[C],8)}if(t!==E.getSizeInBytes())throw new Pe("Interleaving error: "+t+" and "+E.getSizeInBytes()+" differ.");return E}static generateECBytes(e,t){const r=e.length,x=new Int32Array(r+t);for(let a=0;a<r;a++)x[a]=e[a]&255;new M0(we.QR_CODE_FIELD_256).encode(x,t);const o=new Uint8Array(t);for(let a=0;a<t;a++)o[a]=x[r+a];return o}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,r,x){const o=r.getCharacterCountBits(t);if(e>=1<<o)throw new Pe(e+" is bigger than "+((1<<o)-1));x.appendBits(e,o)}static appendBytes(e,t,r,x){switch(t){case de.NUMERIC:He.appendNumericBytes(e,r);break;case de.ALPHANUMERIC:He.appendAlphanumericBytes(e,r);break;case de.BYTE:He.append8BitBytes(e,r,x);break;case de.KANJI:He.appendKanjiBytes(e,r);break;default:throw new Pe("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=He.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const r=e.length;let x=0;for(;x<r;){const o=He.getDigit(e.charAt(x));if(x+2<r){const a=He.getDigit(e.charAt(x+1)),l=He.getDigit(e.charAt(x+2));t.appendBits(o*100+a*10+l,10),x+=3}else if(x+1<r){const a=He.getDigit(e.charAt(x+1));t.appendBits(o*10+a,7),x+=2}else t.appendBits(o,4),x++}}static appendAlphanumericBytes(e,t){const r=e.length;let x=0;for(;x<r;){const o=He.getAlphanumericCode(e.charCodeAt(x));if(o===-1)throw new Pe;if(x+1<r){const a=He.getAlphanumericCode(e.charCodeAt(x+1));if(a===-1)throw new Pe;t.appendBits(o*45+a,11),x+=2}else t.appendBits(o,6),x++}}static append8BitBytes(e,t,r){let x;try{x=ne.encode(e,r)}catch(o){throw new Pe(o)}for(let o=0,a=x.length;o!==a;o++){const l=x[o];t.appendBits(l,8)}}static appendKanjiBytes(e,t){let r;try{r=ne.encode(e,P.SJIS)}catch(o){throw new Pe(o)}const x=r.length;for(let o=0;o<x;o+=2){const a=r[o]&255,l=r[o+1]&255,u=a<<8&4294967295|l;let E=-1;if(u>=33088&&u<=40956?E=u-33088:u>=57408&&u<=60351&&(E=u-49472),E===-1)throw new Pe("Invalid byte sequence");const C=(E>>8)*192+(E&255);t.appendBits(C,13)}}static appendECI(e,t){t.appendBits(de.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}He.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),He.DEFAULT_BYTE_MODE_ENCODING=P.UTF8.getName();class zt{write(e,t,r,x=null){if(e.length===0)throw new w("Found empty contents");if(t<0||r<0)throw new w("Requested dimensions are too small: "+t+"x"+r);let o=Le.L,a=zt.QUIET_ZONE_SIZE;x!==null&&(x.get(Ke.ERROR_CORRECTION)!==void 0&&(o=Le.fromString(x.get(Ke.ERROR_CORRECTION).toString())),x.get(Ke.MARGIN)!==void 0&&(a=Number.parseInt(x.get(Ke.MARGIN).toString(),10)));const l=He.encode(e,o,x);return this.renderResult(l,t,r,a)}writeToDom(e,t,r,x,o=null){typeof e=="string"&&(e=document.querySelector(e));const a=this.write(t,r,x,o);e&&e.appendChild(a)}renderResult(e,t,r,x){const o=e.getMatrix();if(o===null)throw new Je;const a=o.getWidth(),l=o.getHeight(),u=a+x*2,E=l+x*2,C=Math.max(t,u),B=Math.max(r,E),F=Math.min(Math.floor(C/u),Math.floor(B/E)),y=Math.floor((C-a*F)/2),v=Math.floor((B-l*F)/2),_=this.createSVGElement(C,B);for(let H=0,X=v;H<l;H++,X+=F)for(let $=0,ee=y;$<a;$++,ee+=F)if(o.get($,H)===1){const K=this.createSvgRectElement(ee,X,F,F);_.appendChild(K)}return _}createSVGElement(e,t){const r=document.createElementNS(zt.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",t.toString()),r}createSvgRectElement(e,t,r,x){const o=document.createElementNS(zt.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",t.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",x.toString()),o.setAttributeNS(null,"fill","#000000"),o}}zt.QUIET_ZONE_SIZE=4,zt.SVG_NS="http://www.w3.org/2000/svg";class Jt{encode(e,t,r,x,o){if(e.length===0)throw new w("Found empty contents");if(t!==J.QR_CODE)throw new w("Can only encode QR_CODE, but got "+t);if(r<0||x<0)throw new w(`Requested dimensions are too small: ${r}x${x}`);let a=Le.L,l=Jt.QUIET_ZONE_SIZE;o!==null&&(o.get(Ke.ERROR_CORRECTION)!==void 0&&(a=Le.fromString(o.get(Ke.ERROR_CORRECTION).toString())),o.get(Ke.MARGIN)!==void 0&&(l=Number.parseInt(o.get(Ke.MARGIN).toString(),10)));const u=He.encode(e,a,o);return Jt.renderResult(u,r,x,l)}static renderResult(e,t,r,x){const o=e.getMatrix();if(o===null)throw new Je;const a=o.getWidth(),l=o.getHeight(),u=a+x*2,E=l+x*2,C=Math.max(t,u),B=Math.max(r,E),F=Math.min(Math.floor(C/u),Math.floor(B/E)),y=Math.floor((C-a*F)/2),v=Math.floor((B-l*F)/2),_=new oe(C,B);for(let H=0,X=v;H<l;H++,X+=F)for(let $=0,ee=y;$<a;$++,ee+=F)o.get($,H)===1&&_.setRegion(ee,X,F,F);return _}}Jt.QUIET_ZONE_SIZE=4;class Tr{encode(e,t,r,x,o){let a;switch(t){case J.QR_CODE:a=new Jt;break;default:throw new w("No encoder available for format "+t)}return a.encode(e,t,r,x,o)}}class St extends De{constructor(e,t,r,x,o,a,l,u){if(super(a,l),this.yuvData=e,this.dataWidth=t,this.dataHeight=r,this.left=x,this.top=o,x+a>t||o+l>r)throw new w("Crop rectangle does not fit within image data.");u&&this.reverseHorizontal(a,l)}getRow(e,t){if(e<0||e>=this.getHeight())throw new w("Requested row is outside the image: "+e);const r=this.getWidth();(t==null||t.length<r)&&(t=new Uint8ClampedArray(r));const x=(e+this.top)*this.dataWidth+this.left;return G.arraycopy(this.yuvData,x,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const r=e*t,x=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return G.arraycopy(this.yuvData,o,x,0,r),x;for(let a=0;a<t;a++){const l=a*e;G.arraycopy(this.yuvData,o,x,l,e),o+=this.dataWidth}return x}isCropSupported(){return!0}crop(e,t,r,x){return new St(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,r,x,!1)}renderThumbnail(){const e=this.getWidth()/St.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/St.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*t),x=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let a=0;a<t;a++){const l=a*e;for(let u=0;u<e;u++){const E=x[o+u*St.THUMBNAIL_SCALE_FACTOR]&255;r[l+u]=4278190080|E*65793}o+=this.dataWidth*St.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/St.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/St.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const r=this.yuvData;for(let x=0,o=this.top*this.dataWidth+this.left;x<t;x++,o+=this.dataWidth){const a=o+e/2;for(let l=o,u=o+e-1;l<a;l++,u--){const E=r[l];r[l]=r[u],r[u]=E}}}invert(){return new be(this)}}St.THUMBNAIL_SCALE_FACTOR=2;class L0 extends De{constructor(e,t,r,x,o,a,l){if(super(t,r),this.dataWidth=x,this.dataHeight=o,this.left=a,this.top=l,e.BYTES_PER_ELEMENT===4){const u=t*r,E=new Uint8ClampedArray(u);for(let C=0;C<u;C++){const B=e[C],F=B>>16&255,y=B>>7&510,v=B&255;E[C]=(F+y+v)/4&255}this.luminances=E}else this.luminances=e;if(x===void 0&&(this.dataWidth=t),o===void 0&&(this.dataHeight=r),a===void 0&&(this.left=0),l===void 0&&(this.top=0),this.left+t>this.dataWidth||this.top+r>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new w("Requested row is outside the image: "+e);const r=this.getWidth();(t==null||t.length<r)&&(t=new Uint8ClampedArray(r));const x=(e+this.top)*this.dataWidth+this.left;return G.arraycopy(this.luminances,x,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const r=e*t,x=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return G.arraycopy(this.luminances,o,x,0,r),x;for(let a=0;a<t;a++){const l=a*e;G.arraycopy(this.luminances,o,x,l,e),o+=this.dataWidth}return x}isCropSupported(){return!0}crop(e,t,r,x){return new L0(this.luminances,r,x,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new be(this)}}class xr extends P{static forName(e){return this.getCharacterSetECIByName(e)}}class H0{}H0.ISO_8859_1=P.ISO8859_1;class ir{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class or{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class kr{constructor(e){this.previous=e}getPrevious(){return this.previous}}class $t extends kr{constructor(e,t,r){super(e),this.value=t,this.bitCount=r}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new $t(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new $t(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+k.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class U0 extends $t{constructor(e,t,r){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=r}appendTo(e,t){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+r],8)}addBinaryShift(e,t){return new U0(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Or(g,e,t){return new U0(g,e,t)}function l0(g,e,t){return new $t(g,e,t)}const Rr=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Lt=0,D0=1,Bt=2,sr=3,vt=4,Nr=new $t(null,0,0),V0=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Pr(g){for(let e of g)Y.fill(e,-1);return g[Lt][vt]=0,g[D0][vt]=0,g[D0][Lt]=28,g[sr][vt]=0,g[Bt][vt]=0,g[Bt][Lt]=15,g}const ar=Pr(Y.createInt32Array(6,6));class _t{constructor(e,t,r,x){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=x}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let r=this.bitCount,x=this.token;if(e!==this.mode){let a=V0[this.mode][e];x=l0(x,a&65535,a>>16),r+=a>>16}let o=e===Bt?4:5;return x=l0(x,t,o),new _t(x,e,0,r+o)}shiftAndAppend(e,t){let r=this.token,x=this.mode===Bt?4:5;return r=l0(r,ar[this.mode][e],x),r=l0(r,t,5),new _t(r,this.mode,0,this.bitCount+x+5)}addBinaryShiftChar(e){let t=this.token,r=this.mode,x=this.bitCount;if(this.mode===vt||this.mode===Bt){let l=V0[r][Lt];t=l0(t,l&65535,l>>16),x+=l>>16,r=Lt}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new _t(t,r,this.binaryShiftByteCount+1,x+o);return a.binaryShiftByteCount===2078&&(a=a.endBinaryShift(e+1)),a}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let t=this.token;return t=Or(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new _t(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(V0[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=_t.calculateBinaryShiftCost(e)-_t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let x=this.endBinaryShift(e.length).token;x!==null;x=x.getPrevious())t.unshift(x);let r=new S;for(const x of t)x.appendTo(r,e);return r}toString(){return q.format("%s bits=%d bytes=%d",Rr[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}_t.INITIAL_STATE=new _t(Nr,Lt,0,0);function Mr(g){const e=q.getCharCode(" "),t=q.getCharCode("."),r=q.getCharCode(",");g[Lt][e]=1;const x=q.getCharCode("Z"),o=q.getCharCode("A");for(let F=o;F<=x;F++)g[Lt][F]=F-o+2;g[D0][e]=1;const a=q.getCharCode("z"),l=q.getCharCode("a");for(let F=l;F<=a;F++)g[D0][F]=F-l+2;g[Bt][e]=1;const u=q.getCharCode("9"),E=q.getCharCode("0");for(let F=E;F<=u;F++)g[Bt][F]=F-E+2;g[Bt][r]=12,g[Bt][t]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let F=0;F<C.length;F++)g[sr][q.getCharCode(C[F])]=F;const B=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let F=0;F<B.length;F++)q.getCharCode(B[F])>0&&(g[vt][q.getCharCode(B[F])]=F);return g}const W0=Mr(Y.createInt32Array(5,256));class c0{constructor(e){this.text=e}encode(){const e=q.getCharCode(" "),t=q.getCharCode(`
`);let r=or.singletonList(_t.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let a,l=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case q.getCharCode("\r"):a=l===t?2:0;break;case q.getCharCode("."):a=l===e?3:0;break;case q.getCharCode(","):a=l===e?4:0;break;case q.getCharCode(":"):a=l===e?5:0;break;default:a=0}a>0?(r=c0.updateStateListForPair(r,o,a),o++):r=this.updateStateListForChar(r,o)}return or.min(r,(o,a)=>o.getBitCount()-a.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const r=[];for(let x of e)this.updateStateForChar(x,t,r);return c0.simplifyStates(r)}updateStateForChar(e,t,r){let x=this.text[t]&255,o=W0[e.getMode()][x]>0,a=null;for(let l=0;l<=vt;l++){let u=W0[l][x];if(u>0){if(a==null&&(a=e.endBinaryShift(t)),!o||l===e.getMode()||l===Bt){const E=a.latchAndAppend(l,u);r.push(E)}if(!o&&ar[e.getMode()][l]>=0){const E=a.shiftAndAppend(l,u);r.push(E)}}}if(e.getBinaryShiftByteCount()>0||W0[e.getMode()][x]===0){let l=e.addBinaryShiftChar(t);r.push(l)}}static updateStateListForPair(e,t,r){const x=[];for(let o of e)this.updateStateForPair(o,t,r,x);return this.simplifyStates(x)}static updateStateForPair(e,t,r,x){let o=e.endBinaryShift(t);if(x.push(o.latchAndAppend(vt,r)),e.getMode()!==vt&&x.push(o.shiftAndAppend(vt,r)),r===3||r===4){let a=o.latchAndAppend(Bt,16-r).latchAndAppend(Bt,1);x.push(a)}if(e.getBinaryShiftByteCount()>0){let a=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);x.push(a)}}static simplifyStates(e){let t=[];for(const r of e){let x=!0;for(const o of t){if(o.isBetterThanOrEqualTo(r)){x=!1;break}r.isBetterThanOrEqualTo(o)&&(t=t.filter(a=>a!==o))}x&&t.push(r)}return t}}class Se{constructor(){}static encodeBytes(e){return Se.encode(e,Se.DEFAULT_EC_PERCENT,Se.DEFAULT_AZTEC_LAYERS)}static encode(e,t,r){let x=new c0(e).encode(),o=k.truncDivision(x.getSize()*t,100)+11,a=x.getSize()+o,l,u,E,C,B;if(r!==Se.DEFAULT_AZTEC_LAYERS){if(l=r<0,u=Math.abs(r),u>(l?Se.MAX_NB_BITS_COMPACT:Se.MAX_NB_BITS))throw new w(q.format("Illegal value %s for layers",r));E=Se.totalBitsInLayer(u,l),C=Se.WORD_SIZE[u];let K=E-E%C;if(B=Se.stuffBits(x,C),B.getSize()+o>K)throw new w("Data to large for user specified layer");if(l&&B.getSize()>C*64)throw new w("Data to large for user specified layer")}else{C=0,B=null;for(let K=0;;K++){if(K>Se.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(l=K<=3,u=l?K+1:K,E=Se.totalBitsInLayer(u,l),a>E)continue;(B==null||C!==Se.WORD_SIZE[u])&&(C=Se.WORD_SIZE[u],B=Se.stuffBits(x,C));let pe=E-E%C;if(!(l&&B.getSize()>C*64)&&B.getSize()+o<=pe)break}}let F=Se.generateCheckWords(B,E,C),y=B.getSize()/C,v=Se.generateModeMessage(l,u,y),_=(l?11:14)+u*4,H=new Int32Array(_),X;if(l){X=_;for(let K=0;K<H.length;K++)H[K]=K}else{X=_+1+2*k.truncDivision(k.truncDivision(_,2)-1,15);let K=k.truncDivision(_,2),pe=k.truncDivision(X,2);for(let Ae=0;Ae<K;Ae++){let ft=Ae+k.truncDivision(Ae,15);H[K-Ae-1]=pe-ft-1,H[K+Ae]=pe+ft+1}}let $=new oe(X);for(let K=0,pe=0;K<u;K++){let Ae=(u-K)*4+(l?9:12);for(let ft=0;ft<Ae;ft++){let pt=ft*2;for(let dt=0;dt<2;dt++)F.get(pe+pt+dt)&&$.set(H[K*2+dt],H[K*2+ft]),F.get(pe+Ae*2+pt+dt)&&$.set(H[K*2+ft],H[_-1-K*2-dt]),F.get(pe+Ae*4+pt+dt)&&$.set(H[_-1-K*2-dt],H[_-1-K*2-ft]),F.get(pe+Ae*6+pt+dt)&&$.set(H[_-1-K*2-ft],H[K*2+dt])}pe+=Ae*8}if(Se.drawModeMessage($,l,X,v),l)Se.drawBullsEye($,k.truncDivision(X,2),5);else{Se.drawBullsEye($,k.truncDivision(X,2),7);for(let K=0,pe=0;K<k.truncDivision(_,2)-1;K+=15,pe+=16)for(let Ae=k.truncDivision(X,2)&1;Ae<X;Ae+=2)$.set(k.truncDivision(X,2)-pe,Ae),$.set(k.truncDivision(X,2)+pe,Ae),$.set(Ae,k.truncDivision(X,2)-pe),$.set(Ae,k.truncDivision(X,2)+pe)}let ee=new ir;return ee.setCompact(l),ee.setSize(X),ee.setLayers(u),ee.setCodeWords(y),ee.setMatrix($),ee}static drawBullsEye(e,t,r){for(let x=0;x<r;x+=2)for(let o=t-x;o<=t+x;o++)e.set(o,t-x),e.set(o,t+x),e.set(t-x,o),e.set(t+x,o);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)}static generateModeMessage(e,t,r){let x=new S;return e?(x.appendBits(t-1,2),x.appendBits(r-1,6),x=Se.generateCheckWords(x,28,4)):(x.appendBits(t-1,5),x.appendBits(r-1,11),x=Se.generateCheckWords(x,40,4)),x}static drawModeMessage(e,t,r,x){let o=k.truncDivision(r,2);if(t)for(let a=0;a<7;a++){let l=o-3+a;x.get(a)&&e.set(l,o-5),x.get(a+7)&&e.set(o+5,l),x.get(20-a)&&e.set(l,o+5),x.get(27-a)&&e.set(o-5,l)}else for(let a=0;a<10;a++){let l=o-5+a+k.truncDivision(a,5);x.get(a)&&e.set(l,o-7),x.get(a+10)&&e.set(o+7,l),x.get(29-a)&&e.set(l,o+7),x.get(39-a)&&e.set(o-7,l)}}static generateCheckWords(e,t,r){let x=e.getSize()/r,o=new M0(Se.getGF(r)),a=k.truncDivision(t,r),l=Se.bitsToWords(e,r,a);o.encode(l,a-x);let u=t%r,E=new S;E.appendBits(0,u);for(const C of Array.from(l))E.appendBits(C,r);return E}static bitsToWords(e,t,r){let x=new Int32Array(r),o,a;for(o=0,a=e.getSize()/t;o<a;o++){let l=0;for(let u=0;u<t;u++)l|=e.get(o*t+u)?1<<t-u-1:0;x[o]=l}return x}static getGF(e){switch(e){case 4:return we.AZTEC_PARAM;case 6:return we.AZTEC_DATA_6;case 8:return we.AZTEC_DATA_8;case 10:return we.AZTEC_DATA_10;case 12:return we.AZTEC_DATA_12;default:throw new w("Unsupported word size "+e)}}static stuffBits(e,t){let r=new S,x=e.getSize(),o=(1<<t)-2;for(let a=0;a<x;a+=t){let l=0;for(let u=0;u<t;u++)(a+u>=x||e.get(a+u))&&(l|=1<<t-1-u);(l&o)===o?(r.appendBits(l&o,t),a--):(l&o)===0?(r.appendBits(l|1,t),a--):r.appendBits(l,t)}return r}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}Se.DEFAULT_EC_PERCENT=33,Se.DEFAULT_AZTEC_LAYERS=0,Se.MAX_NB_BITS=32,Se.MAX_NB_BITS_COMPACT=4,Se.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class F0{encode(e,t,r,x){return this.encodeWithHints(e,t,r,x,null)}encodeWithHints(e,t,r,x,o){let a=H0.ISO_8859_1,l=Se.DEFAULT_EC_PERCENT,u=Se.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(Ke.CHARACTER_SET)&&(a=xr.forName(o.get(Ke.CHARACTER_SET).toString())),o.has(Ke.ERROR_CORRECTION)&&(l=k.parseInt(o.get(Ke.ERROR_CORRECTION).toString())),o.has(Ke.AZTEC_LAYERS)&&(u=k.parseInt(o.get(Ke.AZTEC_LAYERS).toString()))),F0.encodeLayers(e,t,r,x,a,l,u)}static encodeLayers(e,t,r,x,o,a,l){if(t!==J.AZTEC)throw new w("Can only encode AZTEC, but got "+t);let u=Se.encode(q.getBytes(e,o),a,l);return F0.renderResult(u,r,x)}static renderResult(e,t,r){let x=e.getMatrix();if(x==null)throw new Je;let o=x.getWidth(),a=x.getHeight(),l=Math.max(t,o),u=Math.max(r,a),E=Math.min(l/o,u/a),C=(l-o*E)/2,B=(u-a*E)/2,F=new oe(l,u);for(let y=0,v=B;y<a;y++,v+=E)for(let _=0,H=C;_<o;_++,H+=E)x.get(_,y)&&F.setRegion(H,v,E,E);return F}}s.AbstractExpandedDecoder=I0,s.ArgumentException=p,s.ArithmeticException=jt,s.AztecCode=ir,s.AztecCodeReader=d0,s.AztecCodeWriter=F0,s.AztecDecoder=ve,s.AztecDetector=z0,s.AztecDetectorResult=X0,s.AztecEncoder=Se,s.AztecHighLevelEncoder=c0,s.AztecPoint=st,s.BarcodeFormat=J,s.Binarizer=N,s.BinaryBitmap=T,s.BitArray=S,s.BitMatrix=oe,s.BitSource=T0,s.BrowserAztecCodeReader=lr,s.BrowserBarcodeReader=Er,s.BrowserCodeReader=Oe,s.BrowserDatamatrixCodeReader=Cr,s.BrowserMultiFormatReader=Ir,s.BrowserPDF417Reader=Sr,s.BrowserQRCodeReader=vr,s.BrowserQRCodeSvgWriter=zt,s.CharacterSetECI=P,s.ChecksumException=L,s.Code128Reader=re,s.Code39Reader=Qe,s.DataMatrixDecodedBitStreamParser=Rt,s.DataMatrixReader=Nt,s.DecodeHintType=M,s.DecoderResult=xt,s.DefaultGridSampler=G0,s.DetectorResult=f0,s.EAN13Reader=Ut,s.EncodeHintType=Ke,s.Exception=A,s.FormatException=I,s.GenericGF=we,s.GenericGFPoly=je,s.GlobalHistogramBinarizer=ce,s.GridSampler=w0,s.GridSamplerInstance=kt,s.HTMLCanvasElementLuminanceSource=Fe,s.HybridBinarizer=Z,s.ITFReader=Ne,s.IllegalArgumentException=w,s.IllegalStateException=Je,s.InvertedLuminanceSource=be,s.LuminanceSource=De,s.MathUtils=Ce,s.MultiFormatOneDReader=Zt,s.MultiFormatReader=nr,s.MultiFormatWriter=Tr,s.NotFoundException=O,s.OneDReader=qe,s.PDF417DecodedBitStreamParser=W,s.PDF417DecoderErrorCorrection=K0,s.PDF417Reader=rt,s.PDF417ResultMetadata=$0,s.PerspectiveTransform=Ft,s.PlanarYUVLuminanceSource=St,s.QRCodeByteMatrix=m0,s.QRCodeDataMask=At,s.QRCodeDecodedBitStreamParser=Ve,s.QRCodeDecoderErrorCorrectionLevel=Le,s.QRCodeDecoderFormatInformation=ot,s.QRCodeEncoder=He,s.QRCodeEncoderQRCode=Gt,s.QRCodeMaskUtil=ze,s.QRCodeMatrixUtil=Ee,s.QRCodeMode=de,s.QRCodeReader=Pt,s.QRCodeVersion=ue,s.QRCodeWriter=Jt,s.RGBLuminanceSource=L0,s.RSS14Reader=Ge,s.RSSExpandedReader=Q,s.ReaderException=B0,s.ReedSolomonDecoder=Dt,s.ReedSolomonEncoder=M0,s.ReedSolomonException=ht,s.Result=le,s.ResultMetadataType=Ie,s.ResultPoint=ie,s.StringUtils=q,s.UnsupportedOperationException=xe,s.VideoInputDevice=ae,s.WhiteRectangleDetector=Tt,s.WriterException=Pe,s.ZXingArrays=Y,s.ZXingCharset=xr,s.ZXingInteger=k,s.ZXingStandardCharsets=H0,s.ZXingStringBuilder=te,s.ZXingStringEncoding=ne,s.ZXingSystem=G,s.createAbstractExpandedDecoder=Q0,Object.defineProperty(s,"__esModule",{value:!0})}))})(zxingJs_umd$2,zxingJs_umd$2.exports)),zxingJs_umd$2.exports}var zxingJs_umdExports=requireZxingJs_umd();const zxingJs_umd=getDefaultExportFromCjs(zxingJs_umdExports),ZXing=_mergeNamespaces({__proto__:null,default:zxingJs_umd},[zxingJs_umdExports]);var ZXingHtml5QrcodeDecoder=(function(){function n(i,s,c){if(this.formatMap=new Map([[Html5QrcodeSupportedFormats.QR_CODE,zxingJs_umdExports.BarcodeFormat.QR_CODE],[Html5QrcodeSupportedFormats.AZTEC,zxingJs_umdExports.BarcodeFormat.AZTEC],[Html5QrcodeSupportedFormats.CODABAR,zxingJs_umdExports.BarcodeFormat.CODABAR],[Html5QrcodeSupportedFormats.CODE_39,zxingJs_umdExports.BarcodeFormat.CODE_39],[Html5QrcodeSupportedFormats.CODE_93,zxingJs_umdExports.BarcodeFormat.CODE_93],[Html5QrcodeSupportedFormats.CODE_128,zxingJs_umdExports.BarcodeFormat.CODE_128],[Html5QrcodeSupportedFormats.DATA_MATRIX,zxingJs_umdExports.BarcodeFormat.DATA_MATRIX],[Html5QrcodeSupportedFormats.MAXICODE,zxingJs_umdExports.BarcodeFormat.MAXICODE],[Html5QrcodeSupportedFormats.ITF,zxingJs_umdExports.BarcodeFormat.ITF],[Html5QrcodeSupportedFormats.EAN_13,zxingJs_umdExports.BarcodeFormat.EAN_13],[Html5QrcodeSupportedFormats.EAN_8,zxingJs_umdExports.BarcodeFormat.EAN_8],[Html5QrcodeSupportedFormats.PDF_417,zxingJs_umdExports.BarcodeFormat.PDF_417],[Html5QrcodeSupportedFormats.RSS_14,zxingJs_umdExports.BarcodeFormat.RSS_14],[Html5QrcodeSupportedFormats.RSS_EXPANDED,zxingJs_umdExports.BarcodeFormat.RSS_EXPANDED],[Html5QrcodeSupportedFormats.UPC_A,zxingJs_umdExports.BarcodeFormat.UPC_A],[Html5QrcodeSupportedFormats.UPC_E,zxingJs_umdExports.BarcodeFormat.UPC_E],[Html5QrcodeSupportedFormats.UPC_EAN_EXTENSION,zxingJs_umdExports.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ZXing)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=c;var f=this.createZXingFormats(i),d=new Map;d.set(zxingJs_umdExports.DecodeHintType.POSSIBLE_FORMATS,f),d.set(zxingJs_umdExports.DecodeHintType.TRY_HARDER,!1),this.hints=d}return n.prototype.decodeAsync=function(i){var s=this;return new Promise(function(c,f){try{c(s.decode(i))}catch(d){f(d)}})},n.prototype.decode=function(i){var s=new zxingJs_umdExports.MultiFormatReader(this.verbose,this.hints),c=new zxingJs_umdExports.HTMLCanvasElementLuminanceSource(i),f=new zxingJs_umdExports.BinaryBitmap(new zxingJs_umdExports.HybridBinarizer(c)),d=s.decode(f);return{text:d.text,format:QrcodeResultFormat.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},n.prototype.createReverseFormatMap=function(){var i=new Map;return this.formatMap.forEach(function(s,c,f){i.set(s,c)}),i},n.prototype.toHtml5QrcodeSupportedFormats=function(i){if(!this.reverseFormatMap.has(i))throw"reverseFormatMap doesn't have ".concat(i);return this.reverseFormatMap.get(i)},n.prototype.createZXingFormats=function(i){for(var s=[],c=0,f=i;c<f.length;c++){var d=f[c];this.formatMap.has(d)?s.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return s},n.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},n})(),__awaiter$4=function(n,i,s,c){function f(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function m(p){try{A(c.next(p))}catch(w){h(w)}}function D(p){try{A(c.throw(p))}catch(w){h(w)}}function A(p){p.done?d(p.value):f(p.value).then(m,D)}A((c=c.apply(n,i||[])).next())})},__generator$4=function(n,i){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},c,f,d,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(A){return function(p){return D([A,p])}}function D(A){if(c)throw new TypeError("Generator is already executing.");for(;h&&(h=0,A[0]&&(s=0)),s;)try{if(c=1,f&&(d=A[0]&2?f.return:A[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,A[1])).done)return d;switch(f=0,d&&(A=[A[0]&2,d.value]),A[0]){case 0:case 1:d=A;break;case 4:return s.label++,{value:A[1],done:!1};case 5:s.label++,f=A[1],A=[0];continue;case 7:A=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(A[0]===6||A[0]===2)){s=0;continue}if(A[0]===3&&(!d||A[1]>d[0]&&A[1]<d[3])){s.label=A[1];break}if(A[0]===6&&s.label<d[1]){s.label=d[1],d=A;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(A);break}d[2]&&s.ops.pop(),s.trys.pop();continue}A=i.call(n,s)}catch(p){A=[6,p],f=0}finally{c=d=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},BarcodeDetectorDelegate=(function(){function n(i,s,c){if(this.formatMap=new Map([[Html5QrcodeSupportedFormats.QR_CODE,"qr_code"],[Html5QrcodeSupportedFormats.AZTEC,"aztec"],[Html5QrcodeSupportedFormats.CODABAR,"codabar"],[Html5QrcodeSupportedFormats.CODE_39,"code_39"],[Html5QrcodeSupportedFormats.CODE_93,"code_93"],[Html5QrcodeSupportedFormats.CODE_128,"code_128"],[Html5QrcodeSupportedFormats.DATA_MATRIX,"data_matrix"],[Html5QrcodeSupportedFormats.ITF,"itf"],[Html5QrcodeSupportedFormats.EAN_13,"ean_13"],[Html5QrcodeSupportedFormats.EAN_8,"ean_8"],[Html5QrcodeSupportedFormats.PDF_417,"pdf417"],[Html5QrcodeSupportedFormats.UPC_A,"upc_a"],[Html5QrcodeSupportedFormats.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=c;var f=this.createBarcodeDetectorFormats(i);if(this.detector=new BarcodeDetector(f),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var i=new BarcodeDetector({formats:["qr_code"]});return typeof i<"u"},n.prototype.decodeAsync=function(i){return __awaiter$4(this,void 0,void 0,function(){var s,c;return __generator$4(this,function(f){switch(f.label){case 0:return[4,this.detector.detect(i)];case 1:if(s=f.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return c=this.selectLargestBarcode(s),[2,{text:c.rawValue,format:QrcodeResultFormat.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}]}})})},n.prototype.selectLargestBarcode=function(i){for(var s=null,c=0,f=0,d=i;f<d.length;f++){var h=d[f],m=h.boundingBox.width*h.boundingBox.height;m>c&&(c=m,s=h)}if(!s)throw"No largest barcode found";return s},n.prototype.createBarcodeDetectorFormats=function(i){for(var s=[],c=0,f=i;c<f.length;c++){var d=f[c];this.formatMap.has(d)?s.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},n.prototype.toHtml5QrcodeSupportedFormats=function(i){if(!this.reverseFormatMap.has(i))throw"reverseFormatMap doesn't have ".concat(i);return this.reverseFormatMap.get(i)},n.prototype.createReverseFormatMap=function(){var i=new Map;return this.formatMap.forEach(function(s,c,f){i.set(s,c)}),i},n.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},n})(),__awaiter$3=function(n,i,s,c){function f(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function m(p){try{A(c.next(p))}catch(w){h(w)}}function D(p){try{A(c.throw(p))}catch(w){h(w)}}function A(p){p.done?d(p.value):f(p.value).then(m,D)}A((c=c.apply(n,i||[])).next())})},__generator$3=function(n,i){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},c,f,d,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(A){return function(p){return D([A,p])}}function D(A){if(c)throw new TypeError("Generator is already executing.");for(;h&&(h=0,A[0]&&(s=0)),s;)try{if(c=1,f&&(d=A[0]&2?f.return:A[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,A[1])).done)return d;switch(f=0,d&&(A=[A[0]&2,d.value]),A[0]){case 0:case 1:d=A;break;case 4:return s.label++,{value:A[1],done:!1};case 5:s.label++,f=A[1],A=[0];continue;case 7:A=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(A[0]===6||A[0]===2)){s=0;continue}if(A[0]===3&&(!d||A[1]>d[0]&&A[1]<d[3])){s.label=A[1];break}if(A[0]===6&&s.label<d[1]){s.label=d[1],d=A;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(A);break}d[2]&&s.ops.pop(),s.trys.pop();continue}A=i.call(n,s)}catch(p){A=[6,p],f=0}finally{c=d=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},Html5QrcodeShim=(function(){function n(i,s,c,f){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=c,s&&BarcodeDetectorDelegate.isSupported()?(this.primaryDecoder=new BarcodeDetectorDelegate(i,c,f),this.secondaryDecoder=new ZXingHtml5QrcodeDecoder(i,c,f)):this.primaryDecoder=new ZXingHtml5QrcodeDecoder(i,c,f)}return n.prototype.decodeAsync=function(i){return __awaiter$3(this,void 0,void 0,function(){var s;return __generator$3(this,function(c){switch(c.label){case 0:s=performance.now(),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(i)];case 2:return[2,c.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},n.prototype.decodeRobustlyAsync=function(i){return __awaiter$3(this,void 0,void 0,function(){var s,c;return __generator$3(this,function(f){switch(f.label){case 0:s=performance.now(),f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(i)];case 2:return[2,f.sent()];case 3:if(c=f.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(i)];throw c;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},n.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},n.prototype.possiblyLogPerformance=function(i){if(this.verbose){var s=performance.now()-i;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var i=0,s=0,c=this.executionResults;s<c.length;s++){var f=c[s];i+=f}var d=i/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},n})(),__extends$1=(function(){var n=function(i,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(c[d]=f[d])},n(i,s)};return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");n(i,s);function c(){this.constructor=i}i.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}})(),__awaiter$2=function(n,i,s,c){function f(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function m(p){try{A(c.next(p))}catch(w){h(w)}}function D(p){try{A(c.throw(p))}catch(w){h(w)}}function A(p){p.done?d(p.value):f(p.value).then(m,D)}A((c=c.apply(n,i||[])).next())})},__generator$2=function(n,i){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},c,f,d,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(A){return function(p){return D([A,p])}}function D(A){if(c)throw new TypeError("Generator is already executing.");for(;h&&(h=0,A[0]&&(s=0)),s;)try{if(c=1,f&&(d=A[0]&2?f.return:A[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,A[1])).done)return d;switch(f=0,d&&(A=[A[0]&2,d.value]),A[0]){case 0:case 1:d=A;break;case 4:return s.label++,{value:A[1],done:!1};case 5:s.label++,f=A[1],A=[0];continue;case 7:A=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(A[0]===6||A[0]===2)){s=0;continue}if(A[0]===3&&(!d||A[1]>d[0]&&A[1]<d[3])){s.label=A[1];break}if(A[0]===6&&s.label<d[1]){s.label=d[1],d=A;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(A);break}d[2]&&s.ops.pop(),s.trys.pop();continue}A=i.call(n,s)}catch(p){A=[6,p],f=0}finally{c=d=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},AbstractCameraCapability=(function(){function n(i,s){this.name=i,this.track=s}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(i){var s={};s[this.name]=i;var c={advanced:[s]};return this.track.applyConstraints(c)},n.prototype.value=function(){var i=this.track.getSettings();if(this.name in i){var s=i[this.name];return s}return null},n})(),AbstractRangeCameraCapability=(function(n){__extends$1(i,n);function i(s,c){return n.call(this,s,c)||this}return i.prototype.min=function(){return this.getCapabilities().min},i.prototype.max=function(){return this.getCapabilities().max},i.prototype.step=function(){return this.getCapabilities().step},i.prototype.apply=function(s){var c={};c[this.name]=s;var f={advanced:[c]};return this.track.applyConstraints(f)},i.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),c=s[this.name];return{min:c.min,max:c.max,step:c.step}},i.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},i})(AbstractCameraCapability),ZoomFeatureImpl=(function(n){__extends$1(i,n);function i(s){return n.call(this,"zoom",s)||this}return i})(AbstractRangeCameraCapability),TorchFeatureImpl=(function(n){__extends$1(i,n);function i(s){return n.call(this,"torch",s)||this}return i})(AbstractCameraCapability),CameraCapabilitiesImpl=(function(){function n(i){this.track=i}return n.prototype.zoomFeature=function(){return new ZoomFeatureImpl(this.track)},n.prototype.torchFeature=function(){return new TorchFeatureImpl(this.track)},n})(),RenderedCameraImpl=(function(){function n(i,s,c){this.isClosed=!1,this.parentElement=i,this.mediaStream=s,this.callbacks=c,this.surface=this.createVideoElement(this.parentElement.clientWidth),i.append(this.surface)}return n.prototype.createVideoElement=function(i){var s=document.createElement("video");return s.style.width="".concat(i,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},n.prototype.setupSurface=function(){var i=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var c=i.surface.clientWidth,f=i.surface.clientHeight;i.callbacks.onRenderSurfaceReady(c,f),i.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},n.create=function(i,s,c,f){return __awaiter$2(this,void 0,void 0,function(){var d,h;return __generator$2(this,function(m){switch(m.label){case 0:return d=new n(i,s,f),c.aspectRatio?(h={aspectRatio:c.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(h)]):[3,2];case 1:m.sent(),m.label=2;case 2:return d.setupSurface(),[2,d]}})})},n.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},n.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},n.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},n.prototype.resume=function(i){this.failIfClosed();var s=this,c=function(){setTimeout(i,200),s.surface.removeEventListener("playing",c)};this.surface.addEventListener("playing",c),this.surface.play()},n.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},n.prototype.getSurface=function(){return this.failIfClosed(),this.surface},n.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},n.prototype.applyVideoConstraints=function(i){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(s){if("aspectRatio"in i)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(i)]})})},n.prototype.close=function(){if(this.isClosed)return Promise.resolve();var i=this;return new Promise(function(s,c){var f=i.mediaStream.getVideoTracks(),d=f.length,h=0;i.mediaStream.getVideoTracks().forEach(function(m){i.mediaStream.removeTrack(m),m.stop(),++h,h>=d&&(i.isClosed=!0,i.parentElement.removeChild(i.surface),s())})})},n.prototype.getCapabilities=function(){return new CameraCapabilitiesImpl(this.getFirstTrackOrFail())},n})(),CameraImpl=(function(){function n(i){this.mediaStream=i}return n.prototype.render=function(i,s,c){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(f){return[2,RenderedCameraImpl.create(i,this.mediaStream,s,c)]})})},n.create=function(i){return __awaiter$2(this,void 0,void 0,function(){var s,c;return __generator$2(this,function(f){switch(f.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:i},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return c=f.sent(),[2,new n(c)]}})})},n})(),__awaiter$1=function(n,i,s,c){function f(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function m(p){try{A(c.next(p))}catch(w){h(w)}}function D(p){try{A(c.throw(p))}catch(w){h(w)}}function A(p){p.done?d(p.value):f(p.value).then(m,D)}A((c=c.apply(n,i||[])).next())})},__generator$1=function(n,i){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},c,f,d,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(A){return function(p){return D([A,p])}}function D(A){if(c)throw new TypeError("Generator is already executing.");for(;h&&(h=0,A[0]&&(s=0)),s;)try{if(c=1,f&&(d=A[0]&2?f.return:A[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,A[1])).done)return d;switch(f=0,d&&(A=[A[0]&2,d.value]),A[0]){case 0:case 1:d=A;break;case 4:return s.label++,{value:A[1],done:!1};case 5:s.label++,f=A[1],A=[0];continue;case 7:A=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(A[0]===6||A[0]===2)){s=0;continue}if(A[0]===3&&(!d||A[1]>d[0]&&A[1]<d[3])){s.label=A[1];break}if(A[0]===6&&s.label<d[1]){s.label=d[1],d=A;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(A);break}d[2]&&s.ops.pop(),s.trys.pop();continue}A=i.call(n,s)}catch(p){A=[6,p],f=0}finally{c=d=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},CameraFactory=(function(){function n(){}return n.failIfNotSupported=function(){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(i){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new n]})})},n.prototype.create=function(i){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(s){return[2,CameraImpl.create(i)]})})},n})(),__awaiter=function(n,i,s,c){function f(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function m(p){try{A(c.next(p))}catch(w){h(w)}}function D(p){try{A(c.throw(p))}catch(w){h(w)}}function A(p){p.done?d(p.value):f(p.value).then(m,D)}A((c=c.apply(n,i||[])).next())})},__generator=function(n,i){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},c,f,d,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(A){return function(p){return D([A,p])}}function D(A){if(c)throw new TypeError("Generator is already executing.");for(;h&&(h=0,A[0]&&(s=0)),s;)try{if(c=1,f&&(d=A[0]&2?f.return:A[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,A[1])).done)return d;switch(f=0,d&&(A=[A[0]&2,d.value]),A[0]){case 0:case 1:d=A;break;case 4:return s.label++,{value:A[1],done:!1};case 5:s.label++,f=A[1],A=[0];continue;case 7:A=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(A[0]===6||A[0]===2)){s=0;continue}if(A[0]===3&&(!d||A[1]>d[0]&&A[1]<d[3])){s.label=A[1];break}if(A[0]===6&&s.label<d[1]){s.label=d[1],d=A;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(A);break}d[2]&&s.ops.pop(),s.trys.pop();continue}A=i.call(n,s)}catch(p){A=[6,p],f=0}finally{c=d=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}},CameraRetriever=(function(){function n(){}return n.retrieve=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var i=MediaStreamTrack;return MediaStreamTrack&&i.getSources?n.getCamerasFromMediaStreamTrack():n.rejectWithError()},n.rejectWithError=function(){var i=Html5QrcodeStrings.unableToQuerySupportedDevices();return n.isHttpsOrLocalhost()||(i=Html5QrcodeStrings.insecureContextCameraQueryError()),Promise.reject(i)},n.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var i=location.host.split(":")[0];return i==="127.0.0.1"||i==="localhost"},n.getCamerasFromMediaDevices=function(){return __awaiter(this,void 0,void 0,function(){var i,s,c,f,d,h,m;return __generator(this,function(D){switch(D.label){case 0:return i=function(A){for(var p=A.getVideoTracks(),w=0,T=p;w<T.length;w++){var L=T[w];L.enabled=!1,L.stop(),A.removeTrack(L)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=D.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(c=D.sent(),f=[],d=0,h=c;d<h.length;d++)m=h[d],m.kind==="videoinput"&&f.push({id:m.deviceId,label:m.label});return i(s),[2,f]}})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(i,s){var c=function(d){for(var h=[],m=0,D=d;m<D.length;m++){var A=D[m];A.kind==="video"&&h.push({id:A.id,label:A.label})}i(h)},f=MediaStreamTrack;f.getSources(c)})},n})(),Html5QrcodeScannerState;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(Html5QrcodeScannerState||(Html5QrcodeScannerState={}));var StateManagerImpl=(function(){function n(){this.state=Html5QrcodeScannerState.NOT_STARTED,this.onGoingTransactionNewState=Html5QrcodeScannerState.UNKNOWN}return n.prototype.directTransition=function(i){this.failIfTransitionOngoing(),this.validateTransition(i),this.state=i},n.prototype.startTransition=function(i){return this.failIfTransitionOngoing(),this.validateTransition(i),this.onGoingTransactionNewState=i,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===Html5QrcodeScannerState.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var i=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Html5QrcodeScannerState.UNKNOWN,this.directTransition(i)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===Html5QrcodeScannerState.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Html5QrcodeScannerState.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Html5QrcodeScannerState.UNKNOWN)throw"Cannot transition to a new state, already under transition"},n.prototype.validateTransition=function(i){switch(this.state){case Html5QrcodeScannerState.UNKNOWN:throw"Transition from unknown is not allowed";case Html5QrcodeScannerState.NOT_STARTED:this.failIfNewStateIs(i,[Html5QrcodeScannerState.PAUSED]);break;case Html5QrcodeScannerState.SCANNING:break;case Html5QrcodeScannerState.PAUSED:break}},n.prototype.failIfNewStateIs=function(i,s){for(var c=0,f=s;c<f.length;c++){var d=f[c];if(i===d)throw"Cannot transition from ".concat(this.state," to ").concat(i)}},n})(),StateManagerProxy=(function(){function n(i){this.stateManager=i}return n.prototype.startTransition=function(i){return this.stateManager.startTransition(i)},n.prototype.directTransition=function(i){this.stateManager.directTransition(i)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===Html5QrcodeScannerState.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==Html5QrcodeScannerState.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Html5QrcodeScannerState.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===Html5QrcodeScannerState.PAUSED},n})(),StateManagerFactory=(function(){function n(){}return n.create=function(){return new StateManagerProxy(new StateManagerImpl)},n})(),__extends=(function(){var n=function(i,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(c[d]=f[d])},n(i,s)};return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");n(i,s);function c(){this.constructor=i}i.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}})(),Constants=(function(n){__extends(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.DEFAULT_WIDTH=300,i.DEFAULT_WIDTH_OFFSET=2,i.FILE_SCAN_MIN_HEIGHT=300,i.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,i.MIN_QR_BOX_SIZE=50,i.SHADED_LEFT=1,i.SHADED_RIGHT=2,i.SHADED_TOP=3,i.SHADED_BOTTOM=4,i.SHADED_REGION_ELEMENT_ID="qr-shaded-region",i.VERBOSE=!1,i.BORDER_SHADER_DEFAULT_COLOR="#ffffff",i.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",i})(Html5QrcodeConstants),InternalHtml5QrcodeConfig=(function(){function n(i,s){this.logger=s,this.fps=Constants.SCAN_DEFAULT_FPS,i?(i.fps&&(this.fps=i.fps),this.disableFlip=i.disableFlip===!0,this.qrbox=i.qrbox,this.aspectRatio=i.aspectRatio,this.videoConstraints=i.videoConstraints):this.disableFlip=Constants.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?VideoConstraintsUtil.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!isNullOrUndefined(this.qrbox)},n.create=function(i,s){return new n(i,s)},n})(),Html5Qrcode$1=(function(){function n(i,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(i))throw"HTML Element with id=".concat(i," not found");this.elementId=i,this.verbose=!1;var c;typeof s=="boolean"?this.verbose=s===!0:s&&(c=s,this.verbose=c.verbose===!0,c.experimentalFeatures),this.logger=new BaseLoggger(this.verbose),this.qrcode=new Html5QrcodeShim(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(c),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=StateManagerFactory.create()}return n.prototype.start=function(i,s,c,f){var d=this;if(!i)throw"cameraIdOrConfig is required";if(!c||typeof c!="function")throw"qrCodeSuccessCallback is required and should be a function.";var h;f?h=f:h=this.verbose?this.logger.log:function(){};var m=InternalHtml5QrcodeConfig.create(s,this.logger);this.clearElement();var D=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?D=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var A=D,p=document.getElementById(this.elementId);p.clientWidth?p.clientWidth:Constants.DEFAULT_WIDTH,p.style.position="relative",this.shouldScan=!0,this.element=p;var w=this,T=this.stateManagerProxy.startTransition(Html5QrcodeScannerState.SCANNING);return new Promise(function(L,N){var G=A?m.videoConstraints:w.createVideoConstraints(i);if(!G){T.cancel(),N("videoConstraints should be defined");return}var R={};(!A||m.aspectRatio)&&(R.aspectRatio=m.aspectRatio);var j={onRenderSurfaceReady:function(Y,k){w.setupUi(Y,k,m),w.isScanning=!0,w.foreverScan(m,c,h)}};CameraFactory.failIfNotSupported().then(function(Y){Y.create(G).then(function(k){return k.render(d.element,R,j).then(function(S){w.renderedCamera=S,T.execute(),L(null)}).catch(function(S){T.cancel(),N(S)})}).catch(function(k){T.cancel(),N(Html5QrcodeStrings.errorGettingUserMedia(k))})}).catch(function(Y){T.cancel(),N(Html5QrcodeStrings.cameraStreamingNotSupported())})})},n.prototype.pause=function(i){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Html5QrcodeScannerState.PAUSED),this.showPausedState(),(isNullOrUndefined(i)||i!==!0)&&(i=!1),i&&this.renderedCamera&&this.renderedCamera.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var i=this,s=function(){i.stateManagerProxy.directTransition(Html5QrcodeScannerState.SCANNING),i.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var i=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(Html5QrcodeScannerState.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var c=function(){if(i.element){var d=document.getElementById(Constants.SHADED_REGION_ELEMENT_ID);d&&i.element.removeChild(d)}},f=this;return this.renderedCamera.close().then(function(){return f.renderedCamera=null,f.element&&(f.element.removeChild(f.canvasElement),f.canvasElement=null),c(),f.qrRegion&&(f.qrRegion=null),f.context&&(f.context=null),s.execute(),f.hidePausedState(),f.isScanning=!1,Promise.resolve()})},n.prototype.scanFile=function(i,s){return this.scanFileV2(i,s).then(function(c){return c.decodedText})},n.prototype.scanFileV2=function(i,s){var c=this;if(!i||!(i instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(isNullOrUndefined(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(f,d){c.possiblyCloseLastScanImageFile(),c.clearElement(),c.lastScanImageFile=URL.createObjectURL(i);var h=new Image;h.onload=function(){var m=h.width,D=h.height,A=document.getElementById(c.elementId),p=A.clientWidth?A.clientWidth:Constants.DEFAULT_WIDTH,w=Math.max(A.clientHeight?A.clientHeight:D,Constants.FILE_SCAN_MIN_HEIGHT),T=c.computeCanvasDrawConfig(m,D,p,w);if(s){var L=c.createCanvasElement(p,w,"qr-canvas-visible");L.style.display="inline-block",A.appendChild(L);var N=L.getContext("2d");if(!N)throw"Unable to get 2d context from canvas";N.canvas.width=p,N.canvas.height=w,N.drawImage(h,0,0,m,D,T.x,T.y,T.width,T.height)}var G=Constants.FILE_SCAN_HIDDEN_CANVAS_PADDING,R=Math.max(h.width,T.width),j=Math.max(h.height,T.height),Y=R+2*G,k=j+2*G,S=c.createCanvasElement(Y,k);A.appendChild(S);var U=S.getContext("2d");if(!U)throw"Unable to get 2d context from canvas";U.canvas.width=Y,U.canvas.height=k,U.drawImage(h,0,0,m,D,G,G,R,j);try{c.qrcode.decodeRobustlyAsync(S).then(function(M){f(Html5QrcodeResultFactory.createFromQrcodeResult(M))}).catch(d)}catch(M){d("QR code parse error, error = ".concat(M))}},h.onerror=d,h.onabort=d,h.onstalled=d,h.onsuspend=d,h.src=URL.createObjectURL(i)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){return CameraRetriever.retrieve()},n.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},n.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},n.prototype.applyVideoConstraints=function(i){if(i){if(!VideoConstraintsUtil.isMediaStreamConstraintsValid(i,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(i)},n.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},n.prototype.getSupportedFormats=function(i){var s=[Html5QrcodeSupportedFormats.QR_CODE,Html5QrcodeSupportedFormats.AZTEC,Html5QrcodeSupportedFormats.CODABAR,Html5QrcodeSupportedFormats.CODE_39,Html5QrcodeSupportedFormats.CODE_93,Html5QrcodeSupportedFormats.CODE_128,Html5QrcodeSupportedFormats.DATA_MATRIX,Html5QrcodeSupportedFormats.MAXICODE,Html5QrcodeSupportedFormats.ITF,Html5QrcodeSupportedFormats.EAN_13,Html5QrcodeSupportedFormats.EAN_8,Html5QrcodeSupportedFormats.PDF_417,Html5QrcodeSupportedFormats.RSS_14,Html5QrcodeSupportedFormats.RSS_EXPANDED,Html5QrcodeSupportedFormats.UPC_A,Html5QrcodeSupportedFormats.UPC_E,Html5QrcodeSupportedFormats.UPC_EAN_EXTENSION];if(!i||typeof i=="boolean"||!i.formatsToSupport)return s;if(!Array.isArray(i.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(i.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var c=[],f=0,d=i.formatsToSupport;f<d.length;f++){var h=d[f];isValidHtml5QrcodeSupportedFormats(h)?c.push(h):this.logger.warn("Invalid format: ".concat(h," passed in config, ignoring."))}if(c.length===0)throw"None of formatsToSupport match supported values.";return c},n.prototype.getUseBarCodeDetectorIfSupported=function(i){if(isNullOrUndefined(i))return!0;if(!isNullOrUndefined(i.useBarCodeDetectorIfSupported))return i.useBarCodeDetectorIfSupported!==!1;if(isNullOrUndefined(i.experimentalFeatures))return!0;var s=i.experimentalFeatures;return isNullOrUndefined(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},n.prototype.validateQrboxSize=function(i,s,c){var f=this,d=c.qrbox;this.validateQrboxConfig(d);var h=this.toQrdimensions(i,s,d),m=function(A){if(A<Constants.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Constants.MIN_QR_BOX_SIZE,"px.")},D=function(A){return A>i&&(f.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),A=i),A};m(h.width),m(h.height),h.width=D(h.width)},n.prototype.validateQrboxConfig=function(i){if(typeof i!="number"&&typeof i!="function"&&(i.width===void 0||i.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(i,s,c){if(typeof c=="number")return{width:c,height:c};if(typeof c=="function")try{return c(i,s)}catch(f){throw new Error("qrbox config was passed as a function but it failed with unknown error"+f)}return c},n.prototype.setupUi=function(i,s,c){c.isShadedBoxEnabled()&&this.validateQrboxSize(i,s,c);var f=isNullOrUndefined(c.qrbox)?{width:i,height:s}:c.qrbox;this.validateQrboxConfig(f);var d=this.toQrdimensions(i,s,f);d.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var h=c.isShadedBoxEnabled()&&d.height<=s,m={x:0,y:0,width:i,height:s},D=h?this.getShadedRegionBounds(i,s,d):m,A=this.createCanvasElement(D.width,D.height),p={willReadFrequently:!0},w=A.getContext("2d",p);w.canvas.width=D.width,w.canvas.height=D.height,this.element.append(A),h&&this.possiblyInsertShadingElement(this.element,i,s,d),this.createScannerPausedUiElement(this.element),this.qrRegion=D,this.context=w,this.canvasElement=A},n.prototype.createScannerPausedUiElement=function(i){var s=document.createElement("div");s.innerText=Html5QrcodeStrings.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",i.appendChild(s),this.scannerPausedUiElement=s},n.prototype.scanContext=function(i,s){var c=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(f){return i(f.text,Html5QrcodeResultFactory.createFromQrcodeResult(f)),c.possiblyUpdateShaders(!0),!0}).catch(function(f){c.possiblyUpdateShaders(!1);var d=Html5QrcodeStrings.codeParseError(f);return s(d,Html5QrcodeErrorFactory.createFrom(d)),!1})},n.prototype.foreverScan=function(i,s,c){var f=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),h=d.videoWidth/d.clientWidth,m=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var D=this.qrRegion.width*h,A=this.qrRegion.height*m,p=this.qrRegion.x*h,w=this.qrRegion.y*m;this.context.drawImage(d,p,w,D,A,0,0,this.qrRegion.width,this.qrRegion.height);var T=function(){f.foreverScanTimeout=setTimeout(function(){f.foreverScan(i,s,c)},f.getTimeoutFps(i.fps))};this.scanContext(s,c).then(function(L){!L&&i.disableFlip!==!0?(f.context.translate(f.context.canvas.width,0),f.context.scale(-1,1),f.scanContext(s,c).finally(function(){T()})):T()}).catch(function(L){f.logger.logError("Error happend while scanning context",L),T()})}},n.prototype.createVideoConstraints=function(i){if(typeof i=="string")return{deviceId:{exact:i}};if(typeof i=="object"){var s="facingMode",c="deviceId",f={user:!0,environment:!0},d="exact",h=function(N){if(N in f)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(N,"'")},m=Object.keys(i);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var D=Object.keys(i)[0];if(D!==s&&D!==c)throw"Only '".concat(s,"' and '").concat(c,"' ")+" are supported for 'cameraIdOrConfig'";if(D===s){var A=i.facingMode;if(typeof A=="string"){if(h(A))return{facingMode:A}}else if(typeof A=="object")if(d in A){if(h(A["".concat(d)]))return{facingMode:{exact:A["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var p=typeof A;throw"Invalid type of 'facingMode' = ".concat(p)}}else{var w=i.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(d in w)return{deviceId:{exact:w["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var T=typeof w;throw"Invalid type of 'deviceId' = ".concat(T)}}}var L=typeof i;throw"Invalid type of 'cameraIdOrConfig' = ".concat(L)},n.prototype.computeCanvasDrawConfig=function(i,s,c,f){if(i<=c&&s<=f){var d=(c-i)/2,h=(f-s)/2;return{x:d,y:h,width:i,height:s}}else{var m=i,D=s;return i>c&&(s=c/i*s,i=c),s>f&&(i=f/s*i,s=f),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(D)+" to ".concat(i,"X").concat(s,".")),this.computeCanvasDrawConfig(i,s,c,f)}},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var i=document.getElementById(this.elementId);i&&(i.innerHTML="")},n.prototype.possiblyUpdateShaders=function(i){this.qrMatch!==i&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=i?Constants.BORDER_SHADER_MATCH_COLOR:Constants.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=i)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(i,s,c){var f=i,d=s,h=document.createElement("canvas");return h.style.width="".concat(f,"px"),h.style.height="".concat(d,"px"),h.style.display="none",h.id=isNullOrUndefined(c)?"qr-canvas":c,h},n.prototype.getShadedRegionBounds=function(i,s,c){if(c.width>i||c.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(i-c.width)/2,y:(s-c.height)/2,width:c.width,height:c.height}},n.prototype.possiblyInsertShadingElement=function(i,s,c,f){if(!(s-f.width<1||c-f.height<1)){var d=document.createElement("div");d.style.position="absolute";var h=(s-f.width)/2,m=(c-f.height)/2;if(d.style.borderLeft="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(Constants.SHADED_REGION_ELEMENT_ID),s-f.width<11||c-f.height<11)this.hasBorderShaders=!1;else{var D=5,A=40;this.insertShaderBorders(d,A,D,-D,null,0,!0),this.insertShaderBorders(d,A,D,-D,null,0,!1),this.insertShaderBorders(d,A,D,null,-D,0,!0),this.insertShaderBorders(d,A,D,null,-D,0,!1),this.insertShaderBorders(d,D,A+D,-D,null,-D,!0),this.insertShaderBorders(d,D,A+D,null,-D,-D,!0),this.insertShaderBorders(d,D,A+D,-D,null,-D,!1),this.insertShaderBorders(d,D,A+D,null,-D,-D,!1),this.hasBorderShaders=!0}i.append(d)}},n.prototype.insertShaderBorders=function(i,s,c,f,d,h,m){var D=document.createElement("div");D.style.position="absolute",D.style.backgroundColor=Constants.BORDER_SHADER_DEFAULT_COLOR,D.style.width="".concat(s,"px"),D.style.height="".concat(c,"px"),f!==null&&(D.style.top="".concat(f,"px")),d!==null&&(D.style.bottom="".concat(d,"px")),m?D.style.left="".concat(h,"px"):D.style.right="".concat(h,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(D),i.appendChild(D)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(i){return 1e3/i},n})(),Html5QrcodeScannerStatus;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Html5QrcodeScannerStatus||(Html5QrcodeScannerStatus={}));function showGlobalError(n){console.error("Global:",n),alert(n)}function showGlobalInfo(n){console.log("Global:",n)}function createImagePreview(){return{previewSrc:null,previewText:"圖片預覽：",imageClasses:"w-32 h-32 object-cover rounded-lg border",init(){(window.location.pathname.includes("/edit/")||document.querySelector('form[method="post"]')&&document.querySelector('form[method="post"]').action.includes("edit"))&&(this.previewText="新圖片預覽：")},handleFileChange(n){const i=n.target.files[0];if(!i){this.previewSrc=null;return}if(!this.isValidImageFile(i)){this.previewSrc=null,n.target.value="";return}const s=new FileReader;s.onload=c=>{this.previewSrc=c.target.result},s.onerror=()=>{this.showError("讀取圖片時發生錯誤，請重新選擇"),this.previewSrc=null},s.readAsDataURL(i)},isValidImageFile(n){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(n.type))return this.showError("請選擇有效的圖片檔案 (JPG, PNG, GIF, WebP)"),!1;const s=5*1024*1024;return n.size>s?(this.showError("圖片檔案大小不能超過 5MB"),!1):!0},showError(n){console.error("ImagePreview:",n),alert(n)}}}window.createImagePreview=createImagePreview;function createPaymentTimer(n={}){const i=n.duration||5;return{countdown:i,initialDuration:i,formId:n.formId||"newebpay-form",timer:null,isRunning:!1,init(){this.startTimer()},startTimer(){this.isRunning||(this.isRunning=!0,this.timer=setInterval(()=>{this.countdown--,this.countdown<=0&&this.completeTimer()},1e3))},pauseTimer(){this.timer&&(clearInterval(this.timer),this.timer=null,this.isRunning=!1)},resumeTimer(){!this.isRunning&&this.countdown>0&&this.startTimer()},resetTimer(){this.pauseTimer(),this.countdown=this.initialDuration},completeTimer(){this.pauseTimer();const s=document.getElementById(this.formId);s?s.submit():this.showError(`無法提交表單，找不到 ID 為 ${this.formId} 的表單`)},destroy(){this.pauseTimer()},showError(s){console.error("PaymentTimer:",s),alert(s)}}}window.createPaymentTimer=createPaymentTimer;function handleConfirmDelete(n){const i=n.dataset.formId||"deleteForm",s=n.dataset.message||"確定要刪除這個商品嗎？此操作無法復原。";if(confirm(s)){const c=document.getElementById(i);c?c.submit():showGlobalError(`找不到 ID 為 ${i} 的表單`)}}function handleUseMerchantPhone(n){const i=n.dataset.target||"phone_number",s=n.dataset.phone;if(s){const c=document.getElementById(i);c?c.value=s:showGlobalError(`找不到 ID 為 ${i} 的輸入欄位`)}else showGlobalInfo("未提供商家電話資料")}function createMobileMenu(){return{isOpen:!1,init(){this.$nextTick(()=>{window.addEventListener("resize",()=>{window.innerWidth>=768&&(this.isOpen=!1)},{passive:!0})})},toggle(){this.isOpen=!this.isOpen},close(){this.isOpen=!1},handleLinkClick(n){n.target.closest("a")&&this.close()}}}function initEventDelegation(){document.addEventListener("click",function(n){const i=n.target,s=i.dataset.action;if(s)switch(s){case"confirm-delete":n.preventDefault(),handleConfirmDelete(i);break;case"use-merchant-phone":n.preventDefault(),handleUseMerchantPhone(i);break}})}document.addEventListener("DOMContentLoaded",function(){initEventDelegation()});window.createMobileMenu=createMobileMenu;class NavigationManager{constructor(){this._currentPath=null,this.baseClasses="flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-[#F5F5F7]",this.activeClasses="text-[#0056B3] font-medium bg-blue-50",this.inactiveClasses="text-gray-700",this.logoutClasses="flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-[#F5F5F7] text-red-600"}get currentPath(){return this._currentPath||(this._currentPath=window.location.pathname),this._currentPath}isActive(i){if(!i||!i.getAttribute)return!1;const s=i.getAttribute("href");return s?this.currentPath===s.replace(/\?.*$/,""):!1}navLinkBinding(i){const s=this.isActive(i);return{class:`${this.baseClasses} ${s?this.activeClasses:this.inactiveClasses}`,"aria-current":s?"page":null}}navLinkBindingWithOpacity(i){const s=this.navLinkBinding(i);return{...s,class:s.class+" opacity-50"}}logoutLinkBinding(){return{class:this.logoutClasses}}static createAlpineData(){const i=new NavigationManager;return{currentPath:i.currentPath,isActive:s=>i.isActive(s),navLinkBinding:s=>i.navLinkBinding(s),navLinkBindingWithOpacity:s=>i.navLinkBindingWithOpacity(s),logoutLinkBinding:()=>i.logoutLinkBinding()}}}window.NavigationManager=NavigationManager;function createQuantityManager(n={}){return{quantity:1,unitPrice:0,maxStock:0,needsVerification:n.needsVerification||!1,isVerified:n.isVerified||!1,verificationData:n.verificationData||{terms:!1},init(){this.extractPriceAndStock();const i=this.$refs.quantityInput;i&&i.value&&(this.quantity=parseInt(i.value)||1),this.validateQuantity()},extractPriceAndStock(){this.extractPrice(),this.extractStock()},extractPrice(){const i=document.querySelector("[data-unit-price]");i&&(this.unitPrice=parseInt(i.dataset.unitPrice)||0)},extractStock(){const i=document.querySelector("[data-max-stock]");if(i){this.maxStock=parseInt(i.dataset.maxStock)||0;return}const s=this.$refs.quantityInput;s&&(this.maxStock=parseInt(s.getAttribute("max"))||0)},decrease(){this.quantity>1&&(this.quantity--,this.validateQuantity())},increase(){this.quantity<this.maxStock&&(this.quantity++,this.validateQuantity())},validateQuantity(){this.quantity<1&&(this.quantity=1),this.quantity>this.maxStock&&(this.quantity=this.maxStock)},get totalPrice(){return this.unitPrice*this.quantity},get formattedTotalPrice(){return`NT$ ${this.totalPrice.toLocaleString()}`},get canDecrease(){return this.quantity>1},get canIncrease(){return this.quantity<this.maxStock},setUnitPrice(i){this.unitPrice=i},setMaxStock(i){this.maxStock=i,this.validateQuantity()}}}document.addEventListener("alpine:init",()=>{Alpine.data("ticketCopy",()=>({copyButtonText:"複製票券代碼",async copyTicketCode(n){try{navigator.clipboard&&navigator.clipboard.writeText?(await navigator.clipboard.writeText(n),this.showCopySuccess()):this.fallbackCopyTextToClipboard(n)}catch(i){this.showError("複製失敗: "+i.message),this.fallbackCopyTextToClipboard(n)}},fallbackCopyTextToClipboard(n){const i=document.createElement("textarea");i.value=n,i.style.top="0",i.style.left="0",i.style.position="fixed",i.style.opacity="0",document.body.appendChild(i),i.focus(),i.select();try{document.execCommand("copy")?this.showCopySuccess():this.showError("舊版複製方法失敗")}catch(s){this.showError("複製失敗: "+s.message)}document.body.removeChild(i)},showCopySuccess(){this.copyButtonText="已複製！",setTimeout(()=>{this.copyButtonText="複製票券代碼"},2e3)},showError(n){console.error("TicketCopy:",n)}}))});function createTicketScanManager(){return{isLoading:!1,async restartScan(n,i){if(!this.isLoading){this.isLoading=!0;try{const s=await fetch(n,{method:"POST",headers:{"X-CSRFToken":i,"Content-Type":"application/x-www-form-urlencoded"}});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const c=await s.text(),f=document.getElementById("scan-result");if(f)f.innerHTML=c;else{console.error("TicketScanManager: 找不到 scan-result 元素");return}this.resetScanState(),window.dispatchEvent(new CustomEvent("restart-scanning"))}catch(s){console.error("TicketScanManager: 重啟掃描失敗",s),alert("重新掃描失敗，請重新整理頁面後再試")}finally{this.isLoading=!1}}},resetScanState(){const n=document.querySelector("input[name=ticket_code]");n&&(n.value="",n.focus())},get restartButtonClass(){const n="w-full py-4 px-6 rounded-xl font-medium text-lg transition-all focus:ring-4";return this.isLoading?`${n} opacity-50 cursor-not-allowed`:`${n} hover:bg-opacity-90`},get restartButtonText(){return this.isLoading?"處理中...":null}}}window.createTicketScanManager=createTicketScanManager;window.createQuantityManager=createQuantityManager;function createBackupCodes(n){if(!n){const i=document.getElementById("backup-tokens-data");if(i)try{n=JSON.parse(i.textContent)}catch(s){console.error("解析備用代碼資料失敗:",s),n=[]}}return{backupTokens:n||[],copied:!1,confirmed:!1,async copyAllCodes(){const i=this.backupTokens.join(`
`);try{navigator.clipboard&&navigator.clipboard.writeText?(await navigator.clipboard.writeText(i),this.showCopySuccess()):this.fallbackCopyTextToClipboard(i)}catch{this.fallbackCopyTextToClipboard(i)}},fallbackCopyTextToClipboard(i){const s=document.createElement("textarea");s.value=i,s.style.top="0",s.style.left="0",s.style.position="fixed",s.style.opacity="0",document.body.appendChild(s),s.focus(),s.select();try{document.execCommand("copy")&&this.showCopySuccess()}catch(c){console.error("複製失敗:",c.message)}document.body.removeChild(s)},showCopySuccess(){this.copied=!0,setTimeout(()=>{this.copied=!1},2e3)},downloadCodes(){const i=this.backupTokens.join(`
`),s=`TruePay 二階段驗證備用恢復代碼
生成時間：${new Date().toLocaleString()}

${i}

重要提醒：
- 每個代碼只能使用一次
- 請妥善保管，遺失後無法復原
- 可在個人設定中重新生成`,c=new Blob([s],{type:"text/plain"}),f=URL.createObjectURL(c),d=document.createElement("a");d.href=f,d.download="truepay-backup-codes.txt",d.click(),URL.revokeObjectURL(f)},goToDashboard(i,s){this.confirmed&&(window.location.href=i||s)}}}window.createBackupCodes=createBackupCodes;function createQrScanner(n){return{status:"點擊下方按鈕以啟動相機進行掃描",isScanning:!1,html5QrCode:null,validationUrl:n.validationUrl,init(){console.log("QR Scanner initialized")},startScanner(){if(this.isScanning)return;if(!document.getElementById("qr-reader")){this.status="錯誤：找不到 ID 為 qr-reader 的掃描器顯示元件。";return}try{this.html5QrCode=new Html5Qrcode("qr-reader"),this.isScanning=!0,this.status="正在啟動相機...",this.html5QrCode.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},s=>this.onScanSuccess(s),()=>{}).catch(()=>{this.status="無法啟動相機，請檢查瀏覽器權限。",this.isScanning=!1})}catch{this.status="啟動掃描器時發生錯誤。",this.isScanning=!1}},stopScanner(){this.html5QrCode&&this.isScanning&&this.html5QrCode.stop().then(()=>{this.isScanning=!1,this.status="點擊下方按鈕以啟動相機進行掃描"}).catch(i=>{console.error("QR Scanner failed to stop.",i),this.isScanning=!1})},onScanSuccess(i){const s=this.parseTicketCode(i);this.status=`掃描成功！正在驗證 ${s}...`,this.stopScanner(),htmx.ajax("POST",this.validationUrl,{target:"#scan-result",swap:"innerHTML",values:{ticket_code:s,method:"qr",csrfmiddlewaretoken:document.querySelector('form[hx-post] input[name="csrfmiddlewaretoken"]').value}})},parseTicketCode(i){try{const s=i.trim(),c=JSON.parse(s);if(c&&c.ticket_code)return c.ticket_code}catch{const s=i.match(/"ticket_code"\s*:\s*"(.*?)"/);if(s&&s[1])return s[1]}return i}}}window.createQrScanner=createQrScanner;var jsQR$2={exports:{}},jsQR$1=jsQR$2.exports,hasRequiredJsQR;function requireJsQR(){return hasRequiredJsQR||(hasRequiredJsQR=1,(function(n,i){(function(c,f){n.exports=f()})(typeof self<"u"?self:jsQR$1,function(){return(function(s){var c={};function f(d){if(c[d])return c[d].exports;var h=c[d]={i:d,l:!1,exports:{}};return s[d].call(h.exports,h,h.exports,f),h.l=!0,h.exports}return f.m=s,f.c=c,f.d=function(d,h,m){f.o(d,h)||Object.defineProperty(d,h,{configurable:!1,enumerable:!0,get:m})},f.n=function(d){var h=d&&d.__esModule?function(){return d.default}:function(){return d};return f.d(h,"a",h),h},f.o=function(d,h){return Object.prototype.hasOwnProperty.call(d,h)},f.p="",f(f.s=3)})([(function(s,c,f){Object.defineProperty(c,"__esModule",{value:!0});var d=(function(){function h(m,D){this.width=D,this.height=m.length/D,this.data=m}return h.createEmpty=function(m,D){return new h(new Uint8ClampedArray(m*D),m)},h.prototype.get=function(m,D){return m<0||m>=this.width||D<0||D>=this.height?!1:!!this.data[D*this.width+m]},h.prototype.set=function(m,D,A){this.data[D*this.width+m]=A?1:0},h.prototype.setRegion=function(m,D,A,p,w){for(var T=D;T<D+p;T++)for(var L=m;L<m+A;L++)this.set(L,T,!!w)},h})();c.BitMatrix=d}),(function(s,c,f){Object.defineProperty(c,"__esModule",{value:!0});var d=f(2);function h(D,A){return D^A}c.addOrSubtractGF=h;var m=(function(){function D(A,p,w){this.primitive=A,this.size=p,this.generatorBase=w,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var T=1,L=0;L<this.size;L++)this.expTable[L]=T,T=T*2,T>=this.size&&(T=(T^this.primitive)&this.size-1);for(var L=0;L<this.size-1;L++)this.logTable[this.expTable[L]]=L;this.zero=new d.default(this,Uint8ClampedArray.from([0])),this.one=new d.default(this,Uint8ClampedArray.from([1]))}return D.prototype.multiply=function(A,p){return A===0||p===0?0:this.expTable[(this.logTable[A]+this.logTable[p])%(this.size-1)]},D.prototype.inverse=function(A){if(A===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[A]-1]},D.prototype.buildMonomial=function(A,p){if(A<0)throw new Error("Invalid monomial degree less than 0");if(p===0)return this.zero;var w=new Uint8ClampedArray(A+1);return w[0]=p,new d.default(this,w)},D.prototype.log=function(A){if(A===0)throw new Error("Can't take log(0)");return this.logTable[A]},D.prototype.exp=function(A){return this.expTable[A]},D})();c.default=m}),(function(s,c,f){Object.defineProperty(c,"__esModule",{value:!0});var d=f(1),h=(function(){function m(D,A){if(A.length===0)throw new Error("No coefficients.");this.field=D;var p=A.length;if(p>1&&A[0]===0){for(var w=1;w<p&&A[w]===0;)w++;if(w===p)this.coefficients=D.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(p-w);for(var T=0;T<this.coefficients.length;T++)this.coefficients[T]=A[w+T]}}else this.coefficients=A}return m.prototype.degree=function(){return this.coefficients.length-1},m.prototype.isZero=function(){return this.coefficients[0]===0},m.prototype.getCoefficient=function(D){return this.coefficients[this.coefficients.length-1-D]},m.prototype.addOrSubtract=function(D){var A;if(this.isZero())return D;if(D.isZero())return this;var p=this.coefficients,w=D.coefficients;p.length>w.length&&(A=[w,p],p=A[0],w=A[1]);for(var T=new Uint8ClampedArray(w.length),L=w.length-p.length,N=0;N<L;N++)T[N]=w[N];for(var N=L;N<w.length;N++)T[N]=d.addOrSubtractGF(p[N-L],w[N]);return new m(this.field,T)},m.prototype.multiply=function(D){if(D===0)return this.field.zero;if(D===1)return this;for(var A=this.coefficients.length,p=new Uint8ClampedArray(A),w=0;w<A;w++)p[w]=this.field.multiply(this.coefficients[w],D);return new m(this.field,p)},m.prototype.multiplyPoly=function(D){if(this.isZero()||D.isZero())return this.field.zero;for(var A=this.coefficients,p=A.length,w=D.coefficients,T=w.length,L=new Uint8ClampedArray(p+T-1),N=0;N<p;N++)for(var G=A[N],R=0;R<T;R++)L[N+R]=d.addOrSubtractGF(L[N+R],this.field.multiply(G,w[R]));return new m(this.field,L)},m.prototype.multiplyByMonomial=function(D,A){if(D<0)throw new Error("Invalid degree less than 0");if(A===0)return this.field.zero;for(var p=this.coefficients.length,w=new Uint8ClampedArray(p+D),T=0;T<p;T++)w[T]=this.field.multiply(this.coefficients[T],A);return new m(this.field,w)},m.prototype.evaluateAt=function(D){var A=0;if(D===0)return this.getCoefficient(0);var p=this.coefficients.length;if(D===1)return this.coefficients.forEach(function(T){A=d.addOrSubtractGF(A,T)}),A;A=this.coefficients[0];for(var w=1;w<p;w++)A=d.addOrSubtractGF(this.field.multiply(D,A),this.coefficients[w]);return A},m})();c.default=h}),(function(s,c,f){Object.defineProperty(c,"__esModule",{value:!0});var d=f(4),h=f(5),m=f(11),D=f(12);function A(T){var L=D.locate(T);if(!L)return null;for(var N=0,G=L;N<G.length;N++){var R=G[N],j=m.extract(T,R),Y=h.decode(j.matrix);if(Y)return{binaryData:Y.bytes,data:Y.text,chunks:Y.chunks,version:Y.version,location:{topRightCorner:j.mappingFunction(R.dimension,0),topLeftCorner:j.mappingFunction(0,0),bottomRightCorner:j.mappingFunction(R.dimension,R.dimension),bottomLeftCorner:j.mappingFunction(0,R.dimension),topRightFinderPattern:R.topRight,topLeftFinderPattern:R.topLeft,bottomLeftFinderPattern:R.bottomLeft,bottomRightAlignmentPattern:R.alignmentPattern}}}return null}var p={inversionAttempts:"attemptBoth"};function w(T,L,N,G){G===void 0&&(G={});var R=p;Object.keys(R||{}).forEach(function(I){R[I]=G[I]||R[I]});var j=R.inversionAttempts==="attemptBoth"||R.inversionAttempts==="invertFirst",Y=R.inversionAttempts==="onlyInvert"||R.inversionAttempts==="invertFirst",k=d.binarize(T,L,N,j),S=k.binarized,U=k.inverted,M=A(Y?U:S);return!M&&(R.inversionAttempts==="attemptBoth"||R.inversionAttempts==="invertFirst")&&(M=A(Y?S:U)),M}w.default=w,c.default=w}),(function(s,c,f){Object.defineProperty(c,"__esModule",{value:!0});var d=f(0),h=8,m=24;function D(w,T,L){return w<T?T:w>L?L:w}var A=(function(){function w(T,L){this.width=T,this.data=new Uint8ClampedArray(T*L)}return w.prototype.get=function(T,L){return this.data[L*this.width+T]},w.prototype.set=function(T,L,N){this.data[L*this.width+T]=N},w})();function p(w,T,L,N){if(w.length!==T*L*4)throw new Error("Malformed data passed to binarizer.");for(var G=new A(T,L),R=0;R<T;R++)for(var j=0;j<L;j++){var Y=w[(j*T+R)*4+0],k=w[(j*T+R)*4+1],S=w[(j*T+R)*4+2];G.set(R,j,.2126*Y+.7152*k+.0722*S)}for(var U=Math.ceil(T/h),M=Math.ceil(L/h),I=new A(U,M),z=0;z<M;z++)for(var P=0;P<U;P++){for(var xe=0,ne=1/0,q=0,j=0;j<h;j++)for(var R=0;R<h;R++){var te=G.get(P*h+R,z*h+j);xe+=te,ne=Math.min(ne,te),q=Math.max(q,te)}var oe=xe/Math.pow(h,2);if(q-ne<=m&&(oe=ne/2,z>0&&P>0)){var O=(I.get(P,z-1)+2*I.get(P-1,z)+I.get(P-1,z-1))/4;ne<O&&(oe=O)}I.set(P,z,oe)}var ce=d.BitMatrix.createEmpty(T,L),Z=null;N&&(Z=d.BitMatrix.createEmpty(T,L));for(var z=0;z<M;z++)for(var P=0;P<U;P++){for(var De=D(P,2,U-3),be=D(z,2,M-3),xe=0,Fe=-2;Fe<=2;Fe++)for(var ae=-2;ae<=2;ae++)xe+=I.get(De+Fe,be+ae);for(var fe=xe/25,Fe=0;Fe<h;Fe++)for(var ae=0;ae<h;ae++){var R=P*h+Fe,j=z*h+ae,Oe=G.get(R,j);ce.set(R,j,Oe<=fe),N&&Z.set(R,j,!(Oe<=fe))}}return N?{binarized:ce,inverted:Z}:{binarized:ce}}c.binarize=p}),(function(s,c,f){Object.defineProperty(c,"__esModule",{value:!0});var d=f(0),h=f(6),m=f(9),D=f(10);function A(S,U){for(var M=S^U,I=0;M;)I++,M&=M-1;return I}function p(S,U){return U<<1|S}var w=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],T=[function(S){return(S.y+S.x)%2===0},function(S){return S.y%2===0},function(S){return S.x%3===0},function(S){return(S.y+S.x)%3===0},function(S){return(Math.floor(S.y/2)+Math.floor(S.x/3))%2===0},function(S){return S.x*S.y%2+S.x*S.y%3===0},function(S){return(S.y*S.x%2+S.y*S.x%3)%2===0},function(S){return((S.y+S.x)%2+S.y*S.x%3)%2===0}];function L(S){var U=17+4*S.versionNumber,M=d.BitMatrix.createEmpty(U,U);M.setRegion(0,0,9,9,!0),M.setRegion(U-8,0,8,9,!0),M.setRegion(0,U-8,9,8,!0);for(var I=0,z=S.alignmentPatternCenters;I<z.length;I++)for(var P=z[I],xe=0,ne=S.alignmentPatternCenters;xe<ne.length;xe++){var q=ne[xe];P===6&&q===6||P===6&&q===U-7||P===U-7&&q===6||M.setRegion(P-2,q-2,5,5,!0)}return M.setRegion(6,9,1,U-17,!0),M.setRegion(9,6,U-17,1,!0),S.versionNumber>6&&(M.setRegion(U-11,0,3,6,!0),M.setRegion(0,U-11,6,3,!0)),M}function N(S,U,M){for(var I=T[M.dataMask],z=S.height,P=L(U),xe=[],ne=0,q=0,te=!0,oe=z-1;oe>0;oe-=2){oe===6&&oe--;for(var O=0;O<z;O++)for(var ce=te?z-1-O:O,Z=0;Z<2;Z++){var De=oe-Z;if(!P.get(De,ce)){q++;var be=S.get(De,ce);I({y:ce,x:De})&&(be=!be),ne=p(be,ne),q===8&&(xe.push(ne),q=0,ne=0)}}te=!te}return xe}function G(S){var U=S.height,M=Math.floor((U-17)/4);if(M<=6)return D.VERSIONS[M-1];for(var I=0,z=5;z>=0;z--)for(var P=U-9;P>=U-11;P--)I=p(S.get(P,z),I);for(var xe=0,P=5;P>=0;P--)for(var z=U-9;z>=U-11;z--)xe=p(S.get(P,z),xe);for(var ne=1/0,q,te=0,oe=D.VERSIONS;te<oe.length;te++){var O=oe[te];if(O.infoBits===I||O.infoBits===xe)return O;var ce=A(I,O.infoBits);ce<ne&&(q=O,ne=ce),ce=A(xe,O.infoBits),ce<ne&&(q=O,ne=ce)}if(ne<=3)return q}function R(S){for(var U=0,M=0;M<=8;M++)M!==6&&(U=p(S.get(M,8),U));for(var I=7;I>=0;I--)I!==6&&(U=p(S.get(8,I),U));for(var z=S.height,P=0,I=z-1;I>=z-7;I--)P=p(S.get(8,I),P);for(var M=z-8;M<z;M++)P=p(S.get(M,8),P);for(var xe=1/0,ne=null,q=0,te=w;q<te.length;q++){var oe=te[q],O=oe.bits,ce=oe.formatInfo;if(O===U||O===P)return ce;var Z=A(U,O);Z<xe&&(ne=ce,xe=Z),U!==P&&(Z=A(P,O),Z<xe&&(ne=ce,xe=Z))}return xe<=3?ne:null}function j(S,U,M){var I=U.errorCorrectionLevels[M],z=[],P=0;if(I.ecBlocks.forEach(function(be){for(var Fe=0;Fe<be.numBlocks;Fe++)z.push({numDataCodewords:be.dataCodewordsPerBlock,codewords:[]}),P+=be.dataCodewordsPerBlock+I.ecCodewordsPerBlock}),S.length<P)return null;S=S.slice(0,P);for(var xe=I.ecBlocks[0].dataCodewordsPerBlock,ne=0;ne<xe;ne++)for(var q=0,te=z;q<te.length;q++){var oe=te[q];oe.codewords.push(S.shift())}if(I.ecBlocks.length>1)for(var O=I.ecBlocks[0].numBlocks,ce=I.ecBlocks[1].numBlocks,ne=0;ne<ce;ne++)z[O+ne].codewords.push(S.shift());for(;S.length>0;)for(var Z=0,De=z;Z<De.length;Z++){var oe=De[Z];oe.codewords.push(S.shift())}return z}function Y(S){var U=G(S);if(!U)return null;var M=R(S);if(!M)return null;var I=N(S,U,M),z=j(I,U,M.errorCorrectionLevel);if(!z)return null;for(var P=z.reduce(function(Z,De){return Z+De.numDataCodewords},0),xe=new Uint8ClampedArray(P),ne=0,q=0,te=z;q<te.length;q++){var oe=te[q],O=m.decode(oe.codewords,oe.codewords.length-oe.numDataCodewords);if(!O)return null;for(var ce=0;ce<oe.numDataCodewords;ce++)xe[ne++]=O[ce]}try{return h.decode(xe,U.versionNumber)}catch{return null}}function k(S){if(S==null)return null;var U=Y(S);if(U)return U;for(var M=0;M<S.width;M++)for(var I=M+1;I<S.height;I++)S.get(M,I)!==S.get(I,M)&&(S.set(M,I,!S.get(M,I)),S.set(I,M,!S.get(I,M)));return Y(S)}c.decode=k}),(function(s,c,f){Object.defineProperty(c,"__esModule",{value:!0});var d=f(7),h=f(8),m;(function(G){G.Numeric="numeric",G.Alphanumeric="alphanumeric",G.Byte="byte",G.Kanji="kanji",G.ECI="eci"})(m=c.Mode||(c.Mode={}));var D;(function(G){G[G.Terminator=0]="Terminator",G[G.Numeric=1]="Numeric",G[G.Alphanumeric=2]="Alphanumeric",G[G.Byte=4]="Byte",G[G.Kanji=8]="Kanji",G[G.ECI=7]="ECI"})(D||(D={}));function A(G,R){for(var j=[],Y="",k=[10,12,14][R],S=G.readBits(k);S>=3;){var U=G.readBits(10);if(U>=1e3)throw new Error("Invalid numeric value above 999");var M=Math.floor(U/100),I=Math.floor(U/10)%10,z=U%10;j.push(48+M,48+I,48+z),Y+=M.toString()+I.toString()+z.toString(),S-=3}if(S===2){var U=G.readBits(7);if(U>=100)throw new Error("Invalid numeric value above 99");var M=Math.floor(U/10),I=U%10;j.push(48+M,48+I),Y+=M.toString()+I.toString()}else if(S===1){var U=G.readBits(4);if(U>=10)throw new Error("Invalid numeric value above 9");j.push(48+U),Y+=U.toString()}return{bytes:j,text:Y}}var p=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function w(G,R){for(var j=[],Y="",k=[9,11,13][R],S=G.readBits(k);S>=2;){var U=G.readBits(11),M=Math.floor(U/45),I=U%45;j.push(p[M].charCodeAt(0),p[I].charCodeAt(0)),Y+=p[M]+p[I],S-=2}if(S===1){var M=G.readBits(6);j.push(p[M].charCodeAt(0)),Y+=p[M]}return{bytes:j,text:Y}}function T(G,R){for(var j=[],Y="",k=[8,16,16][R],S=G.readBits(k),U=0;U<S;U++){var M=G.readBits(8);j.push(M)}try{Y+=decodeURIComponent(j.map(function(I){return"%"+("0"+I.toString(16)).substr(-2)}).join(""))}catch{}return{bytes:j,text:Y}}function L(G,R){for(var j=[],Y="",k=[8,10,12][R],S=G.readBits(k),U=0;U<S;U++){var M=G.readBits(13),I=Math.floor(M/192)<<8|M%192;I<7936?I+=33088:I+=49472,j.push(I>>8,I&255),Y+=String.fromCharCode(h.shiftJISTable[I])}return{bytes:j,text:Y}}function N(G,R){for(var j,Y,k,S,U=new d.BitStream(G),M=R<=9?0:R<=26?1:2,I={text:"",bytes:[],chunks:[],version:R};U.available()>=4;){var z=U.readBits(4);if(z===D.Terminator)return I;if(z===D.ECI)U.readBits(1)===0?I.chunks.push({type:m.ECI,assignmentNumber:U.readBits(7)}):U.readBits(1)===0?I.chunks.push({type:m.ECI,assignmentNumber:U.readBits(14)}):U.readBits(1)===0?I.chunks.push({type:m.ECI,assignmentNumber:U.readBits(21)}):I.chunks.push({type:m.ECI,assignmentNumber:-1});else if(z===D.Numeric){var P=A(U,M);I.text+=P.text,(j=I.bytes).push.apply(j,P.bytes),I.chunks.push({type:m.Numeric,text:P.text})}else if(z===D.Alphanumeric){var xe=w(U,M);I.text+=xe.text,(Y=I.bytes).push.apply(Y,xe.bytes),I.chunks.push({type:m.Alphanumeric,text:xe.text})}else if(z===D.Byte){var ne=T(U,M);I.text+=ne.text,(k=I.bytes).push.apply(k,ne.bytes),I.chunks.push({type:m.Byte,bytes:ne.bytes,text:ne.text})}else if(z===D.Kanji){var q=L(U,M);I.text+=q.text,(S=I.bytes).push.apply(S,q.bytes),I.chunks.push({type:m.Kanji,bytes:q.bytes,text:q.text})}}if(U.available()===0||U.readBits(U.available())===0)return I}c.decode=N}),(function(s,c,f){Object.defineProperty(c,"__esModule",{value:!0});var d=(function(){function h(m){this.byteOffset=0,this.bitOffset=0,this.bytes=m}return h.prototype.readBits=function(m){if(m<1||m>32||m>this.available())throw new Error("Cannot read "+m.toString()+" bits");var D=0;if(this.bitOffset>0){var A=8-this.bitOffset,p=m<A?m:A,w=A-p,T=255>>8-p<<w;D=(this.bytes[this.byteOffset]&T)>>w,m-=p,this.bitOffset+=p,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(m>0){for(;m>=8;)D=D<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,m-=8;if(m>0){var w=8-m,T=255>>w<<w;D=D<<m|(this.bytes[this.byteOffset]&T)>>w,this.bitOffset+=m}}return D},h.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},h})();c.BitStream=d}),(function(s,c,f){Object.defineProperty(c,"__esModule",{value:!0}),c.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}}),(function(s,c,f){Object.defineProperty(c,"__esModule",{value:!0});var d=f(1),h=f(2);function m(w,T,L,N){var G;T.degree()<L.degree()&&(G=[L,T],T=G[0],L=G[1]);for(var R=T,j=L,Y=w.zero,k=w.one;j.degree()>=N/2;){var S=R,U=Y;if(R=j,Y=k,R.isZero())return null;j=S;for(var M=w.zero,I=R.getCoefficient(R.degree()),z=w.inverse(I);j.degree()>=R.degree()&&!j.isZero();){var P=j.degree()-R.degree(),xe=w.multiply(j.getCoefficient(j.degree()),z);M=M.addOrSubtract(w.buildMonomial(P,xe)),j=j.addOrSubtract(R.multiplyByMonomial(P,xe))}if(k=M.multiplyPoly(Y).addOrSubtract(U),j.degree()>=R.degree())return null}var ne=k.getCoefficient(0);if(ne===0)return null;var q=w.inverse(ne);return[k.multiply(q),j.multiply(q)]}function D(w,T){var L=T.degree();if(L===1)return[T.getCoefficient(1)];for(var N=new Array(L),G=0,R=1;R<w.size&&G<L;R++)T.evaluateAt(R)===0&&(N[G]=w.inverse(R),G++);return G!==L?null:N}function A(w,T,L){for(var N=L.length,G=new Array(N),R=0;R<N;R++){for(var j=w.inverse(L[R]),Y=1,k=0;k<N;k++)R!==k&&(Y=w.multiply(Y,d.addOrSubtractGF(1,w.multiply(L[k],j))));G[R]=w.multiply(T.evaluateAt(j),w.inverse(Y)),w.generatorBase!==0&&(G[R]=w.multiply(G[R],j))}return G}function p(w,T){var L=new Uint8ClampedArray(w.length);L.set(w);for(var N=new d.default(285,256,0),G=new h.default(N,L),R=new Uint8ClampedArray(T),j=!1,Y=0;Y<T;Y++){var k=G.evaluateAt(N.exp(Y+N.generatorBase));R[R.length-1-Y]=k,k!==0&&(j=!0)}if(!j)return L;var S=new h.default(N,R),U=m(N,N.buildMonomial(T,1),S,T);if(U===null)return null;var M=D(N,U[0]);if(M==null)return null;for(var I=A(N,U[1],M),z=0;z<M.length;z++){var P=L.length-1-N.log(M[z]);if(P<0)return null;L[P]=d.addOrSubtractGF(L[P],I[z])}return L}c.decode=p}),(function(s,c,f){Object.defineProperty(c,"__esModule",{value:!0}),c.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]}),(function(s,c,f){Object.defineProperty(c,"__esModule",{value:!0});var d=f(0);function h(p,w,T,L){var N=p.x-w.x+T.x-L.x,G=p.y-w.y+T.y-L.y;if(N===0&&G===0)return{a11:w.x-p.x,a12:w.y-p.y,a13:0,a21:T.x-w.x,a22:T.y-w.y,a23:0,a31:p.x,a32:p.y,a33:1};var R=w.x-T.x,j=L.x-T.x,Y=w.y-T.y,k=L.y-T.y,S=R*k-j*Y,U=(N*k-j*G)/S,M=(R*G-N*Y)/S;return{a11:w.x-p.x+U*w.x,a12:w.y-p.y+U*w.y,a13:U,a21:L.x-p.x+M*L.x,a22:L.y-p.y+M*L.y,a23:M,a31:p.x,a32:p.y,a33:1}}function m(p,w,T,L){var N=h(p,w,T,L);return{a11:N.a22*N.a33-N.a23*N.a32,a12:N.a13*N.a32-N.a12*N.a33,a13:N.a12*N.a23-N.a13*N.a22,a21:N.a23*N.a31-N.a21*N.a33,a22:N.a11*N.a33-N.a13*N.a31,a23:N.a13*N.a21-N.a11*N.a23,a31:N.a21*N.a32-N.a22*N.a31,a32:N.a12*N.a31-N.a11*N.a32,a33:N.a11*N.a22-N.a12*N.a21}}function D(p,w){return{a11:p.a11*w.a11+p.a21*w.a12+p.a31*w.a13,a12:p.a12*w.a11+p.a22*w.a12+p.a32*w.a13,a13:p.a13*w.a11+p.a23*w.a12+p.a33*w.a13,a21:p.a11*w.a21+p.a21*w.a22+p.a31*w.a23,a22:p.a12*w.a21+p.a22*w.a22+p.a32*w.a23,a23:p.a13*w.a21+p.a23*w.a22+p.a33*w.a23,a31:p.a11*w.a31+p.a21*w.a32+p.a31*w.a33,a32:p.a12*w.a31+p.a22*w.a32+p.a32*w.a33,a33:p.a13*w.a31+p.a23*w.a32+p.a33*w.a33}}function A(p,w){for(var T=m({x:3.5,y:3.5},{x:w.dimension-3.5,y:3.5},{x:w.dimension-6.5,y:w.dimension-6.5},{x:3.5,y:w.dimension-3.5}),L=h(w.topLeft,w.topRight,w.alignmentPattern,w.bottomLeft),N=D(L,T),G=d.BitMatrix.createEmpty(w.dimension,w.dimension),R=function(M,I){var z=N.a13*M+N.a23*I+N.a33;return{x:(N.a11*M+N.a21*I+N.a31)/z,y:(N.a12*M+N.a22*I+N.a32)/z}},j=0;j<w.dimension;j++)for(var Y=0;Y<w.dimension;Y++){var k=Y+.5,S=j+.5,U=R(k,S);G.set(Y,j,p.get(Math.floor(U.x),Math.floor(U.y)))}return{matrix:G,mappingFunction:R}}c.extract=A}),(function(s,c,f){Object.defineProperty(c,"__esModule",{value:!0});var d=4,h=.5,m=1.5,D=function(k,S){return Math.sqrt(Math.pow(S.x-k.x,2)+Math.pow(S.y-k.y,2))};function A(k){return k.reduce(function(S,U){return S+U})}function p(k,S,U){var M,I,z,P,xe=D(k,S),ne=D(S,U),q=D(k,U),te,oe,O;return ne>=xe&&ne>=q?(M=[S,k,U],te=M[0],oe=M[1],O=M[2]):q>=ne&&q>=xe?(I=[k,S,U],te=I[0],oe=I[1],O=I[2]):(z=[k,U,S],te=z[0],oe=z[1],O=z[2]),(O.x-oe.x)*(te.y-oe.y)-(O.y-oe.y)*(te.x-oe.x)<0&&(P=[O,te],te=P[0],O=P[1]),{bottomLeft:te,topLeft:oe,topRight:O}}function w(k,S,U,M){var I=(A(L(k,U,M,5))/7+A(L(k,S,M,5))/7+A(L(U,k,M,5))/7+A(L(S,k,M,5))/7)/4;if(I<1)throw new Error("Invalid module size");var z=Math.round(D(k,S)/I),P=Math.round(D(k,U)/I),xe=Math.floor((z+P)/2)+7;switch(xe%4){case 0:xe++;break;case 2:xe--;break}return{dimension:xe,moduleSize:I}}function T(k,S,U,M){var I=[{x:Math.floor(k.x),y:Math.floor(k.y)}],z=Math.abs(S.y-k.y)>Math.abs(S.x-k.x),P,xe,ne,q;z?(P=Math.floor(k.y),xe=Math.floor(k.x),ne=Math.floor(S.y),q=Math.floor(S.x)):(P=Math.floor(k.x),xe=Math.floor(k.y),ne=Math.floor(S.x),q=Math.floor(S.y));for(var te=Math.abs(ne-P),oe=Math.abs(q-xe),O=Math.floor(-te/2),ce=P<ne?1:-1,Z=xe<q?1:-1,De=!0,be=P,Fe=xe;be!==ne+ce;be+=ce){var ae=z?Fe:be,fe=z?be:Fe;if(U.get(ae,fe)!==De&&(De=!De,I.push({x:ae,y:fe}),I.length===M+1))break;if(O+=oe,O>0){if(Fe===q)break;Fe+=Z,O-=te}}for(var Oe=[],le=0;le<M;le++)I[le]&&I[le+1]?Oe.push(D(I[le],I[le+1])):Oe.push(0);return Oe}function L(k,S,U,M){var I,z=S.y-k.y,P=S.x-k.x,xe=T(k,S,U,Math.ceil(M/2)),ne=T(k,{x:k.x-P,y:k.y-z},U,Math.ceil(M/2)),q=xe.shift()+ne.shift()-1;return(I=ne.concat(q)).concat.apply(I,xe)}function N(k,S){var U=A(k)/A(S),M=0;return S.forEach(function(I,z){M+=Math.pow(k[z]-I*U,2)}),{averageSize:U,error:M}}function G(k,S,U){try{var M=L(k,{x:-1,y:k.y},U,S.length),I=L(k,{x:k.x,y:-1},U,S.length),z={x:Math.max(0,k.x-k.y)-1,y:Math.max(0,k.y-k.x)-1},P=L(k,z,U,S.length),xe={x:Math.min(U.width,k.x+k.y)+1,y:Math.min(U.height,k.y+k.x)+1},ne=L(k,xe,U,S.length),q=N(M,S),te=N(I,S),oe=N(P,S),O=N(ne,S),ce=Math.sqrt(q.error*q.error+te.error*te.error+oe.error*oe.error+O.error*O.error),Z=(q.averageSize+te.averageSize+oe.averageSize+O.averageSize)/4,De=(Math.pow(q.averageSize-Z,2)+Math.pow(te.averageSize-Z,2)+Math.pow(oe.averageSize-Z,2)+Math.pow(O.averageSize-Z,2))/Z;return ce+De}catch{return 1/0}}function R(k,S){for(var U=Math.round(S.x);k.get(U,Math.round(S.y));)U--;for(var M=Math.round(S.x);k.get(M,Math.round(S.y));)M++;for(var I=(U+M)/2,z=Math.round(S.y);k.get(Math.round(I),z);)z--;for(var P=Math.round(S.y);k.get(Math.round(I),P);)P++;var xe=(z+P)/2;return{x:I,y:xe}}function j(k){for(var S=[],U=[],M=[],I=[],z=function(ae){for(var fe=0,Oe=!1,le=[0,0,0,0,0],mt=function(ge){var Ie=k.get(ge,ae);if(Ie===Oe)fe++;else{le=[le[1],le[2],le[3],le[4],fe],fe=1,Oe=Ie;var xt=A(le)/7,Ht=Math.abs(le[0]-xt)<xt&&Math.abs(le[1]-xt)<xt&&Math.abs(le[2]-3*xt)<3*xt&&Math.abs(le[3]-xt)<xt&&Math.abs(le[4]-xt)<xt&&!Ie,je=A(le.slice(-3))/3,jt=Math.abs(le[2]-je)<je&&Math.abs(le[3]-je)<je&&Math.abs(le[4]-je)<je&&Ie;if(Ht){var we=ge-le[3]-le[4],ht=we-le[2],Je={startX:ht,endX:we,y:ae},Dt=U.filter(function(Ce){return ht>=Ce.bottom.startX&&ht<=Ce.bottom.endX||we>=Ce.bottom.startX&&ht<=Ce.bottom.endX||ht<=Ce.bottom.startX&&we>=Ce.bottom.endX&&le[2]/(Ce.bottom.endX-Ce.bottom.startX)<m&&le[2]/(Ce.bottom.endX-Ce.bottom.startX)>h});Dt.length>0?Dt[0].bottom=Je:U.push({top:Je,bottom:Je})}if(jt){var We=ge-le[4],ve=We-le[3],Je={startX:ve,y:ae,endX:We},Dt=I.filter(function(ie){return ve>=ie.bottom.startX&&ve<=ie.bottom.endX||We>=ie.bottom.startX&&ve<=ie.bottom.endX||ve<=ie.bottom.startX&&We>=ie.bottom.endX&&le[2]/(ie.bottom.endX-ie.bottom.startX)<m&&le[2]/(ie.bottom.endX-ie.bottom.startX)>h});Dt.length>0?Dt[0].bottom=Je:I.push({top:Je,bottom:Je})}}},J=-1;J<=k.width;J++)mt(J);S.push.apply(S,U.filter(function(ge){return ge.bottom.y!==ae&&ge.bottom.y-ge.top.y>=2})),U=U.filter(function(ge){return ge.bottom.y===ae}),M.push.apply(M,I.filter(function(ge){return ge.bottom.y!==ae})),I=I.filter(function(ge){return ge.bottom.y===ae})},P=0;P<=k.height;P++)z(P);S.push.apply(S,U.filter(function(ae){return ae.bottom.y-ae.top.y>=2})),M.push.apply(M,I);var xe=S.filter(function(ae){return ae.bottom.y-ae.top.y>=2}).map(function(ae){var fe=(ae.top.startX+ae.top.endX+ae.bottom.startX+ae.bottom.endX)/4,Oe=(ae.top.y+ae.bottom.y+1)/2;if(k.get(Math.round(fe),Math.round(Oe))){var le=[ae.top.endX-ae.top.startX,ae.bottom.endX-ae.bottom.startX,ae.bottom.y-ae.top.y+1],mt=A(le)/le.length,J=G({x:Math.round(fe),y:Math.round(Oe)},[1,1,3,1,1],k);return{score:J,x:fe,y:Oe,size:mt}}}).filter(function(ae){return!!ae}).sort(function(ae,fe){return ae.score-fe.score}).map(function(ae,fe,Oe){if(fe>d)return null;var le=Oe.filter(function(J,ge){return fe!==ge}).map(function(J){return{x:J.x,y:J.y,score:J.score+Math.pow(J.size-ae.size,2)/ae.size,size:J.size}}).sort(function(J,ge){return J.score-ge.score});if(le.length<2)return null;var mt=ae.score+le[0].score+le[1].score;return{points:[ae].concat(le.slice(0,2)),score:mt}}).filter(function(ae){return!!ae}).sort(function(ae,fe){return ae.score-fe.score});if(xe.length===0)return null;var ne=p(xe[0].points[0],xe[0].points[1],xe[0].points[2]),q=ne.topRight,te=ne.topLeft,oe=ne.bottomLeft,O=Y(k,M,q,te,oe),ce=[];O&&ce.push({alignmentPattern:{x:O.alignmentPattern.x,y:O.alignmentPattern.y},bottomLeft:{x:oe.x,y:oe.y},dimension:O.dimension,topLeft:{x:te.x,y:te.y},topRight:{x:q.x,y:q.y}});var Z=R(k,q),De=R(k,te),be=R(k,oe),Fe=Y(k,M,Z,De,be);return Fe&&ce.push({alignmentPattern:{x:Fe.alignmentPattern.x,y:Fe.alignmentPattern.y},bottomLeft:{x:be.x,y:be.y},topLeft:{x:De.x,y:De.y},topRight:{x:Z.x,y:Z.y},dimension:Fe.dimension}),ce.length===0?null:ce}c.locate=j;function Y(k,S,U,M,I){var z,P,xe;try{z=w(M,U,I,k),P=z.dimension,xe=z.moduleSize}catch{return null}var ne={x:U.x-M.x+I.x,y:U.y-M.y+I.y},q=(D(M,I)+D(M,U))/2/xe,te=1-3/q,oe={x:M.x+te*(ne.x-M.x),y:M.y+te*(ne.y-M.y)},O=S.map(function(Z){var De=(Z.top.startX+Z.top.endX+Z.bottom.startX+Z.bottom.endX)/4,be=(Z.top.y+Z.bottom.y+1)/2;if(k.get(Math.floor(De),Math.floor(be))){var Fe=[Z.top.endX-Z.top.startX,Z.bottom.endX-Z.bottom.startX,Z.bottom.y-Z.top.y+1];A(Fe)/Fe.length;var ae=G({x:Math.floor(De),y:Math.floor(be)},[1,1,1],k),fe=ae+D({x:De,y:be},oe);return{x:De,y:be,score:fe}}}).filter(function(Z){return!!Z}).sort(function(Z,De){return Z.score-De.score}),ce=q>=15&&O.length?O[0]:oe;return{alignmentPattern:ce,dimension:P}}})]).default})})(jsQR$2)),jsQR$2.exports}var jsQRExports=requireJsQR();const jsQR=getDefaultExportFromCjs(jsQRExports);window.Alpine=module_default;window.htmx=htmx$1;window.jsQR=jsQR;window.Html5Qrcode=Html5Qrcode$1;module_default.start();
